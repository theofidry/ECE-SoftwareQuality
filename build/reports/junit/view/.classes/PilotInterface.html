


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="htmlId">
<head>
  <title>Coverage Report :: PilotInterface</title>
  <style type="text/css">
    @import "../../.css/coverage.css";
  </style>
</head>

<body>
<div class="header"></div>

<div class="content">
<div class="breadCrumbs">
    [ <a href="../../index.html">all classes</a> ]
    [ <a href="../index.html">view</a> ]
</div>

<h1>Coverage Summary for Class: PilotInterface (view)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">PilotInterface</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (4/ 4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (61/ 61)
  </span>
</td>
</tr>
  <tr>
    <td class="name">PilotInterface$1</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (1/ 2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    33.3%
  </span>
  <span class="absValue">
    (1/ 3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">PilotInterface$HandleChangeListener</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (2/ 2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (8/ 8)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">PilotInterface$HandleChangeListener$1</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (1/ 2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    33.3%
  </span>
  <span class="absValue">
    (1/ 3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">PilotInterface$HandleChangeListener$2</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (1/ 2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    33.3%
  </span>
  <span class="absValue">
    (1/ 3)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>total</strong></td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (9/ 12)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    92.3%
  </span>
  <span class="absValue">
    (72/ 78)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<div class="sourceCode"><i>1</i>&nbsp;package view;
<i>2</i>&nbsp;
<i>3</i>&nbsp;import model.Plane;
<i>4</i>&nbsp;import org.jdesktop.swingx.VerticalLayout;
<i>5</i>&nbsp;
<i>6</i>&nbsp;import javax.swing.JLabel;
<i>7</i>&nbsp;import javax.swing.JPanel;
<i>8</i>&nbsp;import javax.swing.JSeparator;
<i>9</i>&nbsp;import javax.swing.JSlider;
<i>10</i>&nbsp;import javax.swing.SwingConstants;
<i>11</i>&nbsp;import javax.swing.event.ChangeEvent;
<i>12</i>&nbsp;import javax.swing.event.ChangeListener;
<i>13</i>&nbsp;import java.awt.BorderLayout;
<i>14</i>&nbsp;import java.awt.FlowLayout;
<i>15</i>&nbsp;import java.util.TimerTask;
<i>16</i>&nbsp;
<i>17</i>&nbsp;/**
<i>18</i>&nbsp; * Plane pilot interface.
<i>19</i>&nbsp; */
<b class="fc"><i>20</i>&nbsp;public class PilotInterface extends JPanel {</b>
<i>21</i>&nbsp;
<i>22</i>&nbsp;    /**
<i>23</i>&nbsp;     * Inertia of the handle in ms (simulation of the handle -&gt; switch).
<i>24</i>&nbsp;     */
<i>25</i>&nbsp;    public static final int HANDLE_INERTIA = 1000;
<i>26</i>&nbsp;
<i>27</i>&nbsp;    /**
<i>28</i>&nbsp;     * Timer used to make threaded actions with delays.
<i>29</i>&nbsp;     */
<b class="fc"><i>30</i>&nbsp;    private java.util.Timer timer = new java.util.Timer();</b>
<i>31</i>&nbsp;
<i>32</i>&nbsp;    /**
<i>33</i>&nbsp;     * Panel&#39;s model.
<i>34</i>&nbsp;     */
<i>35</i>&nbsp;    private Plane plane;
<i>36</i>&nbsp;
<i>37</i>&nbsp;    /**
<i>38</i>&nbsp;     * Get the handle panel.
<i>39</i>&nbsp;     *
<i>40</i>&nbsp;     * @return handle panel
<i>41</i>&nbsp;     */
<i>42</i>&nbsp;    public HandlePanel getHandlePanel() {
<b class="fc"><i>43</i>&nbsp;        return (HandlePanel) handleContainer.getComponent(0);</b>
<i>44</i>&nbsp;    }
<i>45</i>&nbsp;
<i>46</i>&nbsp;    /**
<i>47</i>&nbsp;     * Plane pilot interface.
<i>48</i>&nbsp;     *
<i>49</i>&nbsp;     * @param plane pass the plane model to the view
<i>50</i>&nbsp;     */
<b class="fc"><i>51</i>&nbsp;    public PilotInterface(Plane plane) {</b>
<i>52</i>&nbsp;
<b class="fc"><i>53</i>&nbsp;        this.plane = plane;</b>
<i>54</i>&nbsp;
<i>55</i>&nbsp;        // Form init
<b class="fc"><i>56</i>&nbsp;        initComponents();</b>
<i>57</i>&nbsp;
<i>58</i>&nbsp;
<i>59</i>&nbsp;        /*
<i>60</i>&nbsp;         Customisation
<i>61</i>&nbsp;          */
<i>62</i>&nbsp;        // Lights
<b class="fc"><i>63</i>&nbsp;        lightsContainer.add(new LightsPanel(this.plane.getLights()));</b>
<i>64</i>&nbsp;
<i>65</i>&nbsp;        // Doors
<b class="fc"><i>66</i>&nbsp;        doorsContainer.add(new DoorPanel(this.plane.getDoors()[0], &quot;Front Door&quot;));</b>
<b class="fc"><i>67</i>&nbsp;        doorsContainer.add(new DoorPanel(this.plane.getDoors()[1], &quot;Left Door&quot;));</b>
<b class="fc"><i>68</i>&nbsp;        doorsContainer.add(new DoorPanel(this.plane.getDoors()[2], &quot;Right Door&quot;));</b>
<i>69</i>&nbsp;
<i>70</i>&nbsp;        // Gears
<b class="fc"><i>71</i>&nbsp;        landingGearsContainer.add(new LandingGearPanel(this.plane.getLandingGears()[0], &quot;Front Gear&quot;));</b>
<b class="fc"><i>72</i>&nbsp;        landingGearsContainer.add(new LandingGearPanel(this.plane.getLandingGears()[1], &quot;Left Gear&quot;));</b>
<b class="fc"><i>73</i>&nbsp;        landingGearsContainer.add(new LandingGearPanel(this.plane.getLandingGears()[2], &quot;Right Gear&quot;));</b>
<i>74</i>&nbsp;
<i>75</i>&nbsp;        // Handle
<b class="fc"><i>76</i>&nbsp;        handleContainer.add(new HandlePanel(this.plane.getHandle(), new HandleChangeListener()));</b>
<i>77</i>&nbsp;
<i>78</i>&nbsp;        /*
<i>79</i>&nbsp;        TODO:
<i>80</i>&nbsp;        - if and only if all gears are in deployed state -&gt; gears locked down true displayed
<i>81</i>&nbsp;        - gears manoeuvring: if and only if at least one door or one gear is maneuvering, i.e., at least one door is not locked in closed position or one gear is not locked in extension or retraction position.
<i>82</i>&nbsp;         */
<i>83</i>&nbsp;
<b class="fc"><i>84</i>&nbsp;    }</b>
<i>85</i>&nbsp;
<i>86</i>&nbsp;    /**
<i>87</i>&nbsp;     * When the slider changes of value, process the software.
<i>88</i>&nbsp;     */
<b class="fc"><i>89</i>&nbsp;    private class HandleChangeListener implements ChangeListener {</b>
<i>90</i>&nbsp;
<i>91</i>&nbsp;        @Override
<i>92</i>&nbsp;        public void stateChanged(ChangeEvent evt) {
<i>93</i>&nbsp;
<b class="fc"><i>94</i>&nbsp;            JSlider source = (JSlider) evt.getSource();</b>
<i>95</i>&nbsp;            TimerTask task;
<i>96</i>&nbsp;
<b class="fc"><i>97</i>&nbsp;            if (!source.getValueIsAdjusting()) {</b>
<i>98</i>&nbsp;
<b class="fc"><i>99</i>&nbsp;                if (source.getValue() == 1) {</b>
<b class="fc"><i>100</i>&nbsp;                    task = new TimerTask() {</b>
<i>101</i>&nbsp;                        @Override
<i>102</i>&nbsp;                        public void run() {
<b class="nc"><i>103</i>&nbsp;                            plane.getHandle().pushUp();</b>
<b class="nc"><i>104</i>&nbsp;                        }</b>
<i>105</i>&nbsp;                    };
<i>106</i>&nbsp;                } else {
<b class="fc"><i>107</i>&nbsp;                    task = new TimerTask() {</b>
<i>108</i>&nbsp;                        @Override
<i>109</i>&nbsp;                        public void run() {
<b class="nc"><i>110</i>&nbsp;                            plane.getHandle().pushDown();</b>
<b class="nc"><i>111</i>&nbsp;                        }</b>
<i>112</i>&nbsp;                    };
<i>113</i>&nbsp;                }
<i>114</i>&nbsp;
<i>115</i>&nbsp;                // Change the plane&#39;s handle with a little delay to simulate the time of transmission
<b class="fc"><i>116</i>&nbsp;                timer.schedule(task, HANDLE_INERTIA);</b>
<i>117</i>&nbsp;            }
<b class="fc"><i>118</i>&nbsp;        }</b>
<i>119</i>&nbsp;    }
<i>120</i>&nbsp;
<i>121</i>&nbsp;    /**
<i>122</i>&nbsp;     * JForm designer initializer.
<i>123</i>&nbsp;     */
<i>124</i>&nbsp;    private void initComponents() {
<i>125</i>&nbsp;        // JFormDesigner - Component initialization - DO NOT MODIFY  //GEN-BEGIN:initComponents
<i>126</i>&nbsp;        // Generated using JFormDesigner Evaluation license - ThÃ©o Fidry
<b class="fc"><i>127</i>&nbsp;        JPanel panel2 = new JPanel();</b>
<b class="fc"><i>128</i>&nbsp;        JPanel panel1 = new JPanel();</b>
<b class="fc"><i>129</i>&nbsp;        doorsContainer = new JPanel();</b>
<b class="fc"><i>130</i>&nbsp;        JPanel vSpacer2 = new JPanel(null);</b>
<b class="fc"><i>131</i>&nbsp;        JLabel doorsPanelTitle = new JLabel();</b>
<b class="fc"><i>132</i>&nbsp;        JPanel vSpacer4 = new JPanel(null);</b>
<b class="fc"><i>133</i>&nbsp;        landingGearsContainer = new JPanel();</b>
<b class="fc"><i>134</i>&nbsp;        JPanel vSpacer1 = new JPanel(null);</b>
<b class="fc"><i>135</i>&nbsp;        JSeparator separator = new JSeparator();</b>
<b class="fc"><i>136</i>&nbsp;        JPanel vSpacer3 = new JPanel(null);</b>
<b class="fc"><i>137</i>&nbsp;        JLabel gearsPanelTitle = new JLabel();</b>
<b class="fc"><i>138</i>&nbsp;        JPanel vSpacer5 = new JPanel(null);</b>
<b class="fc"><i>139</i>&nbsp;        JPanel hSpacer2 = new JPanel(null);</b>
<b class="fc"><i>140</i>&nbsp;        lightsContainer = new JPanel();</b>
<b class="fc"><i>141</i>&nbsp;        JPanel hSpacer1 = new JPanel(null);</b>
<b class="fc"><i>142</i>&nbsp;        handleContainer = new JPanel();</b>
<i>143</i>&nbsp;
<i>144</i>&nbsp;        //======== this ========
<i>145</i>&nbsp;
<i>146</i>&nbsp;        // JFormDesigner evaluation mark
<b class="fc"><i>147</i>&nbsp;        setBorder(new javax.swing.border.CompoundBorder(</b>
<i>148</i>&nbsp;                new javax.swing.border.TitledBorder(new javax.swing.border.EmptyBorder(0, 0, 0, 0),
<i>149</i>&nbsp;                        &quot;JFormDesigner Evaluation&quot;, javax.swing.border.TitledBorder.CENTER,
<i>150</i>&nbsp;                        javax.swing.border.TitledBorder.BOTTOM, new java.awt.Font(&quot;Dialog&quot;, java.awt.Font.BOLD, 12),
<i>151</i>&nbsp;                        java.awt.Color.red), getBorder()));
<b class="fc"><i>152</i>&nbsp;        addPropertyChangeListener(new java.beans.PropertyChangeListener() {</b>
<i>153</i>&nbsp;            public void propertyChange(java.beans.PropertyChangeEvent e) {
<b class="nc"><i>154</i>&nbsp;                if (&quot;border&quot;.equals(e.getPropertyName())) { throw new RuntimeException(); }</b>
<b class="nc"><i>155</i>&nbsp;            }</b>
<i>156</i>&nbsp;        });
<i>157</i>&nbsp;
<b class="fc"><i>158</i>&nbsp;        setLayout(new FlowLayout());</b>
<i>159</i>&nbsp;
<i>160</i>&nbsp;        //======== panel2 ========
<i>161</i>&nbsp;        {
<b class="fc"><i>162</i>&nbsp;            panel2.setLayout(new BorderLayout());</b>
<i>163</i>&nbsp;
<i>164</i>&nbsp;            //======== panel1 ========
<i>165</i>&nbsp;            {
<b class="fc"><i>166</i>&nbsp;                panel1.setLayout(new VerticalLayout());</b>
<i>167</i>&nbsp;
<i>168</i>&nbsp;                //======== doorsContainer ========
<i>169</i>&nbsp;                {
<b class="fc"><i>170</i>&nbsp;                    doorsContainer.setLayout(new VerticalLayout());</b>
<b class="fc"><i>171</i>&nbsp;                    doorsContainer.add(vSpacer2);</b>
<i>172</i>&nbsp;
<i>173</i>&nbsp;                    //---- doorsPanelTitle ----
<b class="fc"><i>174</i>&nbsp;                    doorsPanelTitle.setText(&quot;Doors&quot;);</b>
<b class="fc"><i>175</i>&nbsp;                    doorsPanelTitle.setHorizontalAlignment(SwingConstants.CENTER);</b>
<b class="fc"><i>176</i>&nbsp;                    doorsContainer.add(doorsPanelTitle);</b>
<b class="fc"><i>177</i>&nbsp;                    doorsContainer.add(vSpacer4);</b>
<i>178</i>&nbsp;                }
<b class="fc"><i>179</i>&nbsp;                panel1.add(doorsContainer);</b>
<i>180</i>&nbsp;
<i>181</i>&nbsp;                //======== landingGearsContainer ========
<i>182</i>&nbsp;                {
<b class="fc"><i>183</i>&nbsp;                    landingGearsContainer.setLayout(new VerticalLayout());</b>
<b class="fc"><i>184</i>&nbsp;                    landingGearsContainer.add(vSpacer1);</b>
<b class="fc"><i>185</i>&nbsp;                    landingGearsContainer.add(separator);</b>
<b class="fc"><i>186</i>&nbsp;                    landingGearsContainer.add(vSpacer3);</b>
<i>187</i>&nbsp;
<i>188</i>&nbsp;                    //---- gearsPanelTitle ----
<b class="fc"><i>189</i>&nbsp;                    gearsPanelTitle.setText(&quot;Landing Gears&quot;);</b>
<b class="fc"><i>190</i>&nbsp;                    gearsPanelTitle.setHorizontalAlignment(SwingConstants.CENTER);</b>
<b class="fc"><i>191</i>&nbsp;                    landingGearsContainer.add(gearsPanelTitle);</b>
<b class="fc"><i>192</i>&nbsp;                    landingGearsContainer.add(vSpacer5);</b>
<i>193</i>&nbsp;                }
<b class="fc"><i>194</i>&nbsp;                panel1.add(landingGearsContainer);</b>
<i>195</i>&nbsp;            }
<b class="fc"><i>196</i>&nbsp;            panel2.add(panel1, BorderLayout.CENTER);</b>
<i>197</i>&nbsp;        }
<b class="fc"><i>198</i>&nbsp;        add(panel2);</b>
<b class="fc"><i>199</i>&nbsp;        add(hSpacer2);</b>
<i>200</i>&nbsp;
<i>201</i>&nbsp;        //======== lightsContainer ========
<i>202</i>&nbsp;        {
<b class="fc"><i>203</i>&nbsp;            lightsContainer.setLayout(new BorderLayout());</b>
<i>204</i>&nbsp;        }
<b class="fc"><i>205</i>&nbsp;        add(lightsContainer);</b>
<b class="fc"><i>206</i>&nbsp;        add(hSpacer1);</b>
<i>207</i>&nbsp;
<i>208</i>&nbsp;        //======== handleContainer ========
<i>209</i>&nbsp;        {
<b class="fc"><i>210</i>&nbsp;            handleContainer.setLayout(new BorderLayout());</b>
<i>211</i>&nbsp;        }
<b class="fc"><i>212</i>&nbsp;        add(handleContainer);</b>
<i>213</i>&nbsp;        // JFormDesigner - End of component initialization  //GEN-END:initComponents
<b class="fc"><i>214</i>&nbsp;    }</b>
<i>215</i>&nbsp;
<i>216</i>&nbsp;    // JFormDesigner - Variables declaration - DO NOT MODIFY  //GEN-BEGIN:variables
<i>217</i>&nbsp;    // Generated using JFormDesigner Evaluation license - ThÃ©o Fidry
<i>218</i>&nbsp;    private JPanel doorsContainer;
<i>219</i>&nbsp;    private JPanel landingGearsContainer;
<i>220</i>&nbsp;    private JPanel lightsContainer;
<i>221</i>&nbsp;    private JPanel handleContainer;
<i>222</i>&nbsp;    // JFormDesigner - End of variables declaration  //GEN-END:variables
<i>223</i>&nbsp;}
</div>
</div>

<div class="footer">
    
    <div style="float:right;">generated on 2014-12-21 15:53</div>
</div>
</body>
</html>
