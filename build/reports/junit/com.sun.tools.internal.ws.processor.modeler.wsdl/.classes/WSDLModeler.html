


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="htmlId">
<head>
  <title>Coverage Report :: WSDLModeler</title>
  <style type="text/css">
    @import "../../.css/coverage.css";
  </style>
</head>

<body>
<div class="header"></div>

<div class="content">
<div class="breadCrumbs">
    [ <a href="../../index.html">all classes</a> ]
    [ <a href="../index.html">com.sun.tools.internal.ws.processor.modeler.wsdl</a> ]
</div>

<h1>Coverage Summary for Class: WSDLModeler (com.sun.tools.internal.ws.processor.modeler.wsdl)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">WSDLModeler</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 65)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 1560)
  </span>
</td>
</tr>
  <tr>
    <td class="name">WSDLModeler$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">WSDLModeler$StyleAndUse</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 2)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 68)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 1566)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<div class="sourceCode"><i>1</i>&nbsp;//
<i>2</i>&nbsp;// Source code recreated from a .class file by IntelliJ IDEA
<i>3</i>&nbsp;// (powered by Fernflower decompiler)
<i>4</i>&nbsp;//
<i>5</i>&nbsp;
<i>6</i>&nbsp;package com.sun.tools.internal.ws.processor.modeler.wsdl;
<i>7</i>&nbsp;
<i>8</i>&nbsp;import com.sun.codemodel.internal.JClass;
<i>9</i>&nbsp;import com.sun.istack.internal.SAXParseException2;
<i>10</i>&nbsp;import com.sun.tools.internal.ws.api.wsdl.TWSDLExtensible;
<i>11</i>&nbsp;import com.sun.tools.internal.ws.processor.generator.Names;
<i>12</i>&nbsp;import com.sun.tools.internal.ws.processor.model.AbstractType;
<i>13</i>&nbsp;import com.sun.tools.internal.ws.processor.model.AsyncOperation;
<i>14</i>&nbsp;import com.sun.tools.internal.ws.processor.model.AsyncOperationType;
<i>15</i>&nbsp;import com.sun.tools.internal.ws.processor.model.Block;
<i>16</i>&nbsp;import com.sun.tools.internal.ws.processor.model.Model;
<i>17</i>&nbsp;import com.sun.tools.internal.ws.processor.model.ModelException;
<i>18</i>&nbsp;import com.sun.tools.internal.ws.processor.model.ModelObject;
<i>19</i>&nbsp;import com.sun.tools.internal.ws.processor.model.Operation;
<i>20</i>&nbsp;import com.sun.tools.internal.ws.processor.model.Parameter;
<i>21</i>&nbsp;import com.sun.tools.internal.ws.processor.model.Request;
<i>22</i>&nbsp;import com.sun.tools.internal.ws.processor.model.Response;
<i>23</i>&nbsp;import com.sun.tools.internal.ws.processor.model.java.JavaException;
<i>24</i>&nbsp;import com.sun.tools.internal.ws.processor.model.java.JavaInterface;
<i>25</i>&nbsp;import com.sun.tools.internal.ws.processor.model.java.JavaMethod;
<i>26</i>&nbsp;import com.sun.tools.internal.ws.processor.model.java.JavaParameter;
<i>27</i>&nbsp;import com.sun.tools.internal.ws.processor.model.java.JavaSimpleType;
<i>28</i>&nbsp;import com.sun.tools.internal.ws.processor.model.java.JavaStructureMember;
<i>29</i>&nbsp;import com.sun.tools.internal.ws.processor.model.java.JavaType;
<i>30</i>&nbsp;import com.sun.tools.internal.ws.processor.model.jaxb.JAXBElementMember;
<i>31</i>&nbsp;import com.sun.tools.internal.ws.processor.model.jaxb.JAXBMapping;
<i>32</i>&nbsp;import com.sun.tools.internal.ws.processor.model.jaxb.JAXBProperty;
<i>33</i>&nbsp;import com.sun.tools.internal.ws.processor.model.jaxb.JAXBStructuredType;
<i>34</i>&nbsp;import com.sun.tools.internal.ws.processor.model.jaxb.JAXBType;
<i>35</i>&nbsp;import com.sun.tools.internal.ws.processor.model.jaxb.JAXBTypeAndAnnotation;
<i>36</i>&nbsp;import com.sun.tools.internal.ws.processor.model.jaxb.RpcLitStructure;
<i>37</i>&nbsp;import com.sun.tools.internal.ws.processor.modeler.JavaSimpleTypeCreator;
<i>38</i>&nbsp;import com.sun.tools.internal.ws.processor.modeler.wsdl.JAXBModelBuilder;
<i>39</i>&nbsp;import com.sun.tools.internal.ws.processor.modeler.wsdl.ModelerUtils;
<i>40</i>&nbsp;import com.sun.tools.internal.ws.processor.modeler.wsdl.PseudoSchemaBuilder;
<i>41</i>&nbsp;import com.sun.tools.internal.ws.processor.modeler.wsdl.WSDLModelerBase;
<i>42</i>&nbsp;import com.sun.tools.internal.ws.processor.modeler.wsdl.WSDLModelerBase.ProcessSOAPOperationInfo;
<i>43</i>&nbsp;import com.sun.tools.internal.ws.processor.util.ClassNameCollector;
<i>44</i>&nbsp;import com.sun.tools.internal.ws.resources.ModelerMessages;
<i>45</i>&nbsp;import com.sun.tools.internal.ws.wscompile.ErrorReceiver;
<i>46</i>&nbsp;import com.sun.tools.internal.ws.wscompile.WsimportOptions;
<i>47</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.Binding;
<i>48</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.BindingFault;
<i>49</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.BindingOperation;
<i>50</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.Documentation;
<i>51</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.Fault;
<i>52</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.Kinds;
<i>53</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.Message;
<i>54</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.MessagePart;
<i>55</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.OperationStyle;
<i>56</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.Port;
<i>57</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.PortType;
<i>58</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.Service;
<i>59</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.WSDLConstants;
<i>60</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.WSDLDocument;
<i>61</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.jaxws.CustomName;
<i>62</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.jaxws.JAXWSBinding;
<i>63</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.mime.MIMEContent;
<i>64</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.schema.SchemaKinds;
<i>65</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAP12Binding;
<i>66</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAPAddress;
<i>67</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAPBinding;
<i>68</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAPBody;
<i>69</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAPFault;
<i>70</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAPHeader;
<i>71</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAPOperation;
<i>72</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAPStyle;
<i>73</i>&nbsp;import com.sun.tools.internal.ws.wsdl.document.soap.SOAPUse;
<i>74</i>&nbsp;import com.sun.tools.internal.ws.wsdl.framework.Entity;
<i>75</i>&nbsp;import com.sun.tools.internal.ws.wsdl.framework.NoSuchEntityException;
<i>76</i>&nbsp;import com.sun.tools.internal.ws.wsdl.framework.ParseException;
<b class="nc"><i>77</i>&nbsp;import com.sun.tools.internal.ws.wsdl.framework.ParserListener;</b>
<b class="nc"><i>78</i>&nbsp;import com.sun.tools.internal.ws.wsdl.framework.ValidationException;</b>
<i>79</i>&nbsp;import com.sun.tools.internal.ws.wsdl.parser.MetadataFinder;
<i>80</i>&nbsp;import com.sun.tools.internal.ws.wsdl.parser.WSDLParser;
<i>81</i>&nbsp;import com.sun.tools.internal.xjc.api.S2JJAXBModel;
<i>82</i>&nbsp;import com.sun.tools.internal.xjc.api.TypeAndAnnotation;
<b class="nc"><i>83</i>&nbsp;import com.sun.tools.internal.xjc.api.XJC;</b>
<b class="nc"><i>84</i>&nbsp;import com.sun.xml.internal.bind.api.JAXBRIContext;</b>
<b class="nc"><i>85</i>&nbsp;import com.sun.xml.internal.ws.util.xml.XmlUtil;</b>
<i>86</i>&nbsp;import java.io.IOException;
<i>87</i>&nbsp;import java.util.ArrayList;
<i>88</i>&nbsp;import java.util.HashMap;
<b class="nc"><i>89</i>&nbsp;import java.util.HashSet;</b>
<b class="nc"><i>90</i>&nbsp;import java.util.Iterator;</b>
<i>91</i>&nbsp;import java.util.List;
<i>92</i>&nbsp;import java.util.Map;
<i>93</i>&nbsp;import java.util.Set;
<i>94</i>&nbsp;import java.util.StringTokenizer;
<i>95</i>&nbsp;import javax.jws.WebParam.Mode;
<i>96</i>&nbsp;import javax.xml.namespace.QName;
<i>97</i>&nbsp;import javax.xml.ws.Holder;
<b class="nc"><i>98</i>&nbsp;import org.xml.sax.InputSource;</b>
<b class="nc"><i>99</i>&nbsp;import org.xml.sax.Locator;</b>
<i>100</i>&nbsp;import org.xml.sax.SAXException;
<b class="nc"><i>101</i>&nbsp;import org.xml.sax.helpers.LocatorImpl;</b>
<i>102</i>&nbsp;
<b class="nc"><i>103</i>&nbsp;public class WSDLModeler extends WSDLModelerBase {</b>
<i>104</i>&nbsp;    private final Map&lt;QName, Operation&gt; uniqueBodyBlocks = new HashMap();
<b class="nc"><i>105</i>&nbsp;    private final QName VOID_BODYBLOCK = new QName(&quot;&quot;);</b>
<i>106</i>&nbsp;    private final ClassNameCollector classNameCollector = new ClassNameCollector();
<i>107</i>&nbsp;    private final String explicitDefaultPackage;
<i>108</i>&nbsp;    private JAXBModelBuilder jaxbModelBuilder;
<i>109</i>&nbsp;
<i>110</i>&nbsp;    public WSDLModeler(WsimportOptions options, ErrorReceiver receiver, MetadataFinder forest) {
<i>111</i>&nbsp;        super(options, receiver, forest);
<i>112</i>&nbsp;        this.explicitDefaultPackage = options.defaultPackage;
<i>113</i>&nbsp;    }
<i>114</i>&nbsp;
<b class="nc"><i>115</i>&nbsp;    public Model buildModel() {</b>
<b class="nc"><i>116</i>&nbsp;        try {</b>
<b class="nc"><i>117</i>&nbsp;            this.parser = new WSDLParser(this.options, this.errReceiver, this.forest);</b>
<i>118</i>&nbsp;            this.parser.addParserListener(new ParserListener() {
<b class="nc"><i>119</i>&nbsp;                public void ignoringExtension(Entity entity, QName name, QName parent) {</b>
<b class="nc"><i>120</i>&nbsp;                    if(parent.equals(WSDLConstants.QNAME_TYPES) &amp;&amp; name.getLocalPart().equals(&quot;schema&quot;) &amp;&amp; !name.getNamespaceURI().equals(&quot;&quot;)) {</b>
<i>121</i>&nbsp;                        WSDLModeler.this.warning(entity, ModelerMessages.WSDLMODELER_WARNING_IGNORING_UNRECOGNIZED_SCHEMA_EXTENSION(name.getNamespaceURI()));
<b class="nc"><i>122</i>&nbsp;                    }</b>
<b class="nc"><i>123</i>&nbsp;</b>
<b class="nc"><i>124</i>&nbsp;                }</b>
<i>125</i>&nbsp;
<b class="nc"><i>126</i>&nbsp;                public void doneParsingEntity(QName element, Entity entity) {</b>
<b class="nc"><i>127</i>&nbsp;                }</b>
<b class="nc"><i>128</i>&nbsp;            });</b>
<b class="nc"><i>129</i>&nbsp;            this.document = this.parser.parse();</b>
<b class="nc"><i>130</i>&nbsp;            if(this.document == null || this.document.getDefinitions() == null) {</b>
<i>131</i>&nbsp;                return null;
<i>132</i>&nbsp;            }
<b class="nc"><i>133</i>&nbsp;</b>
<i>134</i>&nbsp;            this.document.validateLocally();
<b class="nc"><i>135</i>&nbsp;            Model e = this.internalBuildModel(this.document);</b>
<b class="nc"><i>136</i>&nbsp;            if(e == null || this.errReceiver.hadError()) {</b>
<i>137</i>&nbsp;                return null;
<b class="nc"><i>138</i>&nbsp;            }</b>
<b class="nc"><i>139</i>&nbsp;</b>
<b class="nc"><i>140</i>&nbsp;            this.classNameCollector.process(e);</b>
<i>141</i>&nbsp;            if(this.classNameCollector.getConflictingClassNames().isEmpty()) {
<i>142</i>&nbsp;                if(this.errReceiver.hadError()) {
<b class="nc"><i>143</i>&nbsp;                    return null;</b>
<b class="nc"><i>144</i>&nbsp;                }</b>
<b class="nc"><i>145</i>&nbsp;</b>
<i>146</i>&nbsp;                return e;
<b class="nc"><i>147</i>&nbsp;            }</b>
<i>148</i>&nbsp;
<b class="nc"><i>149</i>&nbsp;            e = this.internalBuildModel(this.document);</b>
<b class="nc"><i>150</i>&nbsp;            this.classNameCollector.process(e);</b>
<i>151</i>&nbsp;            if(this.classNameCollector.getConflictingClassNames().isEmpty()) {
<b class="nc"><i>152</i>&nbsp;                if(this.errReceiver.hadError()) {</b>
<i>153</i>&nbsp;                    return null;
<b class="nc"><i>154</i>&nbsp;                }</b>
<i>155</i>&nbsp;
<b class="nc"><i>156</i>&nbsp;                return e;</b>
<b class="nc"><i>157</i>&nbsp;            }</b>
<b class="nc"><i>158</i>&nbsp;</b>
<b class="nc"><i>159</i>&nbsp;            StringBuffer conflictList = new StringBuffer();</b>
<b class="nc"><i>160</i>&nbsp;            boolean first = true;</b>
<b class="nc"><i>161</i>&nbsp;</b>
<b class="nc"><i>162</i>&nbsp;            for(Iterator iter = this.classNameCollector.getConflictingClassNames().iterator(); iter.hasNext(); conflictList.append((String)iter.next())) {</b>
<b class="nc"><i>163</i>&nbsp;                if(!first) {</b>
<b class="nc"><i>164</i>&nbsp;                    conflictList.append(&quot;, &quot;);</b>
<b class="nc"><i>165</i>&nbsp;                } else {</b>
<b class="nc"><i>166</i>&nbsp;                    first = false;</b>
<b class="nc"><i>167</i>&nbsp;                }</b>
<i>168</i>&nbsp;            }
<b class="nc"><i>169</i>&nbsp;</b>
<i>170</i>&nbsp;            this.error(this.document.getDefinitions(), ModelerMessages.WSDLMODELER_UNSOLVABLE_NAMING_CONFLICTS(conflictList.toString()));
<i>171</i>&nbsp;        } catch (ModelException var5) {
<i>172</i>&nbsp;            this.reportError(this.document.getDefinitions(), var5.getMessage(), var5);
<b class="nc"><i>173</i>&nbsp;        } catch (ParseException var6) {</b>
<i>174</i>&nbsp;            this.errReceiver.error(var6);
<i>175</i>&nbsp;        } catch (ValidationException var7) {
<b class="nc"><i>176</i>&nbsp;            this.errReceiver.error(var7.getMessage(), var7);</b>
<i>177</i>&nbsp;        } catch (SAXException var8) {
<b class="nc"><i>178</i>&nbsp;            this.errReceiver.error(var8);</b>
<i>179</i>&nbsp;        } catch (IOException var9) {
<i>180</i>&nbsp;            this.errReceiver.error(var9);
<i>181</i>&nbsp;        }
<i>182</i>&nbsp;
<i>183</i>&nbsp;        return null;
<b class="nc"><i>184</i>&nbsp;    }</b>
<b class="nc"><i>185</i>&nbsp;</b>
<i>186</i>&nbsp;    private Model internalBuildModel(WSDLDocument document) {
<i>187</i>&nbsp;        ++this.numPasses;
<i>188</i>&nbsp;        this.buildJAXBModel(document);
<i>189</i>&nbsp;        QName modelName = new QName(document.getDefinitions().getTargetNamespaceURI(), document.getDefinitions().getName() == null?&quot;model&quot;:document.getDefinitions().getName());
<i>190</i>&nbsp;        Model model = new Model(modelName, document.getDefinitions());
<b class="nc"><i>191</i>&nbsp;        model.setJAXBModel(this.getJAXBModelBuilder().getJAXBModel());</b>
<i>192</i>&nbsp;        model.setProperty(&quot;com.sun.xml.internal.ws.processor.model.ModelerName&quot;, &quot;com.sun.xml.internal.ws.processor.modeler.wsdl.WSDLModeler&quot;);
<i>193</i>&nbsp;        this._javaTypes = new JavaSimpleTypeCreator();
<i>194</i>&nbsp;        this._javaExceptions = new HashMap();
<b class="nc"><i>195</i>&nbsp;        this._bindingNameToPortMap = new HashMap();</b>
<b class="nc"><i>196</i>&nbsp;        model.setTargetNamespaceURI(document.getDefinitions().getTargetNamespaceURI());</b>
<b class="nc"><i>197</i>&nbsp;        setDocumentationIfPresent(model, document.getDefinitions().getDocumentation());</b>
<i>198</i>&nbsp;        boolean hasServices = document.getDefinitions().services().hasNext();
<i>199</i>&nbsp;        if(hasServices) {
<b class="nc"><i>200</i>&nbsp;            for(Iterator iter = document.getDefinitions().services(); iter.hasNext(); hasServices = true) {</b>
<i>201</i>&nbsp;                this.processService((Service)iter.next(), model, document);
<b class="nc"><i>202</i>&nbsp;            }</b>
<i>203</i>&nbsp;        } else {
<i>204</i>&nbsp;            this.warning(model.getEntity(), ModelerMessages.WSDLMODELER_WARNING_NO_SERVICE_DEFINITIONS_FOUND());
<b class="nc"><i>205</i>&nbsp;        }</b>
<b class="nc"><i>206</i>&nbsp;</b>
<b class="nc"><i>207</i>&nbsp;        return model;</b>
<b class="nc"><i>208</i>&nbsp;    }</b>
<i>209</i>&nbsp;
<b class="nc"><i>210</i>&nbsp;    protected void processService(Service wsdlService, Model model, WSDLDocument document) {</b>
<i>211</i>&nbsp;        QName serviceQName = getQNameOf(wsdlService);
<b class="nc"><i>212</i>&nbsp;        String serviceInterface = this.getServiceInterfaceName(serviceQName, wsdlService);</b>
<i>213</i>&nbsp;        if(this.isConflictingServiceClassName(serviceInterface)) {
<i>214</i>&nbsp;            serviceInterface = serviceInterface + &quot;_Service&quot;;
<i>215</i>&nbsp;        }
<b class="nc"><i>216</i>&nbsp;</b>
<i>217</i>&nbsp;        com.sun.tools.internal.ws.processor.model.Service service = new com.sun.tools.internal.ws.processor.model.Service(serviceQName, new JavaInterface(serviceInterface, serviceInterface + &quot;Impl&quot;), wsdlService);
<i>218</i>&nbsp;        setDocumentationIfPresent(service, wsdlService.getDocumentation());
<b class="nc"><i>219</i>&nbsp;        boolean hasPorts = false;</b>
<i>220</i>&nbsp;
<i>221</i>&nbsp;        boolean processed;
<i>222</i>&nbsp;        for(Iterator iter = wsdlService.ports(); iter.hasNext(); hasPorts = hasPorts || processed) {
<i>223</i>&nbsp;            processed = this.processPort((Port)iter.next(), service, document);
<i>224</i>&nbsp;        }
<i>225</i>&nbsp;
<b class="nc"><i>226</i>&nbsp;        if(!hasPorts) {</b>
<b class="nc"><i>227</i>&nbsp;            this.warning(wsdlService, ModelerMessages.WSDLMODELER_WARNING_NO_PORTS_IN_SERVICE(wsdlService.getName()));</b>
<b class="nc"><i>228</i>&nbsp;        } else {</b>
<b class="nc"><i>229</i>&nbsp;            model.addService(service);</b>
<b class="nc"><i>230</i>&nbsp;        }</b>
<i>231</i>&nbsp;
<b class="nc"><i>232</i>&nbsp;    }</b>
<i>233</i>&nbsp;
<i>234</i>&nbsp;    protected boolean processPort(Port wsdlPort, com.sun.tools.internal.ws.processor.model.Service service, WSDLDocument document) {
<i>235</i>&nbsp;        try {
<i>236</i>&nbsp;            this.uniqueBodyBlocks.clear();
<b class="nc"><i>237</i>&nbsp;            QName e = getQNameOf(wsdlPort);</b>
<b class="nc"><i>238</i>&nbsp;            com.sun.tools.internal.ws.processor.model.Port port = new com.sun.tools.internal.ws.processor.model.Port(e, wsdlPort);</b>
<b class="nc"><i>239</i>&nbsp;            setDocumentationIfPresent(port, wsdlPort.getDocumentation());</b>
<b class="nc"><i>240</i>&nbsp;            SOAPAddress soapAddress = (SOAPAddress)getExtensionOfType(wsdlPort, SOAPAddress.class);</b>
<i>241</i>&nbsp;            if(soapAddress == null) {
<i>242</i>&nbsp;                if(!this.options.isExtensionMode()) {
<i>243</i>&nbsp;                    this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_IGNORING_NON_SOAP_PORT_NO_ADDRESS(wsdlPort.getName()));
<i>244</i>&nbsp;                    return false;
<b class="nc"><i>245</i>&nbsp;                }</b>
<b class="nc"><i>246</i>&nbsp;</b>
<b class="nc"><i>247</i>&nbsp;                this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_NO_SOAP_ADDRESS(wsdlPort.getName()));</b>
<i>248</i>&nbsp;            }
<b class="nc"><i>249</i>&nbsp;</b>
<i>250</i>&nbsp;            if(soapAddress != null) {
<b class="nc"><i>251</i>&nbsp;                port.setAddress(soapAddress.getLocation());</b>
<i>252</i>&nbsp;            }
<i>253</i>&nbsp;
<i>254</i>&nbsp;            Binding binding = wsdlPort.resolveBinding(document);
<i>255</i>&nbsp;            QName bindingName = getQNameOf(binding);
<i>256</i>&nbsp;            PortType portType = binding.resolvePortType(document);
<i>257</i>&nbsp;            port.setProperty(&quot;com.sun.xml.internal.ws.processor.model.WSDLPortName&quot;, getQNameOf(wsdlPort));
<i>258</i>&nbsp;            port.setProperty(&quot;com.sun.xml.internal.ws.processor.model.WSDLPortTypeName&quot;, getQNameOf(portType));
<i>259</i>&nbsp;            port.setProperty(&quot;com.sun.xml.internal.ws.processor.model.WSDLBindingName&quot;, bindingName);
<i>260</i>&nbsp;            boolean isProvider = this.isProvider(wsdlPort);
<i>261</i>&nbsp;            if(this._bindingNameToPortMap.containsKey(bindingName) &amp;&amp; !isProvider) {
<i>262</i>&nbsp;                com.sun.tools.internal.ws.processor.model.Port soapBinding1 = (com.sun.tools.internal.ws.processor.model.Port)this._bindingNameToPortMap.get(bindingName);
<b class="nc"><i>263</i>&nbsp;                port.setOperations(soapBinding1.getOperations());</b>
<i>264</i>&nbsp;                port.setJavaInterface(soapBinding1.getJavaInterface());
<b class="nc"><i>265</i>&nbsp;                port.setStyle(soapBinding1.getStyle());</b>
<b class="nc"><i>266</i>&nbsp;                port.setWrapped(soapBinding1.isWrapped());</b>
<i>267</i>&nbsp;            } else {
<b class="nc"><i>268</i>&nbsp;                SOAPBinding soapBinding = (SOAPBinding)getExtensionOfType(binding, SOAPBinding.class);</b>
<i>269</i>&nbsp;                if(soapBinding == null) {
<b class="nc"><i>270</i>&nbsp;                    soapBinding = (SOAPBinding)getExtensionOfType(binding, SOAP12Binding.class);</b>
<i>271</i>&nbsp;                    if(soapBinding == null) {
<b class="nc"><i>272</i>&nbsp;                        if(!this.options.isExtensionMode()) {</b>
<b class="nc"><i>273</i>&nbsp;                            this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_IGNORING_NON_SOAP_PORT(wsdlPort.getName()));</b>
<b class="nc"><i>274</i>&nbsp;                            return false;</b>
<i>275</i>&nbsp;                        }
<i>276</i>&nbsp;
<b class="nc"><i>277</i>&nbsp;                        this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_NON_SOAP_PORT(wsdlPort.getName()));</b>
<b class="nc"><i>278</i>&nbsp;                    } else {</b>
<i>279</i>&nbsp;                        if(!this.options.isExtensionMode()) {
<i>280</i>&nbsp;                            this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_IGNORING_SOAP_BINDING_12(wsdlPort.getName()));
<b class="nc"><i>281</i>&nbsp;                            return false;</b>
<b class="nc"><i>282</i>&nbsp;                        }</b>
<b class="nc"><i>283</i>&nbsp;</b>
<b class="nc"><i>284</i>&nbsp;                        this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_PORT_SOAP_BINDING_12(wsdlPort.getName()));</b>
<b class="nc"><i>285</i>&nbsp;                    }</b>
<i>286</i>&nbsp;                }
<b class="nc"><i>287</i>&nbsp;</b>
<i>288</i>&nbsp;                if(soapBinding != null &amp;&amp; (soapBinding.getTransport() == null || !soapBinding.getTransport().equals(&quot;http://schemas.xmlsoap.org/soap/http&quot;) &amp;&amp; !soapBinding.getTransport().equals(&quot;http://www.w3.org/2003/05/soap/bindings/HTTP/&quot;)) &amp;&amp; !this.options.isExtensionMode()) {
<i>289</i>&nbsp;                    this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_IGNORING_SOAP_BINDING_NON_HTTP_TRANSPORT(wsdlPort.getName()));
<b class="nc"><i>290</i>&nbsp;                    return false;</b>
<i>291</i>&nbsp;                }
<i>292</i>&nbsp;
<b class="nc"><i>293</i>&nbsp;                if(soapBinding != null &amp;&amp; !this.validateWSDLBindingStyle(binding)) {</b>
<i>294</i>&nbsp;                    if(this.options.isExtensionMode()) {
<i>295</i>&nbsp;                        this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_PORT_SOAP_BINDING_MIXED_STYLE(wsdlPort.getName()));
<i>296</i>&nbsp;                    } else {
<b class="nc"><i>297</i>&nbsp;                        this.error(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_IGNORING_SOAP_BINDING_MIXED_STYLE(wsdlPort.getName()));</b>
<b class="nc"><i>298</i>&nbsp;                    }</b>
<i>299</i>&nbsp;                }
<b class="nc"><i>300</i>&nbsp;</b>
<i>301</i>&nbsp;                if(soapBinding != null) {
<b class="nc"><i>302</i>&nbsp;                    port.setStyle(soapBinding.getStyle());</b>
<b class="nc"><i>303</i>&nbsp;                }</b>
<b class="nc"><i>304</i>&nbsp;</b>
<b class="nc"><i>305</i>&nbsp;                boolean hasOverloadedOperations = false;</b>
<b class="nc"><i>306</i>&nbsp;                HashSet operationNames = new HashSet();</b>
<i>307</i>&nbsp;                Iterator headers = portType.operations();
<b class="nc"><i>308</i>&nbsp;</b>
<i>309</i>&nbsp;                BindingOperation jd;
<i>310</i>&nbsp;                Iterator pt;
<b class="nc"><i>311</i>&nbsp;                while(headers.hasNext()) {</b>
<b class="nc"><i>312</i>&nbsp;                    com.sun.tools.internal.ws.wsdl.document.Operation hasOperations = (com.sun.tools.internal.ws.wsdl.document.Operation)headers.next();</b>
<i>313</i>&nbsp;                    if(operationNames.contains(hasOperations.getName())) {
<b class="nc"><i>314</i>&nbsp;                        hasOverloadedOperations = true;</b>
<b class="nc"><i>315</i>&nbsp;                        break;</b>
<i>316</i>&nbsp;                    }
<b class="nc"><i>317</i>&nbsp;</b>
<b class="nc"><i>318</i>&nbsp;                    operationNames.add(hasOperations.getName());</b>
<i>319</i>&nbsp;                    pt = binding.operations();
<b class="nc"><i>320</i>&nbsp;</b>
<i>321</i>&nbsp;                    while(headers.hasNext()) {
<i>322</i>&nbsp;                        jd = (BindingOperation)pt.next();
<i>323</i>&nbsp;                        if(hasOperations.getName().equals(jd.getName())) {
<b class="nc"><i>324</i>&nbsp;                            break;</b>
<b class="nc"><i>325</i>&nbsp;                        }</b>
<i>326</i>&nbsp;
<b class="nc"><i>327</i>&nbsp;                        if(!pt.hasNext()) {</b>
<b class="nc"><i>328</i>&nbsp;                            this.error(jd, ModelerMessages.WSDLMODELER_INVALID_BINDING_OPERATION_NOT_FOUND(hasOperations.getName(), jd.getName()));</b>
<i>329</i>&nbsp;                        }
<i>330</i>&nbsp;                    }
<i>331</i>&nbsp;                }
<i>332</i>&nbsp;
<b class="nc"><i>333</i>&nbsp;                HashMap headers1 = new HashMap();</b>
<i>334</i>&nbsp;                boolean hasOperations1 = false;
<i>335</i>&nbsp;                pt = binding.operations();
<i>336</i>&nbsp;
<b class="nc"><i>337</i>&nbsp;                while(pt.hasNext()) {</b>
<i>338</i>&nbsp;                    jd = (BindingOperation)pt.next();
<b class="nc"><i>339</i>&nbsp;                    com.sun.tools.internal.ws.wsdl.document.Operation portTypeOperation = null;</b>
<b class="nc"><i>340</i>&nbsp;                    Set operations = portType.getOperationsNamed(jd.getName());</b>
<i>341</i>&nbsp;                    if(operations.size() == 0) {
<i>342</i>&nbsp;                        this.error(jd, ModelerMessages.WSDLMODELER_INVALID_BINDING_OPERATION_NOT_IN_PORT_TYPE(jd.getName(), binding.getName()));
<i>343</i>&nbsp;                    } else if(operations.size() == 1) {
<i>344</i>&nbsp;                        portTypeOperation = (com.sun.tools.internal.ws.wsdl.document.Operation)operations.iterator().next();
<i>345</i>&nbsp;                    } else {
<i>346</i>&nbsp;                        boolean operation = false;
<i>347</i>&nbsp;                        String expectedInputName = jd.getInput().getName();
<i>348</i>&nbsp;                        String expectedOutputName = jd.getOutput().getName();
<b class="nc"><i>349</i>&nbsp;                        Iterator iter2 = operations.iterator();</b>
<b class="nc"><i>350</i>&nbsp;</b>
<b class="nc"><i>351</i>&nbsp;                        while(iter2.hasNext()) {</b>
<i>352</i>&nbsp;                            com.sun.tools.internal.ws.wsdl.document.Operation candidateOperation = (com.sun.tools.internal.ws.wsdl.document.Operation)iter2.next();
<b class="nc"><i>353</i>&nbsp;                            if(expectedInputName == null) {</b>
<i>354</i>&nbsp;                                this.error(jd, ModelerMessages.WSDLMODELER_INVALID_BINDING_OPERATION_MISSING_INPUT_NAME(jd.getName()));
<i>355</i>&nbsp;                            }
<i>356</i>&nbsp;
<b class="nc"><i>357</i>&nbsp;                            if(expectedOutputName == null) {</b>
<b class="nc"><i>358</i>&nbsp;                                this.error(jd, ModelerMessages.WSDLMODELER_INVALID_BINDING_OPERATION_MISSING_OUTPUT_NAME(jd.getName()));</b>
<i>359</i>&nbsp;                            }
<i>360</i>&nbsp;
<b class="nc"><i>361</i>&nbsp;                            if(expectedInputName.equals(candidateOperation.getInput().getName()) &amp;&amp; expectedOutputName.equals(candidateOperation.getOutput().getName())) {</b>
<b class="nc"><i>362</i>&nbsp;                                if(operation) {</b>
<b class="nc"><i>363</i>&nbsp;                                    this.error(jd, ModelerMessages.WSDLMODELER_INVALID_BINDING_OPERATION_MULTIPLE_MATCHING_OPERATIONS(jd.getName(), jd.getName()));</b>
<b class="nc"><i>364</i>&nbsp;                                }</b>
<i>365</i>&nbsp;
<i>366</i>&nbsp;                                operation = true;
<b class="nc"><i>367</i>&nbsp;                                portTypeOperation = candidateOperation;</b>
<b class="nc"><i>368</i>&nbsp;                            }</b>
<b class="nc"><i>369</i>&nbsp;                        }</b>
<i>370</i>&nbsp;
<b class="nc"><i>371</i>&nbsp;                        if(!operation) {</b>
<i>372</i>&nbsp;                            this.error(jd, ModelerMessages.WSDLMODELER_INVALID_BINDING_OPERATION_NOT_FOUND(jd.getName(), binding.getName()));
<b class="nc"><i>373</i>&nbsp;                        }</b>
<b class="nc"><i>374</i>&nbsp;                    }</b>
<i>375</i>&nbsp;
<b class="nc"><i>376</i>&nbsp;                    if(!isProvider) {</b>
<i>377</i>&nbsp;                        this.info = new ProcessSOAPOperationInfo(this, port, wsdlPort, portTypeOperation, jd, soapBinding, document, hasOverloadedOperations, headers1);
<b class="nc"><i>378</i>&nbsp;                        Operation operation1;</b>
<i>379</i>&nbsp;                        if(soapBinding != null) {
<i>380</i>&nbsp;                            operation1 = this.processSOAPOperation();
<b class="nc"><i>381</i>&nbsp;                        } else {</b>
<b class="nc"><i>382</i>&nbsp;                            operation1 = this.processNonSOAPOperation();</b>
<b class="nc"><i>383</i>&nbsp;                        }</b>
<i>384</i>&nbsp;
<b class="nc"><i>385</i>&nbsp;                        if(operation1 != null) {</b>
<b class="nc"><i>386</i>&nbsp;                            port.addOperation(operation1);</b>
<i>387</i>&nbsp;                            hasOperations1 = true;
<b class="nc"><i>388</i>&nbsp;                        }</b>
<b class="nc"><i>389</i>&nbsp;                    }</b>
<b class="nc"><i>390</i>&nbsp;                }</b>
<b class="nc"><i>391</i>&nbsp;</b>
<i>392</i>&nbsp;                if(!isProvider &amp;&amp; !hasOperations1) {
<i>393</i>&nbsp;                    this.warning(wsdlPort, ModelerMessages.WSDLMODELER_WARNING_NO_OPERATIONS_IN_PORT(wsdlPort.getName()));
<b class="nc"><i>394</i>&nbsp;                    return false;</b>
<i>395</i>&nbsp;                }
<b class="nc"><i>396</i>&nbsp;</b>
<i>397</i>&nbsp;                this.createJavaInterfaceForPort(port, isProvider);
<b class="nc"><i>398</i>&nbsp;                PortType pt1 = binding.resolvePortType(document);</b>
<i>399</i>&nbsp;                String jd1 = pt1.getDocumentation() != null?pt1.getDocumentation().getContent():null;
<b class="nc"><i>400</i>&nbsp;                port.getJavaInterface().setJavaDoc(jd1);</b>
<b class="nc"><i>401</i>&nbsp;                this._bindingNameToPortMap.put(bindingName, port);</b>
<b class="nc"><i>402</i>&nbsp;            }</b>
<i>403</i>&nbsp;
<i>404</i>&nbsp;            service.addPort(port);
<i>405</i>&nbsp;            this.applyPortMethodCustomization(port, wsdlPort);
<i>406</i>&nbsp;            this.applyWrapperStyleCustomization(port, binding.resolvePortType(document));
<b class="nc"><i>407</i>&nbsp;            return true;</b>
<b class="nc"><i>408</i>&nbsp;        } catch (NoSuchEntityException var25) {</b>
<i>409</i>&nbsp;            this.warning(document.getDefinitions(), var25.getMessage());
<b class="nc"><i>410</i>&nbsp;            return false;</b>
<i>411</i>&nbsp;        }
<i>412</i>&nbsp;    }
<b class="nc"><i>413</i>&nbsp;</b>
<b class="nc"><i>414</i>&nbsp;    private Operation processNonSOAPOperation() {</b>
<i>415</i>&nbsp;        Operation operation = new Operation(new QName((String)null, this.info.bindingOperation.getName()), this.info.bindingOperation);
<i>416</i>&nbsp;        setDocumentationIfPresent(operation, this.info.portTypeOperation.getDocumentation());
<i>417</i>&nbsp;        if(this.info.portTypeOperation.getStyle() != OperationStyle.REQUEST_RESPONSE &amp;&amp; this.info.portTypeOperation.getStyle() != OperationStyle.ONE_WAY) {
<b class="nc"><i>418</i>&nbsp;            if(this.options.isExtensionMode()) {</b>
<i>419</i>&nbsp;                this.warning(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_WARNING_IGNORING_OPERATION_NOT_SUPPORTED_STYLE(this.info.portTypeOperation.getName()));
<b class="nc"><i>420</i>&nbsp;                return null;</b>
<i>421</i>&nbsp;            }
<b class="nc"><i>422</i>&nbsp;</b>
<i>423</i>&nbsp;            this.error(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_INVALID_OPERATION_NOT_SUPPORTED_STYLE(this.info.portTypeOperation.getName(), this.info.port.resolveBinding(this.document).resolvePortType(this.document).getName()));
<b class="nc"><i>424</i>&nbsp;        }</b>
<i>425</i>&nbsp;
<b class="nc"><i>426</i>&nbsp;        boolean isRequestResponse = this.info.portTypeOperation.getStyle() == OperationStyle.REQUEST_RESPONSE;</b>
<i>427</i>&nbsp;        Message inputMessage = this.getInputMessage();
<i>428</i>&nbsp;        Request request = new Request(inputMessage, this.errReceiver);
<i>429</i>&nbsp;        request.setErrorReceiver(this.errReceiver);
<i>430</i>&nbsp;        this.info.operation = operation;
<i>431</i>&nbsp;        this.info.operation.setWSDLPortTypeOperation(this.info.portTypeOperation);
<b class="nc"><i>432</i>&nbsp;        Message outputMessage = null;</b>
<i>433</i>&nbsp;        Response response;
<b class="nc"><i>434</i>&nbsp;        if(isRequestResponse) {</b>
<i>435</i>&nbsp;            outputMessage = this.getOutputMessage();
<i>436</i>&nbsp;            response = new Response(outputMessage, this.errReceiver);
<b class="nc"><i>437</i>&nbsp;        } else {</b>
<b class="nc"><i>438</i>&nbsp;            response = new Response((Message)null, this.errReceiver);</b>
<i>439</i>&nbsp;        }
<b class="nc"><i>440</i>&nbsp;</b>
<b class="nc"><i>441</i>&nbsp;        this.setNonSoapStyle(inputMessage, outputMessage);</b>
<i>442</i>&nbsp;        List parameterList = this.getParameterOrder();
<b class="nc"><i>443</i>&nbsp;        boolean unwrappable = this.isUnwrappable();</b>
<i>444</i>&nbsp;        this.info.operation.setWrapped(unwrappable);
<i>445</i>&nbsp;        List params = this.getDoclitParameters(request, response, parameterList);
<b class="nc"><i>446</i>&nbsp;        if(!this.validateParameterName(params)) {</b>
<b class="nc"><i>447</i>&nbsp;            return null;</b>
<i>448</i>&nbsp;        } else {
<i>449</i>&nbsp;            ArrayList definitiveParameterList = new ArrayList();
<i>450</i>&nbsp;            Iterator duplicateNames = params.iterator();
<i>451</i>&nbsp;
<i>452</i>&nbsp;            while(duplicateNames.hasNext()) {
<i>453</i>&nbsp;                Parameter binding = (Parameter)duplicateNames.next();
<i>454</i>&nbsp;                if(binding.isReturn()) {
<i>455</i>&nbsp;                    this.info.operation.setProperty(&quot;com.sun.xml.internal.ws.processor.modeler.wsdl.resultParameter&quot;, binding);
<i>456</i>&nbsp;                    response.addParameter(binding);
<i>457</i>&nbsp;                } else {
<i>458</i>&nbsp;                    if(binding.isIN()) {
<i>459</i>&nbsp;                        request.addParameter(binding);
<b class="nc"><i>460</i>&nbsp;                    } else if(binding.isOUT()) {</b>
<b class="nc"><i>461</i>&nbsp;                        response.addParameter(binding);</b>
<i>462</i>&nbsp;                    } else if(binding.isINOUT()) {
<b class="nc"><i>463</i>&nbsp;                        request.addParameter(binding);</b>
<i>464</i>&nbsp;                        response.addParameter(binding);
<b class="nc"><i>465</i>&nbsp;                    }</b>
<b class="nc"><i>466</i>&nbsp;</b>
<b class="nc"><i>467</i>&nbsp;                    definitiveParameterList.add(binding);</b>
<i>468</i>&nbsp;                }
<i>469</i>&nbsp;            }
<b class="nc"><i>470</i>&nbsp;</b>
<b class="nc"><i>471</i>&nbsp;            this.info.operation.setRequest(request);</b>
<i>472</i>&nbsp;            if(isRequestResponse) {
<b class="nc"><i>473</i>&nbsp;                this.info.operation.setResponse(response);</b>
<b class="nc"><i>474</i>&nbsp;            }</b>
<i>475</i>&nbsp;
<b class="nc"><i>476</i>&nbsp;            Set duplicateNames1 = this.getDuplicateFaultNames();</b>
<b class="nc"><i>477</i>&nbsp;            this.handleLiteralSOAPFault(response, duplicateNames1);</b>
<b class="nc"><i>478</i>&nbsp;            this.info.operation.setProperty(&quot;com.sun.xml.internal.ws.processor.modeler.wsdl.parameterOrder&quot;, definitiveParameterList);</b>
<b class="nc"><i>479</i>&nbsp;            Binding binding1 = this.info.port.resolveBinding(this.document);</b>
<b class="nc"><i>480</i>&nbsp;            PortType portType = binding1.resolvePortType(this.document);</b>
<i>481</i>&nbsp;            if(this.isAsync(portType, this.info.portTypeOperation)) {
<i>482</i>&nbsp;                this.warning(portType, &quot;Can not generate Async methods for non-soap binding!&quot;);
<b class="nc"><i>483</i>&nbsp;            }</b>
<b class="nc"><i>484</i>&nbsp;</b>
<b class="nc"><i>485</i>&nbsp;            return this.info.operation;</b>
<i>486</i>&nbsp;        }
<b class="nc"><i>487</i>&nbsp;    }</b>
<i>488</i>&nbsp;
<b class="nc"><i>489</i>&nbsp;    private void setNonSoapStyle(Message inputMessage, Message outputMessage) {</b>
<b class="nc"><i>490</i>&nbsp;        SOAPStyle style = SOAPStyle.DOCUMENT;</b>
<i>491</i>&nbsp;        Iterator i$ = inputMessage.getParts().iterator();
<b class="nc"><i>492</i>&nbsp;</b>
<i>493</i>&nbsp;        MessagePart part;
<i>494</i>&nbsp;        while(i$.hasNext()) {
<i>495</i>&nbsp;            part = (MessagePart)i$.next();
<i>496</i>&nbsp;            if(part.getDescriptorKind() == SchemaKinds.XSD_TYPE) {
<i>497</i>&nbsp;                style = SOAPStyle.RPC;
<i>498</i>&nbsp;            } else {
<i>499</i>&nbsp;                style = SOAPStyle.DOCUMENT;
<b class="nc"><i>500</i>&nbsp;            }</b>
<i>501</i>&nbsp;        }
<i>502</i>&nbsp;
<b class="nc"><i>503</i>&nbsp;        if(outputMessage != null) {</b>
<i>504</i>&nbsp;            i$ = outputMessage.getParts().iterator();
<i>505</i>&nbsp;
<i>506</i>&nbsp;            while(i$.hasNext()) {
<b class="nc"><i>507</i>&nbsp;                part = (MessagePart)i$.next();</b>
<i>508</i>&nbsp;                if(part.getDescriptorKind() == SchemaKinds.XSD_TYPE) {
<i>509</i>&nbsp;                    style = SOAPStyle.RPC;
<b class="nc"><i>510</i>&nbsp;                } else {</b>
<b class="nc"><i>511</i>&nbsp;                    style = SOAPStyle.DOCUMENT;</b>
<b class="nc"><i>512</i>&nbsp;                }</b>
<i>513</i>&nbsp;            }
<b class="nc"><i>514</i>&nbsp;        }</b>
<i>515</i>&nbsp;
<i>516</i>&nbsp;        this.info.modelPort.setStyle(style);
<i>517</i>&nbsp;    }
<i>518</i>&nbsp;
<b class="nc"><i>519</i>&nbsp;    protected Operation processSOAPOperation() {</b>
<b class="nc"><i>520</i>&nbsp;        Operation operation = new Operation(new QName((String)null, this.info.bindingOperation.getName()), this.info.bindingOperation);</b>
<b class="nc"><i>521</i>&nbsp;        setDocumentationIfPresent(operation, this.info.portTypeOperation.getDocumentation());</b>
<b class="nc"><i>522</i>&nbsp;        if(this.info.portTypeOperation.getStyle() != OperationStyle.REQUEST_RESPONSE &amp;&amp; this.info.portTypeOperation.getStyle() != OperationStyle.ONE_WAY) {</b>
<b class="nc"><i>523</i>&nbsp;            if(this.options.isExtensionMode()) {</b>
<b class="nc"><i>524</i>&nbsp;                this.warning(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_WARNING_IGNORING_OPERATION_NOT_SUPPORTED_STYLE(this.info.portTypeOperation.getName()));</b>
<i>525</i>&nbsp;                return null;
<b class="nc"><i>526</i>&nbsp;            }</b>
<i>527</i>&nbsp;
<b class="nc"><i>528</i>&nbsp;            this.error(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_INVALID_OPERATION_NOT_SUPPORTED_STYLE(this.info.portTypeOperation.getName(), this.info.port.resolveBinding(this.document).resolvePortType(this.document).getName()));</b>
<b class="nc"><i>529</i>&nbsp;        }</b>
<b class="nc"><i>530</i>&nbsp;</b>
<b class="nc"><i>531</i>&nbsp;        SOAPStyle soapStyle = this.info.soapBinding.getStyle();</b>
<i>532</i>&nbsp;        SOAPOperation soapOperation = (SOAPOperation)getExtensionOfType(this.info.bindingOperation, SOAPOperation.class);
<b class="nc"><i>533</i>&nbsp;        if(soapOperation != null) {</b>
<i>534</i>&nbsp;            if(soapOperation.getStyle() != null) {
<i>535</i>&nbsp;                soapStyle = soapOperation.getStyle();
<i>536</i>&nbsp;            }
<i>537</i>&nbsp;
<b class="nc"><i>538</i>&nbsp;            if(soapOperation.getSOAPAction() != null) {</b>
<i>539</i>&nbsp;                operation.setSOAPAction(soapOperation.getSOAPAction());
<i>540</i>&nbsp;            }
<b class="nc"><i>541</i>&nbsp;        }</b>
<i>542</i>&nbsp;
<b class="nc"><i>543</i>&nbsp;        operation.setStyle(soapStyle);</b>
<b class="nc"><i>544</i>&nbsp;        String uniqueOperationName = this.getUniqueName(this.info.portTypeOperation, this.info.hasOverloadedOperations);</b>
<b class="nc"><i>545</i>&nbsp;        if(this.info.hasOverloadedOperations) {</b>
<b class="nc"><i>546</i>&nbsp;            operation.setUniqueName(uniqueOperationName);</b>
<b class="nc"><i>547</i>&nbsp;        }</b>
<b class="nc"><i>548</i>&nbsp;</b>
<i>549</i>&nbsp;        this.info.operation = operation;
<i>550</i>&nbsp;        this.info.uniqueOperationName = uniqueOperationName;
<i>551</i>&nbsp;        SOAPBody soapRequestBody = this.getSOAPRequestBody();
<i>552</i>&nbsp;        if(soapRequestBody == null) {
<b class="nc"><i>553</i>&nbsp;            this.error(this.info.bindingOperation, ModelerMessages.WSDLMODELER_INVALID_BINDING_OPERATION_INPUT_MISSING_SOAP_BODY(this.info.bindingOperation.getName()));</b>
<b class="nc"><i>554</i>&nbsp;        }</b>
<b class="nc"><i>555</i>&nbsp;</b>
<b class="nc"><i>556</i>&nbsp;        if(soapStyle == SOAPStyle.RPC) {</b>
<b class="nc"><i>557</i>&nbsp;            if(soapRequestBody.isEncoded()) {</b>
<b class="nc"><i>558</i>&nbsp;                if(this.options.isExtensionMode()) {</b>
<i>559</i>&nbsp;                    this.warning(soapRequestBody, ModelerMessages.WSDLMODELER_20_RPCENC_NOT_SUPPORTED());
<b class="nc"><i>560</i>&nbsp;                    this.processNonSOAPOperation();</b>
<b class="nc"><i>561</i>&nbsp;                } else {</b>
<b class="nc"><i>562</i>&nbsp;                    this.error(soapRequestBody, ModelerMessages.WSDLMODELER_20_RPCENC_NOT_SUPPORTED());</b>
<b class="nc"><i>563</i>&nbsp;                }</b>
<b class="nc"><i>564</i>&nbsp;            }</b>
<b class="nc"><i>565</i>&nbsp;</b>
<b class="nc"><i>566</i>&nbsp;            return this.processLiteralSOAPOperation(WSDLModeler.StyleAndUse.RPC_LITERAL);</b>
<i>567</i>&nbsp;        } else {
<b class="nc"><i>568</i>&nbsp;            return this.processLiteralSOAPOperation(WSDLModeler.StyleAndUse.DOC_LITERAL);</b>
<i>569</i>&nbsp;        }
<i>570</i>&nbsp;    }
<b class="nc"><i>571</i>&nbsp;</b>
<i>572</i>&nbsp;    protected Operation processLiteralSOAPOperation(WSDLModeler.StyleAndUse styleAndUse) {
<b class="nc"><i>573</i>&nbsp;        if(!this.applyOperationNameCustomization()) {</b>
<b class="nc"><i>574</i>&nbsp;            return null;</b>
<i>575</i>&nbsp;        } else {
<i>576</i>&nbsp;            boolean isRequestResponse = this.info.portTypeOperation.getStyle() == OperationStyle.REQUEST_RESPONSE;
<i>577</i>&nbsp;            Message inputMessage = this.getInputMessage();
<b class="nc"><i>578</i>&nbsp;            Request request = new Request(inputMessage, this.errReceiver);</b>
<i>579</i>&nbsp;            request.setErrorReceiver(this.errReceiver);
<i>580</i>&nbsp;            this.info.operation.setUse(SOAPUse.LITERAL);
<b class="nc"><i>581</i>&nbsp;            this.info.operation.setWSDLPortTypeOperation(this.info.portTypeOperation);</b>
<b class="nc"><i>582</i>&nbsp;            SOAPBody soapRequestBody = this.getSOAPRequestBody();</b>
<i>583</i>&nbsp;            if(WSDLModeler.StyleAndUse.DOC_LITERAL == styleAndUse &amp;&amp; soapRequestBody.getNamespace() != null) {
<i>584</i>&nbsp;                this.warning(soapRequestBody, ModelerMessages.WSDLMODELER_WARNING_R_2716(&quot;soapbind:body&quot;, this.info.bindingOperation.getName()));
<i>585</i>&nbsp;            }
<b class="nc"><i>586</i>&nbsp;</b>
<b class="nc"><i>587</i>&nbsp;            SOAPBody soapResponseBody = null;</b>
<b class="nc"><i>588</i>&nbsp;            Message outputMessage = null;</b>
<b class="nc"><i>589</i>&nbsp;            Response response;</b>
<i>590</i>&nbsp;            if(isRequestResponse) {
<b class="nc"><i>591</i>&nbsp;                soapResponseBody = this.getSOAPResponseBody();</b>
<i>592</i>&nbsp;                if(this.isOperationDocumentLiteral(styleAndUse) &amp;&amp; soapResponseBody.getNamespace() != null) {
<i>593</i>&nbsp;                    this.warning(soapResponseBody, ModelerMessages.WSDLMODELER_WARNING_R_2716(&quot;soapbind:body&quot;, this.info.bindingOperation.getName()));
<i>594</i>&nbsp;                }
<i>595</i>&nbsp;
<i>596</i>&nbsp;                outputMessage = this.getOutputMessage();
<i>597</i>&nbsp;                response = new Response(outputMessage, this.errReceiver);
<i>598</i>&nbsp;            } else {
<i>599</i>&nbsp;                response = new Response((Message)null, this.errReceiver);
<i>600</i>&nbsp;            }
<i>601</i>&nbsp;
<i>602</i>&nbsp;            if(this.validateMimeParts(this.getMimeParts(this.info.bindingOperation.getInput())) &amp;&amp; this.validateMimeParts(this.getMimeParts(this.info.bindingOperation.getOutput()))) {
<i>603</i>&nbsp;                if(!this.validateBodyParts(this.info.bindingOperation)) {
<b class="nc"><i>604</i>&nbsp;                    if(this.isOperationDocumentLiteral(styleAndUse)) {</b>
<b class="nc"><i>605</i>&nbsp;                        if(this.options.isExtensionMode()) {</b>
<b class="nc"><i>606</i>&nbsp;                            this.warning(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_WARNING_IGNORING_OPERATION_CANNOT_HANDLE_TYPE_MESSAGE_PART(this.info.portTypeOperation.getName()));</b>
<b class="nc"><i>607</i>&nbsp;                        } else {</b>
<i>608</i>&nbsp;                            this.error(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_INVALID_DOCLITOPERATION(this.info.portTypeOperation.getName()));
<b class="nc"><i>609</i>&nbsp;                        }</b>
<i>610</i>&nbsp;                    } else if(this.isOperationRpcLiteral(styleAndUse)) {
<i>611</i>&nbsp;                        if(this.options.isExtensionMode()) {
<i>612</i>&nbsp;                            this.warning(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_WARNING_IGNORING_OPERATION_CANNOT_HANDLE_ELEMENT_MESSAGE_PART(this.info.portTypeOperation.getName()));
<b class="nc"><i>613</i>&nbsp;                        } else {</b>
<b class="nc"><i>614</i>&nbsp;                            this.error(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_INVALID_RPCLITOPERATION(this.info.portTypeOperation.getName()));</b>
<b class="nc"><i>615</i>&nbsp;                        }</b>
<b class="nc"><i>616</i>&nbsp;                    }</b>
<i>617</i>&nbsp;
<b class="nc"><i>618</i>&nbsp;                    return null;</b>
<i>619</i>&nbsp;                } else {
<i>620</i>&nbsp;                    List parameterList = this.getParameterOrder();
<b class="nc"><i>621</i>&nbsp;                    if(!this.setMessagePartsBinding(styleAndUse)) {</b>
<i>622</i>&nbsp;                        return null;
<i>623</i>&nbsp;                    } else {
<i>624</i>&nbsp;                        List params = null;
<i>625</i>&nbsp;                        boolean unwrappable = this.isUnwrappable();
<i>626</i>&nbsp;                        this.info.operation.setWrapped(unwrappable);
<i>627</i>&nbsp;                        QName body;
<b class="nc"><i>628</i>&nbsp;                        if(this.isOperationDocumentLiteral(styleAndUse)) {</b>
<i>629</i>&nbsp;                            params = this.getDoclitParameters(request, response, parameterList);
<i>630</i>&nbsp;                        } else if(this.isOperationRpcLiteral(styleAndUse)) {
<b class="nc"><i>631</i>&nbsp;                            String definitiveParameterList = this.info.bindingOperation.getName();</b>
<i>632</i>&nbsp;                            Block bb = null;
<i>633</i>&nbsp;                            if(inputMessage != null) {
<i>634</i>&nbsp;                                body = new QName(this.getRequestNamespaceURI(soapRequestBody), definitiveParameterList);
<b class="nc"><i>635</i>&nbsp;                                RpcLitStructure thatOp = new RpcLitStructure(body, this.getJAXBModelBuilder().getJAXBModel());</b>
<i>636</i>&nbsp;                                thatOp.setJavaType(new JavaSimpleType(&quot;com.sun.xml.internal.ws.encoding.jaxb.RpcLitPayload&quot;, (String)null));
<i>637</i>&nbsp;                                bb = new Block(body, thatOp, inputMessage);
<b class="nc"><i>638</i>&nbsp;                                request.addBodyBlock(bb);</b>
<b class="nc"><i>639</i>&nbsp;                            }</b>
<b class="nc"><i>640</i>&nbsp;</b>
<i>641</i>&nbsp;                            Block body2 = null;
<b class="nc"><i>642</i>&nbsp;                            if(isRequestResponse &amp;&amp; outputMessage != null) {</b>
<i>643</i>&nbsp;                                QName thatOp1 = new QName(this.getResponseNamespaceURI(soapResponseBody), definitiveParameterList + &quot;Response&quot;);
<i>644</i>&nbsp;                                RpcLitStructure duplicateNames = new RpcLitStructure(thatOp1, this.getJAXBModelBuilder().getJAXBModel());
<i>645</i>&nbsp;                                duplicateNames.setJavaType(new JavaSimpleType(&quot;com.sun.xml.internal.ws.encoding.jaxb.RpcLitPayload&quot;, (String)null));
<i>646</i>&nbsp;                                body2 = new Block(thatOp1, duplicateNames, outputMessage);
<b class="nc"><i>647</i>&nbsp;                                response.addBodyBlock(body2);</b>
<i>648</i>&nbsp;                            }
<i>649</i>&nbsp;
<b class="nc"><i>650</i>&nbsp;                            params = this.getRpcLitParameters(request, response, bb, body2, parameterList);</b>
<i>651</i>&nbsp;                        }
<i>652</i>&nbsp;
<i>653</i>&nbsp;                        if(!this.validateParameterName(params)) {
<b class="nc"><i>654</i>&nbsp;                            return null;</b>
<b class="nc"><i>655</i>&nbsp;                        } else {</b>
<b class="nc"><i>656</i>&nbsp;                            ArrayList definitiveParameterList1 = new ArrayList();</b>
<i>657</i>&nbsp;                            Iterator bb1 = params.iterator();
<b class="nc"><i>658</i>&nbsp;</b>
<b class="nc"><i>659</i>&nbsp;                            while(bb1.hasNext()) {</b>
<i>660</i>&nbsp;                                Parameter body1 = (Parameter)bb1.next();
<i>661</i>&nbsp;                                if(body1.isReturn()) {
<i>662</i>&nbsp;                                    this.info.operation.setProperty(&quot;com.sun.xml.internal.ws.processor.modeler.wsdl.resultParameter&quot;, body1);
<b class="nc"><i>663</i>&nbsp;                                    response.addParameter(body1);</b>
<i>664</i>&nbsp;                                } else {
<b class="nc"><i>665</i>&nbsp;                                    if(body1.isIN()) {</b>
<i>666</i>&nbsp;                                        request.addParameter(body1);
<b class="nc"><i>667</i>&nbsp;                                    } else if(body1.isOUT()) {</b>
<b class="nc"><i>668</i>&nbsp;                                        response.addParameter(body1);</b>
<i>669</i>&nbsp;                                    } else if(body1.isINOUT()) {
<i>670</i>&nbsp;                                        request.addParameter(body1);
<b class="nc"><i>671</i>&nbsp;                                        response.addParameter(body1);</b>
<b class="nc"><i>672</i>&nbsp;                                    }</b>
<i>673</i>&nbsp;
<i>674</i>&nbsp;                                    definitiveParameterList1.add(body1);
<b class="nc"><i>675</i>&nbsp;                                }</b>
<b class="nc"><i>676</i>&nbsp;                            }</b>
<i>677</i>&nbsp;
<b class="nc"><i>678</i>&nbsp;                            this.info.operation.setRequest(request);</b>
<i>679</i>&nbsp;                            if(isRequestResponse) {
<i>680</i>&nbsp;                                this.info.operation.setResponse(response);
<b class="nc"><i>681</i>&nbsp;                            }</b>
<b class="nc"><i>682</i>&nbsp;</b>
<b class="nc"><i>683</i>&nbsp;                            bb1 = request.getBodyBlocks();</b>
<b class="nc"><i>684</i>&nbsp;                            Operation thatOp2;</b>
<b class="nc"><i>685</i>&nbsp;                            if(bb1.hasNext()) {</b>
<i>686</i>&nbsp;                                body = ((Block)bb1.next()).getName();
<b class="nc"><i>687</i>&nbsp;                                thatOp2 = (Operation)this.uniqueBodyBlocks.get(body);</b>
<i>688</i>&nbsp;                            } else {
<i>689</i>&nbsp;                                body = this.VOID_BODYBLOCK;
<b class="nc"><i>690</i>&nbsp;                                thatOp2 = (Operation)this.uniqueBodyBlocks.get(this.VOID_BODYBLOCK);</b>
<i>691</i>&nbsp;                            }
<i>692</i>&nbsp;
<b class="nc"><i>693</i>&nbsp;                            if(thatOp2 != null) {</b>
<i>694</i>&nbsp;                                if(this.options.isExtensionMode()) {
<i>695</i>&nbsp;                                    this.warning(this.info.port, ModelerMessages.WSDLMODELER_NON_UNIQUE_BODY_WARNING(this.info.port.getName(), this.info.operation.getName(), thatOp2.getName(), body));
<i>696</i>&nbsp;                                } else {
<i>697</i>&nbsp;                                    this.error(this.info.port, ModelerMessages.WSDLMODELER_NON_UNIQUE_BODY_ERROR(this.info.port.getName(), this.info.operation.getName(), thatOp2.getName(), body));
<b class="nc"><i>698</i>&nbsp;                                }</b>
<b class="nc"><i>699</i>&nbsp;                            } else {</b>
<i>700</i>&nbsp;                                this.uniqueBodyBlocks.put(body, this.info.operation);
<b class="nc"><i>701</i>&nbsp;                            }</b>
<b class="nc"><i>702</i>&nbsp;</b>
<b class="nc"><i>703</i>&nbsp;                            if(this.options.additionalHeaders) {</b>
<b class="nc"><i>704</i>&nbsp;                                ArrayList duplicateNames2 = new ArrayList();</b>
<b class="nc"><i>705</i>&nbsp;                                if(inputMessage != null) {</b>
<b class="nc"><i>706</i>&nbsp;                                    Iterator binding = this.getAdditionHeaderParts(this.info.bindingOperation, inputMessage, true).iterator();</b>
<b class="nc"><i>707</i>&nbsp;</b>
<b class="nc"><i>708</i>&nbsp;                                    while(binding.hasNext()) {</b>
<b class="nc"><i>709</i>&nbsp;                                        MessagePart portType = (MessagePart)binding.next();</b>
<i>710</i>&nbsp;                                        QName outParam = portType.getDescriptor();
<i>711</i>&nbsp;                                        JAXBType i$ = this.getJAXBType(portType);
<i>712</i>&nbsp;                                        Block inParam = new Block(outParam, i$, portType);
<b class="nc"><i>713</i>&nbsp;                                        Parameter block = ModelerUtils.createParameter(portType.getName(), i$, inParam);</b>
<i>714</i>&nbsp;                                        duplicateNames2.add(block);
<b class="nc"><i>715</i>&nbsp;                                        request.addHeaderBlock(inParam);</b>
<b class="nc"><i>716</i>&nbsp;                                        request.addParameter(block);</b>
<b class="nc"><i>717</i>&nbsp;                                        definitiveParameterList1.add(block);</b>
<b class="nc"><i>718</i>&nbsp;                                    }</b>
<b class="nc"><i>719</i>&nbsp;                                }</b>
<b class="nc"><i>720</i>&nbsp;</b>
<i>721</i>&nbsp;                                if(isRequestResponse &amp;&amp; outputMessage != null) {
<b class="nc"><i>722</i>&nbsp;                                    ArrayList binding2 = new ArrayList();</b>
<b class="nc"><i>723</i>&nbsp;                                    Iterator portType2 = this.getAdditionHeaderParts(this.info.bindingOperation, outputMessage, false).iterator();</b>
<i>724</i>&nbsp;
<b class="nc"><i>725</i>&nbsp;                                    while(portType2.hasNext()) {</b>
<i>726</i>&nbsp;                                        MessagePart outParam1 = (MessagePart)portType2.next();
<i>727</i>&nbsp;                                        QName i$2 = outParam1.getDescriptor();
<i>728</i>&nbsp;                                        JAXBType inParam1 = this.getJAXBType(outParam1);
<b class="nc"><i>729</i>&nbsp;                                        Block block1 = new Block(i$2, inParam1, outParam1);</b>
<i>730</i>&nbsp;                                        Parameter param = ModelerUtils.createParameter(outParam1.getName(), inParam1, block1);
<b class="nc"><i>731</i>&nbsp;                                        param.setMode(Mode.OUT);</b>
<i>732</i>&nbsp;                                        binding2.add(param);
<i>733</i>&nbsp;                                        response.addHeaderBlock(block1);
<b class="nc"><i>734</i>&nbsp;                                        response.addParameter(param);</b>
<i>735</i>&nbsp;                                    }
<i>736</i>&nbsp;
<i>737</i>&nbsp;                                    portType2 = binding2.iterator();
<i>738</i>&nbsp;
<i>739</i>&nbsp;                                    while(portType2.hasNext()) {
<i>740</i>&nbsp;                                        Parameter outParam2 = (Parameter)portType2.next();
<b class="nc"><i>741</i>&nbsp;                                        Iterator i$1 = duplicateNames2.iterator();</b>
<b class="nc"><i>742</i>&nbsp;</b>
<b class="nc"><i>743</i>&nbsp;                                        while(i$1.hasNext()) {</b>
<i>744</i>&nbsp;                                            Parameter inParam2 = (Parameter)i$1.next();
<b class="nc"><i>745</i>&nbsp;                                            if(inParam2.getName().equals(outParam2.getName()) &amp;&amp; inParam2.getBlock().getName().equals(outParam2.getBlock().getName())) {</b>
<b class="nc"><i>746</i>&nbsp;                                                inParam2.setMode(Mode.INOUT);</b>
<b class="nc"><i>747</i>&nbsp;                                                outParam2.setMode(Mode.INOUT);</b>
<b class="nc"><i>748</i>&nbsp;                                                break;</b>
<i>749</i>&nbsp;                                            }
<b class="nc"><i>750</i>&nbsp;                                        }</b>
<i>751</i>&nbsp;
<b class="nc"><i>752</i>&nbsp;                                        if(outParam2.isOUT()) {</b>
<i>753</i>&nbsp;                                            definitiveParameterList1.add(outParam2);
<i>754</i>&nbsp;                                        }
<i>755</i>&nbsp;                                    }
<b class="nc"><i>756</i>&nbsp;                                }</b>
<i>757</i>&nbsp;                            }
<i>758</i>&nbsp;
<b class="nc"><i>759</i>&nbsp;                            Set duplicateNames1 = this.getDuplicateFaultNames();</b>
<b class="nc"><i>760</i>&nbsp;                            this.handleLiteralSOAPFault(response, duplicateNames1);</b>
<i>761</i>&nbsp;                            this.info.operation.setProperty(&quot;com.sun.xml.internal.ws.processor.modeler.wsdl.parameterOrder&quot;, definitiveParameterList1);
<b class="nc"><i>762</i>&nbsp;                            Binding binding1 = this.info.port.resolveBinding(this.document);</b>
<b class="nc"><i>763</i>&nbsp;                            PortType portType1 = binding1.resolvePortType(this.document);</b>
<b class="nc"><i>764</i>&nbsp;                            if(this.isAsync(portType1, this.info.portTypeOperation)) {</b>
<b class="nc"><i>765</i>&nbsp;                                this.addAsyncOperations(this.info.operation, styleAndUse);</b>
<b class="nc"><i>766</i>&nbsp;                            }</b>
<b class="nc"><i>767</i>&nbsp;</b>
<b class="nc"><i>768</i>&nbsp;                            return this.info.operation;</b>
<b class="nc"><i>769</i>&nbsp;                        }</b>
<b class="nc"><i>770</i>&nbsp;                    }</b>
<b class="nc"><i>771</i>&nbsp;                }</b>
<b class="nc"><i>772</i>&nbsp;            } else {</b>
<b class="nc"><i>773</i>&nbsp;                return null;</b>
<b class="nc"><i>774</i>&nbsp;            }</b>
<b class="nc"><i>775</i>&nbsp;        }</b>
<i>776</i>&nbsp;    }
<i>777</i>&nbsp;
<b class="nc"><i>778</i>&nbsp;    private boolean validateParameterName(List&lt;Parameter&gt; params) {</b>
<b class="nc"><i>779</i>&nbsp;        if(this.options.isExtensionMode()) {</b>
<b class="nc"><i>780</i>&nbsp;            return true;</b>
<b class="nc"><i>781</i>&nbsp;        } else {</b>
<b class="nc"><i>782</i>&nbsp;            Message msg = this.getInputMessage();</b>
<b class="nc"><i>783</i>&nbsp;            Iterator isRequestResponse = params.iterator();</b>
<b class="nc"><i>784</i>&nbsp;</b>
<i>785</i>&nbsp;            while(isRequestResponse.hasNext()) {
<b class="nc"><i>786</i>&nbsp;                Parameter i$ = (Parameter)isRequestResponse.next();</b>
<i>787</i>&nbsp;                if(!i$.isOUT()) {
<i>788</i>&nbsp;                    if(i$.getCustomName() != null) {
<i>789</i>&nbsp;                        if(Names.isJavaReservedWord(i$.getCustomName())) {
<b class="nc"><i>790</i>&nbsp;                            this.error(i$.getEntity(), ModelerMessages.WSDLMODELER_INVALID_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_CUSTOM_NAME(this.info.operation.getName(), i$.getCustomName()));</b>
<b class="nc"><i>791</i>&nbsp;                            return false;</b>
<i>792</i>&nbsp;                        }
<i>793</i>&nbsp;
<i>794</i>&nbsp;                        return true;
<i>795</i>&nbsp;                    }
<b class="nc"><i>796</i>&nbsp;</b>
<b class="nc"><i>797</i>&nbsp;                    if(i$.isEmbedded() &amp;&amp; !(i$.getBlock().getType() instanceof RpcLitStructure)) {</b>
<b class="nc"><i>798</i>&nbsp;                        if(Names.isJavaReservedWord(i$.getName())) {</b>
<b class="nc"><i>799</i>&nbsp;                            this.error(i$.getEntity(), ModelerMessages.WSDLMODELER_INVALID_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_WRAPPER_STYLE(this.info.operation.getName(), i$.getName(), i$.getBlock().getName()));</b>
<b class="nc"><i>800</i>&nbsp;                            return false;</b>
<b class="nc"><i>801</i>&nbsp;                        }</b>
<i>802</i>&nbsp;                    } else if(Names.isJavaReservedWord(i$.getName())) {
<b class="nc"><i>803</i>&nbsp;                        this.error(i$.getEntity(), ModelerMessages.WSDLMODELER_INVALID_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_NON_WRAPPER_STYLE(this.info.operation.getName(), msg.getName(), i$.getName()));</b>
<b class="nc"><i>804</i>&nbsp;                        return false;</b>
<b class="nc"><i>805</i>&nbsp;                    }</b>
<b class="nc"><i>806</i>&nbsp;                }</b>
<b class="nc"><i>807</i>&nbsp;            }</b>
<b class="nc"><i>808</i>&nbsp;</b>
<b class="nc"><i>809</i>&nbsp;            boolean isRequestResponse1 = this.info.portTypeOperation.getStyle() == OperationStyle.REQUEST_RESPONSE;</b>
<i>810</i>&nbsp;            if(isRequestResponse1) {
<b class="nc"><i>811</i>&nbsp;                msg = this.getOutputMessage();</b>
<i>812</i>&nbsp;                Iterator i$1 = params.iterator();
<i>813</i>&nbsp;
<b class="nc"><i>814</i>&nbsp;                while(i$1.hasNext()) {</b>
<i>815</i>&nbsp;                    Parameter param = (Parameter)i$1.next();
<b class="nc"><i>816</i>&nbsp;                    if(!param.isIN()) {</b>
<b class="nc"><i>817</i>&nbsp;                        if(param.getCustomName() != null) {</b>
<i>818</i>&nbsp;                            if(Names.isJavaReservedWord(param.getCustomName())) {
<i>819</i>&nbsp;                                this.error(param.getEntity(), ModelerMessages.WSDLMODELER_INVALID_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_CUSTOM_NAME(this.info.operation.getName(), param.getCustomName()));
<b class="nc"><i>820</i>&nbsp;                                return false;</b>
<b class="nc"><i>821</i>&nbsp;                            }</b>
<b class="nc"><i>822</i>&nbsp;</b>
<i>823</i>&nbsp;                            return true;
<i>824</i>&nbsp;                        }
<b class="nc"><i>825</i>&nbsp;</b>
<b class="nc"><i>826</i>&nbsp;                        if(param.isEmbedded() &amp;&amp; !(param.getBlock().getType() instanceof RpcLitStructure)) {</b>
<b class="nc"><i>827</i>&nbsp;                            if(!param.isReturn() &amp;&amp; !param.getName().equals(&quot;return&quot;) &amp;&amp; Names.isJavaReservedWord(param.getName())) {</b>
<i>828</i>&nbsp;                                this.error(param.getEntity(), ModelerMessages.WSDLMODELER_INVALID_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_WRAPPER_STYLE(this.info.operation.getName(), param.getName(), param.getBlock().getName()));
<i>829</i>&nbsp;                                return false;
<b class="nc"><i>830</i>&nbsp;                            }</b>
<b class="nc"><i>831</i>&nbsp;                        } else if(!param.isReturn() &amp;&amp; Names.isJavaReservedWord(param.getName())) {</b>
<i>832</i>&nbsp;                            this.error(param.getEntity(), ModelerMessages.WSDLMODELER_INVALID_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_NON_WRAPPER_STYLE(this.info.operation.getName(), msg.getName(), param.getName()));
<i>833</i>&nbsp;                            return false;
<b class="nc"><i>834</i>&nbsp;                        }</b>
<b class="nc"><i>835</i>&nbsp;                    }</b>
<b class="nc"><i>836</i>&nbsp;                }</b>
<i>837</i>&nbsp;            }
<b class="nc"><i>838</i>&nbsp;</b>
<i>839</i>&nbsp;            return true;
<i>840</i>&nbsp;        }
<b class="nc"><i>841</i>&nbsp;    }</b>
<i>842</i>&nbsp;
<i>843</i>&nbsp;    private boolean enableMimeContent() {
<i>844</i>&nbsp;        JAXWSBinding jaxwsCustomization = (JAXWSBinding)getExtensionOfType(this.info.bindingOperation, JAXWSBinding.class);
<b class="nc"><i>845</i>&nbsp;        Boolean mimeContentMapping = jaxwsCustomization != null?jaxwsCustomization.isEnableMimeContentMapping():null;</b>
<b class="nc"><i>846</i>&nbsp;        if(mimeContentMapping != null) {</b>
<b class="nc"><i>847</i>&nbsp;            return mimeContentMapping.booleanValue();</b>
<b class="nc"><i>848</i>&nbsp;        } else {</b>
<b class="nc"><i>849</i>&nbsp;            Binding binding = this.info.port.resolveBinding(this.info.document);</b>
<b class="nc"><i>850</i>&nbsp;            jaxwsCustomization = (JAXWSBinding)getExtensionOfType(binding, JAXWSBinding.class);</b>
<b class="nc"><i>851</i>&nbsp;            mimeContentMapping = jaxwsCustomization != null?jaxwsCustomization.isEnableMimeContentMapping():null;</b>
<b class="nc"><i>852</i>&nbsp;            if(mimeContentMapping != null) {</b>
<b class="nc"><i>853</i>&nbsp;                return mimeContentMapping.booleanValue();</b>
<b class="nc"><i>854</i>&nbsp;            } else {</b>
<b class="nc"><i>855</i>&nbsp;                jaxwsCustomization = (JAXWSBinding)getExtensionOfType(this.info.document.getDefinitions(), JAXWSBinding.class);</b>
<b class="nc"><i>856</i>&nbsp;                mimeContentMapping = jaxwsCustomization != null?jaxwsCustomization.isEnableMimeContentMapping():null;</b>
<b class="nc"><i>857</i>&nbsp;                return mimeContentMapping != null?mimeContentMapping.booleanValue():false;</b>
<i>858</i>&nbsp;            }
<i>859</i>&nbsp;        }
<b class="nc"><i>860</i>&nbsp;    }</b>
<b class="nc"><i>861</i>&nbsp;</b>
<b class="nc"><i>862</i>&nbsp;    private boolean applyOperationNameCustomization() {</b>
<b class="nc"><i>863</i>&nbsp;        JAXWSBinding jaxwsCustomization = (JAXWSBinding)getExtensionOfType(this.info.portTypeOperation, JAXWSBinding.class);</b>
<b class="nc"><i>864</i>&nbsp;        String operationName = jaxwsCustomization != null?(jaxwsCustomization.getMethodName() != null?jaxwsCustomization.getMethodName().getName():null):null;</b>
<b class="nc"><i>865</i>&nbsp;        if(operationName != null) {</b>
<b class="nc"><i>866</i>&nbsp;            if(Names.isJavaReservedWord(operationName)) {</b>
<b class="nc"><i>867</i>&nbsp;                if(this.options.isExtensionMode()) {</b>
<b class="nc"><i>868</i>&nbsp;                    this.warning(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_WARNING_IGNORING_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_CUSTOMIZED_OPERATION_NAME(this.info.operation.getName(), operationName));</b>
<b class="nc"><i>869</i>&nbsp;                } else {</b>
<b class="nc"><i>870</i>&nbsp;                    this.error(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_INVALID_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_CUSTOMIZED_OPERATION_NAME(this.info.operation.getName(), operationName));</b>
<b class="nc"><i>871</i>&nbsp;                }</b>
<b class="nc"><i>872</i>&nbsp;</b>
<b class="nc"><i>873</i>&nbsp;                return false;</b>
<b class="nc"><i>874</i>&nbsp;            }</b>
<i>875</i>&nbsp;
<i>876</i>&nbsp;            this.info.operation.setCustomizedName(operationName);
<b class="nc"><i>877</i>&nbsp;        }</b>
<b class="nc"><i>878</i>&nbsp;</b>
<b class="nc"><i>879</i>&nbsp;        if(Names.isJavaReservedWord(this.info.operation.getJavaMethodName())) {</b>
<i>880</i>&nbsp;            if(this.options.isExtensionMode()) {
<i>881</i>&nbsp;                this.warning(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_WARNING_IGNORING_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_OPERATION_NAME(this.info.operation.getName()));
<b class="nc"><i>882</i>&nbsp;            } else {</b>
<b class="nc"><i>883</i>&nbsp;                this.error(this.info.portTypeOperation, ModelerMessages.WSDLMODELER_INVALID_OPERATION_JAVA_RESERVED_WORD_NOT_ALLOWED_OPERATION_NAME(this.info.operation.getName()));</b>
<i>884</i>&nbsp;            }
<i>885</i>&nbsp;
<i>886</i>&nbsp;            return false;
<i>887</i>&nbsp;        } else {
<i>888</i>&nbsp;            return true;
<i>889</i>&nbsp;        }
<b class="nc"><i>890</i>&nbsp;    }</b>
<i>891</i>&nbsp;
<i>892</i>&nbsp;    protected String getAsyncOperationName(Operation operation) {
<b class="nc"><i>893</i>&nbsp;        String name = operation.getCustomizedName();</b>
<b class="nc"><i>894</i>&nbsp;        if(name == null) {</b>
<i>895</i>&nbsp;            name = operation.getUniqueName();
<i>896</i>&nbsp;        }
<i>897</i>&nbsp;
<i>898</i>&nbsp;        return name;
<b class="nc"><i>899</i>&nbsp;    }</b>
<b class="nc"><i>900</i>&nbsp;</b>
<b class="nc"><i>901</i>&nbsp;    private void addAsyncOperations(Operation syncOperation, WSDLModeler.StyleAndUse styleAndUse) {</b>
<b class="nc"><i>902</i>&nbsp;        Operation operation = this.createAsyncOperation(syncOperation, styleAndUse, AsyncOperationType.POLLING);</b>
<i>903</i>&nbsp;        if(operation != null) {
<i>904</i>&nbsp;            this.info.modelPort.addOperation(operation);
<b class="nc"><i>905</i>&nbsp;        }</b>
<i>906</i>&nbsp;
<i>907</i>&nbsp;        operation = this.createAsyncOperation(syncOperation, styleAndUse, AsyncOperationType.CALLBACK);
<i>908</i>&nbsp;        if(operation != null) {
<i>909</i>&nbsp;            this.info.modelPort.addOperation(operation);
<b class="nc"><i>910</i>&nbsp;        }</b>
<b class="nc"><i>911</i>&nbsp;</b>
<i>912</i>&nbsp;    }
<b class="nc"><i>913</i>&nbsp;</b>
<b class="nc"><i>914</i>&nbsp;    private Operation createAsyncOperation(Operation syncOperation, WSDLModeler.StyleAndUse styleAndUse, AsyncOperationType asyncType) {</b>
<b class="nc"><i>915</i>&nbsp;        boolean isRequestResponse = this.info.portTypeOperation.getStyle() == OperationStyle.REQUEST_RESPONSE;</b>
<b class="nc"><i>916</i>&nbsp;        if(!isRequestResponse) {</b>
<b class="nc"><i>917</i>&nbsp;            return null;</b>
<b class="nc"><i>918</i>&nbsp;        } else {</b>
<b class="nc"><i>919</i>&nbsp;            AsyncOperation operation = new AsyncOperation(this.info.operation, this.info.bindingOperation);</b>
<b class="nc"><i>920</i>&nbsp;            if(asyncType.equals(AsyncOperationType.CALLBACK)) {</b>
<i>921</i>&nbsp;                operation.setUniqueName(this.info.operation.getUniqueName() + &quot;_async_callback&quot;);
<b class="nc"><i>922</i>&nbsp;            } else if(asyncType.equals(AsyncOperationType.POLLING)) {</b>
<i>923</i>&nbsp;                operation.setUniqueName(this.info.operation.getUniqueName() + &quot;_async_polling&quot;);
<i>924</i>&nbsp;            }
<b class="nc"><i>925</i>&nbsp;</b>
<b class="nc"><i>926</i>&nbsp;            setDocumentationIfPresent(operation, this.info.portTypeOperation.getDocumentation());</b>
<b class="nc"><i>927</i>&nbsp;            operation.setAsyncType(asyncType);</b>
<b class="nc"><i>928</i>&nbsp;            operation.setSOAPAction(this.info.operation.getSOAPAction());</b>
<i>929</i>&nbsp;            boolean unwrappable = this.info.operation.isWrapped();
<i>930</i>&nbsp;            operation.setWrapped(unwrappable);
<i>931</i>&nbsp;            SOAPBody soapRequestBody = this.getSOAPRequestBody();
<b class="nc"><i>932</i>&nbsp;            Message inputMessage = this.getInputMessage();</b>
<b class="nc"><i>933</i>&nbsp;            Request request = new Request(inputMessage, this.errReceiver);</b>
<b class="nc"><i>934</i>&nbsp;            SOAPBody soapResponseBody = this.getSOAPResponseBody();</b>
<i>935</i>&nbsp;            Message outputMessage = this.getOutputMessage();
<i>936</i>&nbsp;            Response response = new Response(outputMessage, this.errReceiver);
<i>937</i>&nbsp;            List parameterList = this.getAsynParameterOrder();
<i>938</i>&nbsp;            List inParameters = null;
<b class="nc"><i>939</i>&nbsp;            if(this.isOperationDocumentLiteral(styleAndUse)) {</b>
<b class="nc"><i>940</i>&nbsp;                inParameters = this.getRequestParameters(request, parameterList);</b>
<b class="nc"><i>941</i>&nbsp;                if(unwrappable) {</b>
<b class="nc"><i>942</i>&nbsp;                    ArrayList blocks = new ArrayList();</b>
<b class="nc"><i>943</i>&nbsp;                    if(inputMessage != null) {</b>
<b class="nc"><i>944</i>&nbsp;                        Iterator outputParts = inputMessage.parts();</b>
<b class="nc"><i>945</i>&nbsp;                        if(outputParts.hasNext()) {</b>
<b class="nc"><i>946</i>&nbsp;                            MessagePart numOfOutMsgParts = (MessagePart)outputParts.next();</b>
<b class="nc"><i>947</i>&nbsp;                            JAXBType respBeanName = this.getJAXBType(numOfOutMsgParts);</b>
<b class="nc"><i>948</i>&nbsp;                            List block = respBeanName.getWrapperChildren();</b>
<i>949</i>&nbsp;                            Iterator respJavaType = block.iterator();
<b class="nc"><i>950</i>&nbsp;</b>
<i>951</i>&nbsp;                            while(respJavaType.hasNext()) {
<i>952</i>&nbsp;                                JAXBProperty respType = (JAXBProperty)respJavaType.next();
<b class="nc"><i>953</i>&nbsp;                                blocks.add(respType.getElementName().getLocalPart());</b>
<b class="nc"><i>954</i>&nbsp;                            }</b>
<b class="nc"><i>955</i>&nbsp;                        }</b>
<b class="nc"><i>956</i>&nbsp;                    }</b>
<b class="nc"><i>957</i>&nbsp;</b>
<b class="nc"><i>958</i>&nbsp;                    parameterList.clear();</b>
<i>959</i>&nbsp;                    parameterList.addAll(blocks);
<i>960</i>&nbsp;                }
<b class="nc"><i>961</i>&nbsp;            } else if(this.isOperationRpcLiteral(styleAndUse)) {</b>
<b class="nc"><i>962</i>&nbsp;                String var28 = this.info.bindingOperation.getName();</b>
<i>963</i>&nbsp;                Block var29 = null;
<i>964</i>&nbsp;                if(inputMessage != null) {
<b class="nc"><i>965</i>&nbsp;                    QName var33 = new QName(this.getRequestNamespaceURI(soapRequestBody), var28);</b>
<b class="nc"><i>966</i>&nbsp;                    RpcLitStructure var38 = new RpcLitStructure(var33, this.getJAXBModelBuilder().getJAXBModel());</b>
<b class="nc"><i>967</i>&nbsp;                    var38.setJavaType(new JavaSimpleType(&quot;com.sun.xml.internal.ws.encoding.jaxb.RpcLitPayload&quot;, (String)null));</b>
<i>968</i>&nbsp;                    var29 = new Block(var33, var38, inputMessage);
<i>969</i>&nbsp;                    request.addBodyBlock(var29);
<i>970</i>&nbsp;                }
<i>971</i>&nbsp;
<i>972</i>&nbsp;                inParameters = this.createRpcLitRequestParameters(request, parameterList, var29);
<b class="nc"><i>973</i>&nbsp;            }</b>
<i>974</i>&nbsp;
<i>975</i>&nbsp;            Iterator var30 = this.info.operation.getResponse().getBodyBlocks();
<i>976</i>&nbsp;
<i>977</i>&nbsp;            while(var30.hasNext()) {
<b class="nc"><i>978</i>&nbsp;                response.addBodyBlock((Block)var30.next());</b>
<b class="nc"><i>979</i>&nbsp;            }</b>
<b class="nc"><i>980</i>&nbsp;</b>
<b class="nc"><i>981</i>&nbsp;            var30 = this.info.operation.getResponse().getHeaderBlocks();</b>
<i>982</i>&nbsp;
<i>983</i>&nbsp;            while(var30.hasNext()) {
<b class="nc"><i>984</i>&nbsp;                response.addHeaderBlock((Block)var30.next());</b>
<b class="nc"><i>985</i>&nbsp;            }</b>
<b class="nc"><i>986</i>&nbsp;</b>
<b class="nc"><i>987</i>&nbsp;            var30 = this.info.operation.getResponse().getAttachmentBlocks();</b>
<b class="nc"><i>988</i>&nbsp;</b>
<i>989</i>&nbsp;            while(var30.hasNext()) {
<i>990</i>&nbsp;                response.addAttachmentBlock((Block)var30.next());
<b class="nc"><i>991</i>&nbsp;            }</b>
<b class="nc"><i>992</i>&nbsp;</b>
<b class="nc"><i>993</i>&nbsp;            List var32 = outputMessage.getParts();</b>
<b class="nc"><i>994</i>&nbsp;            int var31 = var32.size();</b>
<b class="nc"><i>995</i>&nbsp;            if(var31 == 1) {</b>
<i>996</i>&nbsp;                MessagePart var37 = (MessagePart)var32.get(0);
<i>997</i>&nbsp;                if(this.isOperationDocumentLiteral(styleAndUse)) {
<i>998</i>&nbsp;                    JAXBType var34 = this.getJAXBType(var37);
<b class="nc"><i>999</i>&nbsp;                    operation.setResponseBean(var34);</b>
<b class="nc"><i>1000</i>&nbsp;                } else if(this.isOperationRpcLiteral(styleAndUse)) {</b>
<b class="nc"><i>1001</i>&nbsp;                    String var43 = this.info.bindingOperation.getName();</b>
<b class="nc"><i>1002</i>&nbsp;                    Block var41 = (Block)this.info.operation.getResponse().getBodyBlocksMap().get(new QName(this.getResponseNamespaceURI(soapResponseBody), var43 + &quot;Response&quot;));</b>
<b class="nc"><i>1003</i>&nbsp;                    RpcLitStructure var46 = (RpcLitStructure)var41.getType();</b>
<b class="nc"><i>1004</i>&nbsp;                    List respParam = var46.getRpcLitMembers();</b>
<i>1005</i>&nbsp;                    operation.setResponseBean((AbstractType)respParam.get(0));
<b class="nc"><i>1006</i>&nbsp;                }</b>
<b class="nc"><i>1007</i>&nbsp;            } else {</b>
<i>1008</i>&nbsp;                String var36 = &quot;&quot;;
<i>1009</i>&nbsp;                QName var42 = new QName(var36, this.getAsyncOperationName(this.info.operation) + &quot;Response&quot;);
<b class="nc"><i>1010</i>&nbsp;                JAXBType var39 = this.jaxbModelBuilder.getJAXBType(var42);</b>
<i>1011</i>&nbsp;                if(var39 == null) {
<i>1012</i>&nbsp;                    this.error(this.info.operation.getEntity(), ModelerMessages.WSDLMODELER_RESPONSEBEAN_NOTFOUND(this.info.operation.getName()));
<b class="nc"><i>1013</i>&nbsp;                }</b>
<b class="nc"><i>1014</i>&nbsp;</b>
<b class="nc"><i>1015</i>&nbsp;                operation.setResponseBean(var39);</b>
<i>1016</i>&nbsp;            }
<b class="nc"><i>1017</i>&nbsp;</b>
<b class="nc"><i>1018</i>&nbsp;            QName var35 = new QName(soapResponseBody.getNamespace(), this.getAsyncOperationName(this.info.operation) + &quot;Response&quot;);</b>
<i>1019</i>&nbsp;            Block var40 = new Block(var35, operation.getResponseBeanType(), outputMessage);
<b class="nc"><i>1020</i>&nbsp;            JavaType var45 = operation.getResponseBeanJavaType();</b>
<i>1021</i>&nbsp;            JAXBType var47 = new JAXBType(var35, var45);
<i>1022</i>&nbsp;            Parameter var44 = ModelerUtils.createParameter(this.info.operation.getName() + &quot;Response&quot;, var47, var40);
<i>1023</i>&nbsp;            var44.setParameterIndex(-1);
<b class="nc"><i>1024</i>&nbsp;            response.addParameter(var44);</b>
<b class="nc"><i>1025</i>&nbsp;            operation.setProperty(&quot;com.sun.xml.internal.ws.processor.modeler.wsdl.resultParameter&quot;, var44.getName());</b>
<b class="nc"><i>1026</i>&nbsp;            ArrayList definitiveParameterList = new ArrayList();</b>
<b class="nc"><i>1027</i>&nbsp;            int parameterOrderPosition = 0;</b>
<i>1028</i>&nbsp;
<i>1029</i>&nbsp;            Parameter cbParam;
<i>1030</i>&nbsp;            for(Iterator cbJavaType = parameterList.iterator(); cbJavaType.hasNext(); ++parameterOrderPosition) {
<i>1031</i>&nbsp;                String callbackType = (String)cbJavaType.next();
<i>1032</i>&nbsp;                cbParam = ModelerUtils.getParameter(callbackType, inParameters);
<i>1033</i>&nbsp;                if(cbParam == null) {
<b class="nc"><i>1034</i>&nbsp;                    if(this.options.isExtensionMode()) {</b>
<b class="nc"><i>1035</i>&nbsp;                        this.warning(this.info.operation.getEntity(), ModelerMessages.WSDLMODELER_WARNING_IGNORING_OPERATION_PART_NOT_FOUND(this.info.operation.getName().getLocalPart(), callbackType));</b>
<b class="nc"><i>1036</i>&nbsp;                    } else {</b>
<i>1037</i>&nbsp;                        this.error(this.info.operation.getEntity(), ModelerMessages.WSDLMODELER_ERROR_PART_NOT_FOUND(this.info.operation.getName().getLocalPart(), callbackType));
<b class="nc"><i>1038</i>&nbsp;                    }</b>
<b class="nc"><i>1039</i>&nbsp;</b>
<b class="nc"><i>1040</i>&nbsp;                    return null;</b>
<i>1041</i>&nbsp;                }
<i>1042</i>&nbsp;
<i>1043</i>&nbsp;                request.addParameter(cbParam);
<b class="nc"><i>1044</i>&nbsp;                cbParam.setParameterIndex(parameterOrderPosition);</b>
<b class="nc"><i>1045</i>&nbsp;                definitiveParameterList.add(callbackType);</b>
<b class="nc"><i>1046</i>&nbsp;            }</b>
<i>1047</i>&nbsp;
<i>1048</i>&nbsp;            operation.setResponse(response);
<b class="nc"><i>1049</i>&nbsp;            if(operation.getAsyncType().equals(AsyncOperationType.CALLBACK)) {</b>
<i>1050</i>&nbsp;                JavaType var48 = operation.getCallBackType();
<i>1051</i>&nbsp;                JAXBType var49 = new JAXBType(var35, var48);
<i>1052</i>&nbsp;                cbParam = ModelerUtils.createParameter(&quot;asyncHandler&quot;, var49, var40);
<b class="nc"><i>1053</i>&nbsp;                request.addParameter(cbParam);</b>
<b class="nc"><i>1054</i>&nbsp;            }</b>
<b class="nc"><i>1055</i>&nbsp;</b>
<b class="nc"><i>1056</i>&nbsp;            operation.setRequest(request);</b>
<i>1057</i>&nbsp;            return operation;
<b class="nc"><i>1058</i>&nbsp;        }</b>
<i>1059</i>&nbsp;    }
<i>1060</i>&nbsp;
<i>1061</i>&nbsp;    protected boolean isAsync(PortType portType, com.sun.tools.internal.ws.wsdl.document.Operation wsdlOperation) {
<b class="nc"><i>1062</i>&nbsp;        JAXWSBinding jaxwsCustomization = (JAXWSBinding)getExtensionOfType(wsdlOperation, JAXWSBinding.class);</b>
<b class="nc"><i>1063</i>&nbsp;        Boolean isAsync = jaxwsCustomization != null?jaxwsCustomization.isEnableAsyncMapping():null;</b>
<b class="nc"><i>1064</i>&nbsp;        if(isAsync != null) {</b>
<b class="nc"><i>1065</i>&nbsp;            return isAsync.booleanValue();</b>
<b class="nc"><i>1066</i>&nbsp;        } else {</b>
<i>1067</i>&nbsp;            new QName(portType.getDefining().getTargetNamespaceURI(), portType.getName());
<b class="nc"><i>1068</i>&nbsp;            jaxwsCustomization = (JAXWSBinding)getExtensionOfType(portType, JAXWSBinding.class);</b>
<b class="nc"><i>1069</i>&nbsp;            isAsync = jaxwsCustomization != null?jaxwsCustomization.isEnableAsyncMapping():null;</b>
<b class="nc"><i>1070</i>&nbsp;            if(isAsync != null) {</b>
<i>1071</i>&nbsp;                return isAsync.booleanValue();
<b class="nc"><i>1072</i>&nbsp;            } else {</b>
<b class="nc"><i>1073</i>&nbsp;                jaxwsCustomization = (JAXWSBinding)getExtensionOfType(this.document.getDefinitions(), JAXWSBinding.class);</b>
<b class="nc"><i>1074</i>&nbsp;                isAsync = jaxwsCustomization != null?jaxwsCustomization.isEnableAsyncMapping():null;</b>
<b class="nc"><i>1075</i>&nbsp;                return isAsync != null?isAsync.booleanValue():false;</b>
<b class="nc"><i>1076</i>&nbsp;            }</b>
<b class="nc"><i>1077</i>&nbsp;        }</b>
<i>1078</i>&nbsp;    }
<i>1079</i>&nbsp;
<i>1080</i>&nbsp;    protected void handleLiteralSOAPHeaders(Request request, Response response, Iterator headerParts, Set duplicateNames, List&lt;String&gt; definitiveParameterList, boolean processRequest) {
<b class="nc"><i>1081</i>&nbsp;        for(int parameterOrderPosition = definitiveParameterList.size(); headerParts.hasNext(); ++parameterOrderPosition) {</b>
<i>1082</i>&nbsp;            MessagePart part = (MessagePart)headerParts.next();
<b class="nc"><i>1083</i>&nbsp;            QName headerName = part.getDescriptor();</b>
<b class="nc"><i>1084</i>&nbsp;            JAXBType jaxbType = this.getJAXBType(part);</b>
<b class="nc"><i>1085</i>&nbsp;            Block headerBlock = new Block(headerName, jaxbType, part);</b>
<i>1086</i>&nbsp;            Object ext;
<i>1087</i>&nbsp;            if(processRequest) {
<b class="nc"><i>1088</i>&nbsp;                ext = this.info.bindingOperation.getInput();</b>
<b class="nc"><i>1089</i>&nbsp;            } else {</b>
<b class="nc"><i>1090</i>&nbsp;                ext = this.info.bindingOperation.getOutput();</b>
<b class="nc"><i>1091</i>&nbsp;            }</b>
<b class="nc"><i>1092</i>&nbsp;</b>
<b class="nc"><i>1093</i>&nbsp;            Message headerMessage = this.getHeaderMessage(part, (TWSDLExtensible)ext);</b>
<b class="nc"><i>1094</i>&nbsp;            if(processRequest) {</b>
<b class="nc"><i>1095</i>&nbsp;                request.addHeaderBlock(headerBlock);</b>
<b class="nc"><i>1096</i>&nbsp;            } else {</b>
<b class="nc"><i>1097</i>&nbsp;                response.addHeaderBlock(headerBlock);</b>
<b class="nc"><i>1098</i>&nbsp;            }</b>
<b class="nc"><i>1099</i>&nbsp;</b>
<b class="nc"><i>1100</i>&nbsp;            Parameter parameter = ModelerUtils.createParameter(part.getName(), jaxbType, headerBlock);</b>
<i>1101</i>&nbsp;            parameter.setParameterIndex(parameterOrderPosition);
<i>1102</i>&nbsp;            this.setCustomizedParameterName(this.info.bindingOperation, headerMessage, part, parameter, false);
<i>1103</i>&nbsp;            if(processRequest &amp;&amp; definitiveParameterList != null) {
<b class="nc"><i>1104</i>&nbsp;                request.addParameter(parameter);</b>
<b class="nc"><i>1105</i>&nbsp;                definitiveParameterList.add(parameter.getName());</b>
<b class="nc"><i>1106</i>&nbsp;            } else {</b>
<b class="nc"><i>1107</i>&nbsp;                if(definitiveParameterList != null) {</b>
<b class="nc"><i>1108</i>&nbsp;                    Iterator iterInParams = definitiveParameterList.iterator();</b>
<b class="nc"><i>1109</i>&nbsp;</b>
<b class="nc"><i>1110</i>&nbsp;                    while(iterInParams.hasNext()) {</b>
<b class="nc"><i>1111</i>&nbsp;                        String inParamName = (String)iterInParams.next();</b>
<b class="nc"><i>1112</i>&nbsp;                        if(inParamName.equals(parameter.getName())) {</b>
<b class="nc"><i>1113</i>&nbsp;                            Parameter inParam = request.getParameterByName(inParamName);</b>
<b class="nc"><i>1114</i>&nbsp;                            parameter.setLinkedParameter(inParam);</b>
<b class="nc"><i>1115</i>&nbsp;                            inParam.setLinkedParameter(parameter);</b>
<i>1116</i>&nbsp;                            parameter.setParameterIndex(inParam.getParameterIndex());
<b class="nc"><i>1117</i>&nbsp;                        }</b>
<i>1118</i>&nbsp;                    }
<i>1119</i>&nbsp;
<i>1120</i>&nbsp;                    if(!definitiveParameterList.contains(parameter.getName())) {
<i>1121</i>&nbsp;                        definitiveParameterList.add(parameter.getName());
<i>1122</i>&nbsp;                    }
<b class="nc"><i>1123</i>&nbsp;                }</b>
<i>1124</i>&nbsp;
<b class="nc"><i>1125</i>&nbsp;                response.addParameter(parameter);</b>
<b class="nc"><i>1126</i>&nbsp;            }</b>
<i>1127</i>&nbsp;        }
<i>1128</i>&nbsp;
<b class="nc"><i>1129</i>&nbsp;    }</b>
<b class="nc"><i>1130</i>&nbsp;</b>
<b class="nc"><i>1131</i>&nbsp;    protected void handleLiteralSOAPFault(Response response, Set duplicateNames) {</b>
<i>1132</i>&nbsp;        Iterator i$ = this.info.bindingOperation.faults().iterator();
<i>1133</i>&nbsp;
<b class="nc"><i>1134</i>&nbsp;        Iterator faultName;</b>
<b class="nc"><i>1135</i>&nbsp;        while(i$.hasNext()) {</b>
<b class="nc"><i>1136</i>&nbsp;            BindingFault portTypeFault = (BindingFault)i$.next();</b>
<i>1137</i>&nbsp;            Fault bindingFault = null;
<i>1138</i>&nbsp;            faultName = this.info.portTypeOperation.faults().iterator();
<b class="nc"><i>1139</i>&nbsp;</b>
<i>1140</i>&nbsp;            while(faultName.hasNext()) {
<i>1141</i>&nbsp;                Fault fault = (Fault)faultName.next();
<b class="nc"><i>1142</i>&nbsp;                if(fault.getName().equals(portTypeFault.getName())) {</b>
<i>1143</i>&nbsp;                    if(bindingFault != null) {
<b class="nc"><i>1144</i>&nbsp;                        this.error(bindingFault, ModelerMessages.WSDLMODELER_INVALID_BINDING_FAULT_NOT_UNIQUE(portTypeFault.getName(), this.info.bindingOperation.getName()));</b>
<b class="nc"><i>1145</i>&nbsp;                    }</b>
<b class="nc"><i>1146</i>&nbsp;</b>
<b class="nc"><i>1147</i>&nbsp;                    bindingFault = fault;</b>
<b class="nc"><i>1148</i>&nbsp;                }</b>
<b class="nc"><i>1149</i>&nbsp;            }</b>
<b class="nc"><i>1150</i>&nbsp;</b>
<b class="nc"><i>1151</i>&nbsp;            if(bindingFault == null) {</b>
<b class="nc"><i>1152</i>&nbsp;                this.error(portTypeFault, ModelerMessages.WSDLMODELER_INVALID_BINDING_FAULT_NOT_FOUND(portTypeFault.getName(), this.info.bindingOperation.getName()));</b>
<b class="nc"><i>1153</i>&nbsp;            }</b>
<b class="nc"><i>1154</i>&nbsp;        }</b>
<i>1155</i>&nbsp;
<i>1156</i>&nbsp;        i$ = this.info.portTypeOperation.faults().iterator();
<b class="nc"><i>1157</i>&nbsp;</b>
<b class="nc"><i>1158</i>&nbsp;        while(i$.hasNext()) {</b>
<i>1159</i>&nbsp;            Fault portTypeFault1 = (Fault)i$.next();
<b class="nc"><i>1160</i>&nbsp;            BindingFault bindingFault1 = null;</b>
<i>1161</i>&nbsp;            faultName = this.info.bindingOperation.faults().iterator();
<b class="nc"><i>1162</i>&nbsp;</b>
<i>1163</i>&nbsp;            while(faultName.hasNext()) {
<b class="nc"><i>1164</i>&nbsp;                BindingFault fault1 = (BindingFault)faultName.next();</b>
<b class="nc"><i>1165</i>&nbsp;                if(fault1.getName().equals(portTypeFault1.getName())) {</b>
<b class="nc"><i>1166</i>&nbsp;                    bindingFault1 = fault1;</b>
<b class="nc"><i>1167</i>&nbsp;                }</b>
<b class="nc"><i>1168</i>&nbsp;            }</b>
<i>1169</i>&nbsp;
<b class="nc"><i>1170</i>&nbsp;            if(bindingFault1 == null) {</b>
<i>1171</i>&nbsp;                this.warning(portTypeFault1, ModelerMessages.WSDLMODELER_INVALID_PORT_TYPE_FAULT_NOT_FOUND(portTypeFault1.getName(), this.info.portTypeOperation.getName()));
<i>1172</i>&nbsp;            }
<b class="nc"><i>1173</i>&nbsp;</b>
<b class="nc"><i>1174</i>&nbsp;            String faultName1 = this.getFaultClassName(portTypeFault1);</b>
<b class="nc"><i>1175</i>&nbsp;            com.sun.tools.internal.ws.processor.model.Fault fault2 = new com.sun.tools.internal.ws.processor.model.Fault(faultName1, portTypeFault1);</b>
<b class="nc"><i>1176</i>&nbsp;            fault2.setWsdlFaultName(portTypeFault1.getName());</b>
<b class="nc"><i>1177</i>&nbsp;            setDocumentationIfPresent(fault2, portTypeFault1.getDocumentation());</b>
<b class="nc"><i>1178</i>&nbsp;            String faultNamespaceURI = null;</b>
<b class="nc"><i>1179</i>&nbsp;            if(bindingFault1 != null) {</b>
<b class="nc"><i>1180</i>&nbsp;                SOAPFault faultMessage = (SOAPFault)getExtensionOfType(bindingFault1, SOAPFault.class);</b>
<i>1181</i>&nbsp;                if(faultMessage == null) {
<i>1182</i>&nbsp;                    if(this.options.isExtensionMode()) {
<b class="nc"><i>1183</i>&nbsp;                        this.warning(bindingFault1, ModelerMessages.WSDLMODELER_INVALID_BINDING_FAULT_OUTPUT_MISSING_SOAP_FAULT(bindingFault1.getName(), this.info.bindingOperation.getName()));</b>
<b class="nc"><i>1184</i>&nbsp;                        faultMessage = new SOAPFault(new LocatorImpl());</b>
<b class="nc"><i>1185</i>&nbsp;                    } else {</b>
<b class="nc"><i>1186</i>&nbsp;                        this.error(bindingFault1, ModelerMessages.WSDLMODELER_INVALID_BINDING_FAULT_OUTPUT_MISSING_SOAP_FAULT(bindingFault1.getName(), this.info.bindingOperation.getName()));</b>
<i>1187</i>&nbsp;                    }
<b class="nc"><i>1188</i>&nbsp;                }</b>
<b class="nc"><i>1189</i>&nbsp;</b>
<b class="nc"><i>1190</i>&nbsp;                if(!faultMessage.isLiteral()) {</b>
<b class="nc"><i>1191</i>&nbsp;                    if(this.options.isExtensionMode()) {</b>
<i>1192</i>&nbsp;                        this.warning(faultMessage, ModelerMessages.WSDLMODELER_WARNING_IGNORING_FAULT_NOT_LITERAL(bindingFault1.getName(), this.info.bindingOperation.getName()));
<b class="nc"><i>1193</i>&nbsp;                    } else {</b>
<b class="nc"><i>1194</i>&nbsp;                        this.error(faultMessage, ModelerMessages.WSDLMODELER_INVALID_OPERATION_FAULT_NOT_LITERAL(bindingFault1.getName(), this.info.bindingOperation.getName()));</b>
<i>1195</i>&nbsp;                    }
<b class="nc"><i>1196</i>&nbsp;                    continue;</b>
<b class="nc"><i>1197</i>&nbsp;                }</b>
<b class="nc"><i>1198</i>&nbsp;</b>
<b class="nc"><i>1199</i>&nbsp;                if(faultMessage.getName() == null) {</b>
<b class="nc"><i>1200</i>&nbsp;                    this.warning(bindingFault1, ModelerMessages.WSDLMODELER_INVALID_BINDING_FAULT_NO_SOAP_FAULT_NAME(bindingFault1.getName(), this.info.bindingOperation.getName()));</b>
<i>1201</i>&nbsp;                } else if(!faultMessage.getName().equals(bindingFault1.getName())) {
<b class="nc"><i>1202</i>&nbsp;                    this.warning(faultMessage, ModelerMessages.WSDLMODELER_INVALID_BINDING_FAULT_WRONG_SOAP_FAULT_NAME(faultMessage.getName(), bindingFault1.getName(), this.info.bindingOperation.getName()));</b>
<b class="nc"><i>1203</i>&nbsp;                } else if(faultMessage.getNamespace() != null) {</b>
<i>1204</i>&nbsp;                    this.warning(faultMessage, ModelerMessages.WSDLMODELER_WARNING_R_2716_R_2726(&quot;soapbind:fault&quot;, faultMessage.getName()));
<i>1205</i>&nbsp;                }
<i>1206</i>&nbsp;
<b class="nc"><i>1207</i>&nbsp;                faultNamespaceURI = faultMessage.getNamespace();</b>
<b class="nc"><i>1208</i>&nbsp;            }</b>
<b class="nc"><i>1209</i>&nbsp;</b>
<b class="nc"><i>1210</i>&nbsp;            if(faultNamespaceURI == null) {</b>
<b class="nc"><i>1211</i>&nbsp;                faultNamespaceURI = portTypeFault1.getMessage().getNamespaceURI();</b>
<i>1212</i>&nbsp;            }
<i>1213</i>&nbsp;
<b class="nc"><i>1214</i>&nbsp;            Message faultMessage1 = portTypeFault1.resolveMessage(this.info.document);</b>
<i>1215</i>&nbsp;            Iterator iter2 = faultMessage1.parts();
<b class="nc"><i>1216</i>&nbsp;            if(!iter2.hasNext()) {</b>
<i>1217</i>&nbsp;                this.error(faultMessage1, ModelerMessages.WSDLMODELER_INVALID_BINDING_FAULT_EMPTY_MESSAGE(portTypeFault1.getName(), faultMessage1.getName()));
<i>1218</i>&nbsp;            }
<i>1219</i>&nbsp;
<i>1220</i>&nbsp;            MessagePart faultPart = (MessagePart)iter2.next();
<b class="nc"><i>1221</i>&nbsp;            QName faultQName = faultPart.getDescriptor();</b>
<b class="nc"><i>1222</i>&nbsp;            if(duplicateNames.contains(faultQName)) {</b>
<i>1223</i>&nbsp;                this.warning(faultPart, ModelerMessages.WSDLMODELER_DUPLICATE_FAULT_SOAP_NAME(portTypeFault1.getName(), this.info.portTypeOperation.getName(), faultPart.getName()));
<b class="nc"><i>1224</i>&nbsp;            } else {</b>
<b class="nc"><i>1225</i>&nbsp;                if(iter2.hasNext()) {</b>
<i>1226</i>&nbsp;                    this.error(faultMessage1, ModelerMessages.WSDLMODELER_INVALID_BINDING_FAULT_MESSAGE_HAS_MORE_THAN_ONE_PART(portTypeFault1.getName(), faultMessage1.getName()));
<i>1227</i>&nbsp;                }
<b class="nc"><i>1228</i>&nbsp;</b>
<b class="nc"><i>1229</i>&nbsp;                if(faultPart.getDescriptorKind() != SchemaKinds.XSD_ELEMENT) {</b>
<b class="nc"><i>1230</i>&nbsp;                    this.error(faultPart, ModelerMessages.WSDLMODELER_INVALID_MESSAGE_PART_MUST_HAVE_ELEMENT_DESCRIPTOR(faultMessage1.getName(), faultPart.getName()));</b>
<b class="nc"><i>1231</i>&nbsp;                }</b>
<b class="nc"><i>1232</i>&nbsp;</b>
<b class="nc"><i>1233</i>&nbsp;                JAXBType jaxbType = this.getJAXBType(faultPart);</b>
<i>1234</i>&nbsp;                fault2.setElementName(faultPart.getDescriptor());
<i>1235</i>&nbsp;                fault2.setJavaMemberName(Names.getExceptionClassMemberName());
<i>1236</i>&nbsp;                Block faultBlock = new Block(faultQName, jaxbType, faultPart);
<b class="nc"><i>1237</i>&nbsp;                fault2.setBlock(faultBlock);</b>
<b class="nc"><i>1238</i>&nbsp;                if(!response.getFaultBlocksMap().containsKey(faultBlock.getName())) {</b>
<b class="nc"><i>1239</i>&nbsp;                    response.addFaultBlock(faultBlock);</b>
<b class="nc"><i>1240</i>&nbsp;                }</b>
<b class="nc"><i>1241</i>&nbsp;</b>
<i>1242</i>&nbsp;                this.info.operation.addFault(fault2);
<i>1243</i>&nbsp;            }
<i>1244</i>&nbsp;        }
<b class="nc"><i>1245</i>&nbsp;</b>
<b class="nc"><i>1246</i>&nbsp;    }</b>
<b class="nc"><i>1247</i>&nbsp;</b>
<b class="nc"><i>1248</i>&nbsp;    private String getFaultClassName(Fault portTypeFault) {</b>
<b class="nc"><i>1249</i>&nbsp;        JAXWSBinding jaxwsBinding = (JAXWSBinding)getExtensionOfType(portTypeFault, JAXWSBinding.class);</b>
<b class="nc"><i>1250</i>&nbsp;        if(jaxwsBinding != null) {</b>
<b class="nc"><i>1251</i>&nbsp;            CustomName className = jaxwsBinding.getClassName();</b>
<b class="nc"><i>1252</i>&nbsp;            if(className != null) {</b>
<b class="nc"><i>1253</i>&nbsp;                return this.makePackageQualified(className.getName());</b>
<i>1254</i>&nbsp;            }
<b class="nc"><i>1255</i>&nbsp;        }</b>
<b class="nc"><i>1256</i>&nbsp;</b>
<i>1257</i>&nbsp;        return this.makePackageQualified(JAXBRIContext.mangleNameToClassName(portTypeFault.getMessage().getLocalPart()));
<b class="nc"><i>1258</i>&nbsp;    }</b>
<i>1259</i>&nbsp;
<b class="nc"><i>1260</i>&nbsp;    protected boolean setMessagePartsBinding(WSDLModeler.StyleAndUse styleAndUse) {</b>
<i>1261</i>&nbsp;        SOAPBody inBody = this.getSOAPRequestBody();
<b class="nc"><i>1262</i>&nbsp;        Message inMessage = this.getInputMessage();</b>
<b class="nc"><i>1263</i>&nbsp;        if(!this.setMessagePartsBinding(inBody, inMessage, styleAndUse, true)) {</b>
<i>1264</i>&nbsp;            return false;
<b class="nc"><i>1265</i>&nbsp;        } else {</b>
<i>1266</i>&nbsp;            if(this.isRequestResponse()) {
<i>1267</i>&nbsp;                SOAPBody outBody = this.getSOAPResponseBody();
<b class="nc"><i>1268</i>&nbsp;                Message outMessage = this.getOutputMessage();</b>
<b class="nc"><i>1269</i>&nbsp;                if(!this.setMessagePartsBinding(outBody, outMessage, styleAndUse, false)) {</b>
<b class="nc"><i>1270</i>&nbsp;                    return false;</b>
<b class="nc"><i>1271</i>&nbsp;                }</b>
<b class="nc"><i>1272</i>&nbsp;            }</b>
<b class="nc"><i>1273</i>&nbsp;</b>
<i>1274</i>&nbsp;            return true;
<b class="nc"><i>1275</i>&nbsp;        }</b>
<b class="nc"><i>1276</i>&nbsp;    }</b>
<b class="nc"><i>1277</i>&nbsp;</b>
<i>1278</i>&nbsp;    protected boolean setMessagePartsBinding(SOAPBody body, Message message, WSDLModeler.StyleAndUse styleAndUse, boolean isInput) {
<b class="nc"><i>1279</i>&nbsp;        ArrayList parts = new ArrayList();</b>
<b class="nc"><i>1280</i>&nbsp;        Object bodyParts = this.getBodyParts(body, message);</b>
<b class="nc"><i>1281</i>&nbsp;        List mimeParts;</b>
<b class="nc"><i>1282</i>&nbsp;        List headerParts;</b>
<i>1283</i>&nbsp;        if(isInput) {
<b class="nc"><i>1284</i>&nbsp;            headerParts = this.getHeaderPartsFromMessage(message, isInput);</b>
<i>1285</i>&nbsp;            mimeParts = this.getMimeContentParts(message, this.info.bindingOperation.getInput());
<b class="nc"><i>1286</i>&nbsp;        } else {</b>
<b class="nc"><i>1287</i>&nbsp;            headerParts = this.getHeaderPartsFromMessage(message, isInput);</b>
<b class="nc"><i>1288</i>&nbsp;            mimeParts = this.getMimeContentParts(message, this.info.bindingOperation.getOutput());</b>
<i>1289</i>&nbsp;        }
<i>1290</i>&nbsp;
<b class="nc"><i>1291</i>&nbsp;        Iterator iter;</b>
<i>1292</i>&nbsp;        MessagePart mPart;
<b class="nc"><i>1293</i>&nbsp;        if(bodyParts == null) {</b>
<b class="nc"><i>1294</i>&nbsp;            bodyParts = new ArrayList();</b>
<i>1295</i>&nbsp;
<i>1296</i>&nbsp;            for(iter = message.parts(); iter.hasNext(); ((List)bodyParts).add(mPart)) {
<i>1297</i>&nbsp;                mPart = (MessagePart)iter.next();
<i>1298</i>&nbsp;                if(mimeParts.contains(mPart) || headerParts.contains(mPart) || this.boundToFault(mPart.getName())) {
<b class="nc"><i>1299</i>&nbsp;                    if(this.options.isExtensionMode()) {</b>
<b class="nc"><i>1300</i>&nbsp;                        this.warning(mPart, ModelerMessages.WSDLMODELER_WARNING_BINDING_OPERATION_MULTIPLE_PART_BINDING(this.info.bindingOperation.getName(), mPart.getName()));</b>
<b class="nc"><i>1301</i>&nbsp;                    } else {</b>
<b class="nc"><i>1302</i>&nbsp;                        this.error(mPart, ModelerMessages.WSDLMODELER_INVALID_BINDING_OPERATION_MULTIPLE_PART_BINDING(this.info.bindingOperation.getName(), mPart.getName()));</b>
<b class="nc"><i>1303</i>&nbsp;                    }</b>
<i>1304</i>&nbsp;                }
<b class="nc"><i>1305</i>&nbsp;            }</b>
<i>1306</i>&nbsp;        }
<b class="nc"><i>1307</i>&nbsp;</b>
<i>1308</i>&nbsp;        iter = message.parts();
<i>1309</i>&nbsp;
<i>1310</i>&nbsp;        while(iter.hasNext()) {
<i>1311</i>&nbsp;            mPart = (MessagePart)iter.next();
<b class="nc"><i>1312</i>&nbsp;            if(mimeParts.contains(mPart)) {</b>
<b class="nc"><i>1313</i>&nbsp;                mPart.setBindingExtensibilityElementKind(5);</b>
<i>1314</i>&nbsp;                parts.add(mPart);
<i>1315</i>&nbsp;            } else if(headerParts.contains(mPart)) {
<i>1316</i>&nbsp;                mPart.setBindingExtensibilityElementKind(2);
<i>1317</i>&nbsp;                parts.add(mPart);
<b class="nc"><i>1318</i>&nbsp;            } else if(((List)bodyParts).contains(mPart)) {</b>
<b class="nc"><i>1319</i>&nbsp;                mPart.setBindingExtensibilityElementKind(1);</b>
<b class="nc"><i>1320</i>&nbsp;                parts.add(mPart);</b>
<b class="nc"><i>1321</i>&nbsp;            } else {</b>
<i>1322</i>&nbsp;                mPart.setBindingExtensibilityElementKind(-1);
<i>1323</i>&nbsp;            }
<b class="nc"><i>1324</i>&nbsp;        }</b>
<i>1325</i>&nbsp;
<i>1326</i>&nbsp;        if(this.isOperationDocumentLiteral(styleAndUse) &amp;&amp; ((List)bodyParts).size() &gt; 1) {
<b class="nc"><i>1327</i>&nbsp;            if(this.options.isExtensionMode()) {</b>
<b class="nc"><i>1328</i>&nbsp;                this.warning(message, ModelerMessages.WSDLMODELER_WARNING_OPERATION_MORE_THAN_ONE_PART_IN_MESSAGE(this.info.portTypeOperation.getName()));</b>
<b class="nc"><i>1329</i>&nbsp;            } else {</b>
<b class="nc"><i>1330</i>&nbsp;                this.error(message, ModelerMessages.WSDLMODELER_INVALID_OPERATION_MORE_THAN_ONE_PART_IN_MESSAGE(this.info.portTypeOperation.getName()));</b>
<i>1331</i>&nbsp;            }
<b class="nc"><i>1332</i>&nbsp;</b>
<i>1333</i>&nbsp;            return false;
<i>1334</i>&nbsp;        } else {
<i>1335</i>&nbsp;            return true;
<i>1336</i>&nbsp;        }
<b class="nc"><i>1337</i>&nbsp;    }</b>
<b class="nc"><i>1338</i>&nbsp;</b>
<b class="nc"><i>1339</i>&nbsp;    private boolean boundToFault(String partName) {</b>
<i>1340</i>&nbsp;        Iterator i$ = this.info.bindingOperation.faults().iterator();
<b class="nc"><i>1341</i>&nbsp;</b>
<b class="nc"><i>1342</i>&nbsp;        BindingFault bindingFault;</b>
<i>1343</i>&nbsp;        do {
<i>1344</i>&nbsp;            if(!i$.hasNext()) {
<i>1345</i>&nbsp;                return false;
<b class="nc"><i>1346</i>&nbsp;            }</b>
<b class="nc"><i>1347</i>&nbsp;</b>
<b class="nc"><i>1348</i>&nbsp;            bindingFault = (BindingFault)i$.next();</b>
<b class="nc"><i>1349</i>&nbsp;        } while(!partName.equals(bindingFault.getName()));</b>
<b class="nc"><i>1350</i>&nbsp;</b>
<b class="nc"><i>1351</i>&nbsp;        return true;</b>
<i>1352</i>&nbsp;    }
<i>1353</i>&nbsp;
<b class="nc"><i>1354</i>&nbsp;    private List&lt;MessagePart&gt; getBodyParts(SOAPBody body, Message message) {</b>
<b class="nc"><i>1355</i>&nbsp;        String bodyParts = body.getParts();</b>
<b class="nc"><i>1356</i>&nbsp;        if(bodyParts != null) {</b>
<i>1357</i>&nbsp;            ArrayList partsList = new ArrayList();
<i>1358</i>&nbsp;            StringTokenizer in = new StringTokenizer(bodyParts.trim(), &quot; &quot;);
<b class="nc"><i>1359</i>&nbsp;</b>
<b class="nc"><i>1360</i>&nbsp;            while(in.hasMoreTokens()) {</b>
<b class="nc"><i>1361</i>&nbsp;                String part = in.nextToken();</b>
<i>1362</i>&nbsp;                MessagePart mPart = message.getPart(part);
<b class="nc"><i>1363</i>&nbsp;                if(null == mPart) {</b>
<i>1364</i>&nbsp;                    this.error(message, ModelerMessages.WSDLMODELER_ERROR_PARTS_NOT_FOUND(part, message.getName()));
<b class="nc"><i>1365</i>&nbsp;                }</b>
<b class="nc"><i>1366</i>&nbsp;</b>
<i>1367</i>&nbsp;                mPart.setBindingExtensibilityElementKind(1);
<i>1368</i>&nbsp;                partsList.add(mPart);
<b class="nc"><i>1369</i>&nbsp;            }</b>
<b class="nc"><i>1370</i>&nbsp;</b>
<b class="nc"><i>1371</i>&nbsp;            return partsList;</b>
<i>1372</i>&nbsp;        } else {
<i>1373</i>&nbsp;            return null;
<b class="nc"><i>1374</i>&nbsp;        }</b>
<i>1375</i>&nbsp;    }
<b class="nc"><i>1376</i>&nbsp;</b>
<i>1377</i>&nbsp;    List&lt;MessagePart&gt; getAdditionHeaderParts(BindingOperation bindingOperation, Message message, boolean isInput) {
<i>1378</i>&nbsp;        ArrayList headerParts = new ArrayList();
<b class="nc"><i>1379</i>&nbsp;        List parts = message.getParts();</b>
<b class="nc"><i>1380</i>&nbsp;        List headers = this.getHeaderParts(bindingOperation, isInput);</b>
<i>1381</i>&nbsp;        Iterator i$ = headers.iterator();
<i>1382</i>&nbsp;
<b class="nc"><i>1383</i>&nbsp;        while(i$.hasNext()) {</b>
<i>1384</i>&nbsp;            MessagePart part = (MessagePart)i$.next();
<b class="nc"><i>1385</i>&nbsp;            if(!parts.contains(part)) {</b>
<b class="nc"><i>1386</i>&nbsp;                headerParts.add(part);</b>
<i>1387</i>&nbsp;            }
<b class="nc"><i>1388</i>&nbsp;        }</b>
<b class="nc"><i>1389</i>&nbsp;</b>
<i>1390</i>&nbsp;        return headerParts;
<i>1391</i>&nbsp;    }
<b class="nc"><i>1392</i>&nbsp;</b>
<b class="nc"><i>1393</i>&nbsp;    private List&lt;MessagePart&gt; getHeaderPartsFromMessage(Message message, boolean isInput) {</b>
<b class="nc"><i>1394</i>&nbsp;        ArrayList headerParts = new ArrayList();</b>
<b class="nc"><i>1395</i>&nbsp;        Iterator parts = message.parts();</b>
<i>1396</i>&nbsp;        List headers = this.getHeaderParts(this.info.bindingOperation, isInput);
<i>1397</i>&nbsp;
<i>1398</i>&nbsp;        while(parts.hasNext()) {
<b class="nc"><i>1399</i>&nbsp;            MessagePart part = (MessagePart)parts.next();</b>
<b class="nc"><i>1400</i>&nbsp;            if(headers.contains(part)) {</b>
<b class="nc"><i>1401</i>&nbsp;                headerParts.add(part);</b>
<b class="nc"><i>1402</i>&nbsp;            }</b>
<b class="nc"><i>1403</i>&nbsp;        }</b>
<i>1404</i>&nbsp;
<i>1405</i>&nbsp;        return headerParts;
<b class="nc"><i>1406</i>&nbsp;    }</b>
<i>1407</i>&nbsp;
<i>1408</i>&nbsp;    private Message getHeaderMessage(MessagePart part, TWSDLExtensible ext) {
<i>1409</i>&nbsp;        Iterator headers = this.getHeaderExtensions(ext).iterator();
<b class="nc"><i>1410</i>&nbsp;</b>
<b class="nc"><i>1411</i>&nbsp;        while(headers.hasNext()) {</b>
<b class="nc"><i>1412</i>&nbsp;            SOAPHeader header = (SOAPHeader)headers.next();</b>
<b class="nc"><i>1413</i>&nbsp;            if(header.isLiteral()) {</b>
<i>1414</i>&nbsp;                Message headerMessage = findMessage(header.getMessage(), this.document);
<b class="nc"><i>1415</i>&nbsp;                if(headerMessage != null) {</b>
<b class="nc"><i>1416</i>&nbsp;                    MessagePart headerPart = headerMessage.getPart(header.getPart());</b>
<b class="nc"><i>1417</i>&nbsp;                    if(headerPart == part) {</b>
<b class="nc"><i>1418</i>&nbsp;                        return headerMessage;</b>
<b class="nc"><i>1419</i>&nbsp;                    }</b>
<i>1420</i>&nbsp;                }
<b class="nc"><i>1421</i>&nbsp;            }</b>
<i>1422</i>&nbsp;        }
<i>1423</i>&nbsp;
<i>1424</i>&nbsp;        return null;
<i>1425</i>&nbsp;    }
<b class="nc"><i>1426</i>&nbsp;</b>
<i>1427</i>&nbsp;    private List&lt;MessagePart&gt; getHeaderParts(BindingOperation bindingOperation, boolean isInput) {
<i>1428</i>&nbsp;        Object ext;
<b class="nc"><i>1429</i>&nbsp;        if(isInput) {</b>
<b class="nc"><i>1430</i>&nbsp;            ext = bindingOperation.getInput();</b>
<b class="nc"><i>1431</i>&nbsp;        } else {</b>
<i>1432</i>&nbsp;            ext = bindingOperation.getOutput();
<b class="nc"><i>1433</i>&nbsp;        }</b>
<b class="nc"><i>1434</i>&nbsp;</b>
<b class="nc"><i>1435</i>&nbsp;        ArrayList parts = new ArrayList();</b>
<i>1436</i>&nbsp;        Iterator headers = this.getHeaderExtensions((TWSDLExtensible)ext).iterator();
<b class="nc"><i>1437</i>&nbsp;</b>
<b class="nc"><i>1438</i>&nbsp;        while(headers.hasNext()) {</b>
<i>1439</i>&nbsp;            SOAPHeader header = (SOAPHeader)headers.next();
<i>1440</i>&nbsp;            if(!header.isLiteral()) {
<i>1441</i>&nbsp;                this.error(header, ModelerMessages.WSDLMODELER_INVALID_HEADER_NOT_LITERAL(header.getPart(), bindingOperation.getName()));
<i>1442</i>&nbsp;            }
<i>1443</i>&nbsp;
<i>1444</i>&nbsp;            if(header.getNamespace() != null) {
<i>1445</i>&nbsp;                this.warning(header, ModelerMessages.WSDLMODELER_WARNING_R_2716_R_2726(&quot;soapbind:header&quot;, bindingOperation.getName()));
<i>1446</i>&nbsp;            }
<i>1447</i>&nbsp;
<b class="nc"><i>1448</i>&nbsp;            Message headerMessage = findMessage(header.getMessage(), this.document);</b>
<b class="nc"><i>1449</i>&nbsp;            if(headerMessage == null) {</b>
<b class="nc"><i>1450</i>&nbsp;                this.error(header, ModelerMessages.WSDLMODELER_INVALID_HEADER_CANT_RESOLVE_MESSAGE(header.getMessage(), bindingOperation.getName()));</b>
<b class="nc"><i>1451</i>&nbsp;            }</b>
<i>1452</i>&nbsp;
<i>1453</i>&nbsp;            MessagePart part = headerMessage.getPart(header.getPart());
<b class="nc"><i>1454</i>&nbsp;            if(part == null) {</b>
<i>1455</i>&nbsp;                this.error(header, ModelerMessages.WSDLMODELER_INVALID_HEADER_NOT_FOUND(header.getPart(), bindingOperation.getName()));
<i>1456</i>&nbsp;            }
<b class="nc"><i>1457</i>&nbsp;</b>
<b class="nc"><i>1458</i>&nbsp;            if(part.getDescriptorKind() != SchemaKinds.XSD_ELEMENT) {</b>
<i>1459</i>&nbsp;                this.error(part, ModelerMessages.WSDLMODELER_INVALID_HEADER_MESSAGE_PART_MUST_HAVE_ELEMENT_DESCRIPTOR(part.getName(), bindingOperation.getName()));
<b class="nc"><i>1460</i>&nbsp;            }</b>
<i>1461</i>&nbsp;
<b class="nc"><i>1462</i>&nbsp;            part.setBindingExtensibilityElementKind(2);</b>
<b class="nc"><i>1463</i>&nbsp;            parts.add(part);</b>
<i>1464</i>&nbsp;        }
<i>1465</i>&nbsp;
<i>1466</i>&nbsp;        return parts;
<b class="nc"><i>1467</i>&nbsp;    }</b>
<b class="nc"><i>1468</i>&nbsp;</b>
<b class="nc"><i>1469</i>&nbsp;    private boolean isOperationDocumentLiteral(WSDLModeler.StyleAndUse styleAndUse) {</b>
<b class="nc"><i>1470</i>&nbsp;        return WSDLModeler.StyleAndUse.DOC_LITERAL == styleAndUse;</b>
<b class="nc"><i>1471</i>&nbsp;    }</b>
<b class="nc"><i>1472</i>&nbsp;</b>
<b class="nc"><i>1473</i>&nbsp;    private boolean isOperationRpcLiteral(WSDLModeler.StyleAndUse styleAndUse) {</b>
<b class="nc"><i>1474</i>&nbsp;        return WSDLModeler.StyleAndUse.RPC_LITERAL == styleAndUse;</b>
<b class="nc"><i>1475</i>&nbsp;    }</b>
<b class="nc"><i>1476</i>&nbsp;</b>
<b class="nc"><i>1477</i>&nbsp;    private JAXBType getJAXBType(MessagePart part) {</b>
<i>1478</i>&nbsp;        QName name = part.getDescriptor();
<b class="nc"><i>1479</i>&nbsp;        JAXBType type;</b>
<i>1480</i>&nbsp;        if(part.getDescriptorKind().equals(SchemaKinds.XSD_ELEMENT)) {
<b class="nc"><i>1481</i>&nbsp;            type = this.jaxbModelBuilder.getJAXBType(name);</b>
<i>1482</i>&nbsp;            if(type == null) {
<b class="nc"><i>1483</i>&nbsp;                this.error(part, ModelerMessages.WSDLMODELER_JAXB_JAVATYPE_NOTFOUND(name, part.getName()));</b>
<b class="nc"><i>1484</i>&nbsp;            }</b>
<b class="nc"><i>1485</i>&nbsp;        } else {</b>
<i>1486</i>&nbsp;            S2JJAXBModel jaxbModel = this.getJAXBModelBuilder().getJAXBModel().getS2JJAXBModel();
<b class="nc"><i>1487</i>&nbsp;            TypeAndAnnotation typeAnno = jaxbModel.getJavaType(name);</b>
<b class="nc"><i>1488</i>&nbsp;            if(typeAnno == null) {</b>
<i>1489</i>&nbsp;                this.error(part, ModelerMessages.WSDLMODELER_JAXB_JAVATYPE_NOTFOUND(name, part.getName()));
<b class="nc"><i>1490</i>&nbsp;            }</b>
<i>1491</i>&nbsp;
<i>1492</i>&nbsp;            JavaSimpleType javaType = new JavaSimpleType(new JAXBTypeAndAnnotation(typeAnno));
<i>1493</i>&nbsp;            type = new JAXBType(new QName(&quot;&quot;, part.getName()), javaType);
<b class="nc"><i>1494</i>&nbsp;        }</b>
<b class="nc"><i>1495</i>&nbsp;</b>
<b class="nc"><i>1496</i>&nbsp;        return type;</b>
<i>1497</i>&nbsp;    }
<b class="nc"><i>1498</i>&nbsp;</b>
<i>1499</i>&nbsp;    private List&lt;Parameter&gt; getDoclitParameters(Request req, Response res, List&lt;MessagePart&gt; parameterList) {
<i>1500</i>&nbsp;        if(parameterList.size() == 0) {
<i>1501</i>&nbsp;            return new ArrayList();
<i>1502</i>&nbsp;        } else {
<b class="nc"><i>1503</i>&nbsp;            Object params = new ArrayList();</b>
<b class="nc"><i>1504</i>&nbsp;            Message inMsg = this.getInputMessage();</b>
<b class="nc"><i>1505</i>&nbsp;            Message outMsg = this.getOutputMessage();</b>
<b class="nc"><i>1506</i>&nbsp;            boolean unwrappable = this.isUnwrappable();</b>
<b class="nc"><i>1507</i>&nbsp;            List outParams = null;</b>
<b class="nc"><i>1508</i>&nbsp;            int pIndex = 0;</b>
<b class="nc"><i>1509</i>&nbsp;            Iterator index = parameterList.iterator();</b>
<b class="nc"><i>1510</i>&nbsp;</b>
<b class="nc"><i>1511</i>&nbsp;            String var32;</b>
<i>1512</i>&nbsp;            TypeAndAnnotation var37;
<b class="nc"><i>1513</i>&nbsp;            while(index.hasNext()) {</b>
<b class="nc"><i>1514</i>&nbsp;                MessagePart i$ = (MessagePart)index.next();</b>
<b class="nc"><i>1515</i>&nbsp;                QName param = i$.getDescriptor();</b>
<b class="nc"><i>1516</i>&nbsp;                JAXBType inParam = this.getJAXBType(i$);</b>
<i>1517</i>&nbsp;                Block inElementName = new Block(param, inParam, i$);
<b class="nc"><i>1518</i>&nbsp;                if(unwrappable) {</b>
<i>1519</i>&nbsp;                    JAXBStructuredType outElementName = ModelerUtils.createJAXBStructureType(inParam);
<i>1520</i>&nbsp;                    inElementName = new Block(param, outElementName, i$);
<i>1521</i>&nbsp;                    if(ModelerUtils.isBoundToSOAPBody(i$)) {
<b class="nc"><i>1522</i>&nbsp;                        if(i$.isIN()) {</b>
<b class="nc"><i>1523</i>&nbsp;                            req.addBodyBlock(inElementName);</b>
<b class="nc"><i>1524</i>&nbsp;                        } else if(i$.isOUT()) {</b>
<i>1525</i>&nbsp;                            res.addBodyBlock(inElementName);
<b class="nc"><i>1526</i>&nbsp;                        } else if(i$.isINOUT()) {</b>
<b class="nc"><i>1527</i>&nbsp;                            req.addBodyBlock(inElementName);</b>
<b class="nc"><i>1528</i>&nbsp;                            res.addBodyBlock(inElementName);</b>
<b class="nc"><i>1529</i>&nbsp;                        }</b>
<i>1530</i>&nbsp;                    } else if(ModelerUtils.isUnbound(i$)) {
<b class="nc"><i>1531</i>&nbsp;                        if(i$.isIN()) {</b>
<i>1532</i>&nbsp;                            req.addUnboundBlock(inElementName);
<i>1533</i>&nbsp;                        } else if(i$.isOUT()) {
<i>1534</i>&nbsp;                            res.addUnboundBlock(inElementName);
<b class="nc"><i>1535</i>&nbsp;                        } else if(i$.isINOUT()) {</b>
<b class="nc"><i>1536</i>&nbsp;                            req.addUnboundBlock(inElementName);</b>
<b class="nc"><i>1537</i>&nbsp;                            res.addUnboundBlock(inElementName);</b>
<b class="nc"><i>1538</i>&nbsp;                        }</b>
<b class="nc"><i>1539</i>&nbsp;                    }</b>
<b class="nc"><i>1540</i>&nbsp;</b>
<b class="nc"><i>1541</i>&nbsp;                    if(!i$.isIN() &amp;&amp; !i$.isINOUT()) {</b>
<i>1542</i>&nbsp;                        if(i$.isOUT()) {
<b class="nc"><i>1543</i>&nbsp;                            outParams = ModelerUtils.createUnwrappedParameters(outElementName, inElementName);</b>
<b class="nc"><i>1544</i>&nbsp;                            Iterator var29 = outParams.iterator();</b>
<i>1545</i>&nbsp;
<i>1546</i>&nbsp;                            while(var29.hasNext()) {
<i>1547</i>&nbsp;                                Parameter var33 = (Parameter)var29.next();
<b class="nc"><i>1548</i>&nbsp;                                var33.setMode(Mode.OUT);</b>
<b class="nc"><i>1549</i>&nbsp;                                this.setCustomizedParameterName(this.info.portTypeOperation, outMsg, i$, var33, unwrappable);</b>
<b class="nc"><i>1550</i>&nbsp;                            }</b>
<b class="nc"><i>1551</i>&nbsp;                        }</b>
<b class="nc"><i>1552</i>&nbsp;                    } else {</b>
<b class="nc"><i>1553</i>&nbsp;                        params = ModelerUtils.createUnwrappedParameters(outElementName, inElementName);</b>
<b class="nc"><i>1554</i>&nbsp;                        int inJavaType = 0;</b>
<b class="nc"><i>1555</i>&nbsp;                        Mode outJavaType = i$.isINOUT()?Mode.INOUT:Mode.IN;</b>
<i>1556</i>&nbsp;                        Iterator inTa = ((List)params).iterator();
<b class="nc"><i>1557</i>&nbsp;</b>
<b class="nc"><i>1558</i>&nbsp;                        while(inTa.hasNext()) {</b>
<b class="nc"><i>1559</i>&nbsp;                            Parameter outTa = (Parameter)inTa.next();</b>
<b class="nc"><i>1560</i>&nbsp;                            outTa.setParameterIndex(inJavaType++);</b>
<b class="nc"><i>1561</i>&nbsp;                            outTa.setMode(outJavaType);</b>
<i>1562</i>&nbsp;                            this.setCustomizedParameterName(this.info.portTypeOperation, inMsg, i$, outTa, unwrappable);
<i>1563</i>&nbsp;                        }
<i>1564</i>&nbsp;                    }
<i>1565</i>&nbsp;                } else {
<b class="nc"><i>1566</i>&nbsp;                    if(ModelerUtils.isBoundToSOAPBody(i$)) {</b>
<b class="nc"><i>1567</i>&nbsp;                        if(i$.isIN()) {</b>
<i>1568</i>&nbsp;                            req.addBodyBlock(inElementName);
<b class="nc"><i>1569</i>&nbsp;                        } else if(i$.isOUT()) {</b>
<i>1570</i>&nbsp;                            res.addBodyBlock(inElementName);
<i>1571</i>&nbsp;                        } else if(i$.isINOUT()) {
<b class="nc"><i>1572</i>&nbsp;                            req.addBodyBlock(inElementName);</b>
<b class="nc"><i>1573</i>&nbsp;                            res.addBodyBlock(inElementName);</b>
<b class="nc"><i>1574</i>&nbsp;                        }</b>
<b class="nc"><i>1575</i>&nbsp;                    } else if(ModelerUtils.isBoundToSOAPHeader(i$)) {</b>
<b class="nc"><i>1576</i>&nbsp;                        if(i$.isIN()) {</b>
<b class="nc"><i>1577</i>&nbsp;                            req.addHeaderBlock(inElementName);</b>
<i>1578</i>&nbsp;                        } else if(i$.isOUT()) {
<i>1579</i>&nbsp;                            res.addHeaderBlock(inElementName);
<b class="nc"><i>1580</i>&nbsp;                        } else if(i$.isINOUT()) {</b>
<b class="nc"><i>1581</i>&nbsp;                            req.addHeaderBlock(inElementName);</b>
<i>1582</i>&nbsp;                            res.addHeaderBlock(inElementName);
<b class="nc"><i>1583</i>&nbsp;                        }</b>
<b class="nc"><i>1584</i>&nbsp;                    } else if(ModelerUtils.isBoundToMimeContent(i$)) {</b>
<b class="nc"><i>1585</i>&nbsp;                        List var27;</b>
<i>1586</i>&nbsp;                        if(i$.isIN()) {
<i>1587</i>&nbsp;                            var27 = this.getMimeContents(this.info.bindingOperation.getInput(), this.getInputMessage(), i$.getName());
<b class="nc"><i>1588</i>&nbsp;                            inParam = this.getAttachmentType(var27, i$);</b>
<b class="nc"><i>1589</i>&nbsp;                            inElementName = new Block(inParam.getName(), inParam, i$);</b>
<b class="nc"><i>1590</i>&nbsp;                            req.addAttachmentBlock(inElementName);</b>
<i>1591</i>&nbsp;                        } else if(i$.isOUT()) {
<b class="nc"><i>1592</i>&nbsp;                            var27 = this.getMimeContents(this.info.bindingOperation.getOutput(), this.getOutputMessage(), i$.getName());</b>
<b class="nc"><i>1593</i>&nbsp;                            inParam = this.getAttachmentType(var27, i$);</b>
<i>1594</i>&nbsp;                            inElementName = new Block(inParam.getName(), inParam, i$);
<b class="nc"><i>1595</i>&nbsp;                            res.addAttachmentBlock(inElementName);</b>
<b class="nc"><i>1596</i>&nbsp;                        } else if(i$.isINOUT()) {</b>
<b class="nc"><i>1597</i>&nbsp;                            var27 = this.getMimeContents(this.info.bindingOperation.getInput(), this.getInputMessage(), i$.getName());</b>
<b class="nc"><i>1598</i>&nbsp;                            inParam = this.getAttachmentType(var27, i$);</b>
<i>1599</i>&nbsp;                            inElementName = new Block(inParam.getName(), inParam, i$);
<i>1600</i>&nbsp;                            req.addAttachmentBlock(inElementName);
<i>1601</i>&nbsp;                            res.addAttachmentBlock(inElementName);
<b class="nc"><i>1602</i>&nbsp;                            var27 = this.getMimeContents(this.info.bindingOperation.getOutput(), this.getOutputMessage(), i$.getName());</b>
<i>1603</i>&nbsp;                            JAXBType var35 = this.getAttachmentType(var27, i$);
<i>1604</i>&nbsp;                            var32 = inParam.getJavaType().getType().getName();
<i>1605</i>&nbsp;                            String var39 = var35.getJavaType().getType().getName();
<b class="nc"><i>1606</i>&nbsp;                            var37 = inParam.getJavaType().getType().getTypeAnn();</b>
<i>1607</i>&nbsp;                            TypeAndAnnotation inRawTypeName = var35.getJavaType().getType().getTypeAnn();
<i>1608</i>&nbsp;                            if(var37 != null &amp;&amp; inRawTypeName != null &amp;&amp; var37.equals(inRawTypeName) &amp;&amp; !var32.equals(var39)) {
<i>1609</i>&nbsp;                                String outRawTypeName = &quot;javax.activation.DataHandler&quot;;
<i>1610</i>&nbsp;                                JClass jt = this.options.getCodeModel().ref(outRawTypeName);
<i>1611</i>&nbsp;                                JAXBTypeAndAnnotation jaxbTa = inParam.getJavaType().getType();
<i>1612</i>&nbsp;                                jaxbTa.setType(jt);
<i>1613</i>&nbsp;                            }
<b class="nc"><i>1614</i>&nbsp;                        }</b>
<b class="nc"><i>1615</i>&nbsp;                    } else if(ModelerUtils.isUnbound(i$)) {</b>
<b class="nc"><i>1616</i>&nbsp;                        if(i$.isIN()) {</b>
<b class="nc"><i>1617</i>&nbsp;                            req.addUnboundBlock(inElementName);</b>
<b class="nc"><i>1618</i>&nbsp;                        } else if(i$.isOUT()) {</b>
<b class="nc"><i>1619</i>&nbsp;                            res.addUnboundBlock(inElementName);</b>
<i>1620</i>&nbsp;                        } else if(i$.isINOUT()) {
<i>1621</i>&nbsp;                            req.addUnboundBlock(inElementName);
<b class="nc"><i>1622</i>&nbsp;                            res.addUnboundBlock(inElementName);</b>
<b class="nc"><i>1623</i>&nbsp;                        }</b>
<b class="nc"><i>1624</i>&nbsp;                    }</b>
<b class="nc"><i>1625</i>&nbsp;</b>
<i>1626</i>&nbsp;                    Parameter var30 = ModelerUtils.createParameter(i$.getName(), inParam, inElementName);
<b class="nc"><i>1627</i>&nbsp;                    var30.setMode(i$.getMode());</b>
<b class="nc"><i>1628</i>&nbsp;                    if(i$.isReturn()) {</b>
<i>1629</i>&nbsp;                        var30.setParameterIndex(-1);
<b class="nc"><i>1630</i>&nbsp;                    } else {</b>
<i>1631</i>&nbsp;                        var30.setParameterIndex(pIndex++);
<i>1632</i>&nbsp;                    }
<i>1633</i>&nbsp;
<b class="nc"><i>1634</i>&nbsp;                    if(i$.isIN()) {</b>
<b class="nc"><i>1635</i>&nbsp;                        this.setCustomizedParameterName(this.info.portTypeOperation, inMsg, i$, var30, false);</b>
<b class="nc"><i>1636</i>&nbsp;                    } else if(outMsg != null) {</b>
<b class="nc"><i>1637</i>&nbsp;                        this.setCustomizedParameterName(this.info.portTypeOperation, outMsg, i$, var30, false);</b>
<b class="nc"><i>1638</i>&nbsp;                    }</b>
<b class="nc"><i>1639</i>&nbsp;</b>
<b class="nc"><i>1640</i>&nbsp;                    ((List)params).add(var30);</b>
<b class="nc"><i>1641</i>&nbsp;                }</b>
<b class="nc"><i>1642</i>&nbsp;            }</b>
<b class="nc"><i>1643</i>&nbsp;</b>
<b class="nc"><i>1644</i>&nbsp;            if(unwrappable &amp;&amp; outParams != null) {</b>
<b class="nc"><i>1645</i>&nbsp;                int var25 = ((List)params).size();</b>
<b class="nc"><i>1646</i>&nbsp;                Iterator var24 = outParams.iterator();</b>
<i>1647</i>&nbsp;
<b class="nc"><i>1648</i>&nbsp;                while(var24.hasNext()) {</b>
<b class="nc"><i>1649</i>&nbsp;                    Parameter var26 = (Parameter)var24.next();</b>
<b class="nc"><i>1650</i>&nbsp;                    if(JAXBRIContext.mangleNameToVariableName(var26.getName()).equals(&quot;return&quot;)) {</b>
<b class="nc"><i>1651</i>&nbsp;                        var26.setParameterIndex(-1);</b>
<b class="nc"><i>1652</i>&nbsp;                    } else {</b>
<b class="nc"><i>1653</i>&nbsp;                        Parameter var28 = ModelerUtils.getParameter(var26.getName(), (List)params);</b>
<b class="nc"><i>1654</i>&nbsp;                        if(var28 != null &amp;&amp; var28.isIN()) {</b>
<b class="nc"><i>1655</i>&nbsp;                            QName var31 = var28.getType().getName();</b>
<b class="nc"><i>1656</i>&nbsp;                            QName var36 = var26.getType().getName();</b>
<b class="nc"><i>1657</i>&nbsp;                            String var34 = var28.getTypeName();</b>
<i>1658</i>&nbsp;                            var32 = var26.getTypeName();
<b class="nc"><i>1659</i>&nbsp;                            TypeAndAnnotation var38 = var28.getType().getJavaType().getType().getTypeAnn();</b>
<b class="nc"><i>1660</i>&nbsp;                            var37 = var26.getType().getJavaType().getType().getTypeAnn();</b>
<b class="nc"><i>1661</i>&nbsp;                            QName var40 = ModelerUtils.getRawTypeName(var28);</b>
<b class="nc"><i>1662</i>&nbsp;                            QName var41 = ModelerUtils.getRawTypeName(var26);</b>
<b class="nc"><i>1663</i>&nbsp;                            if(var31.getLocalPart().equals(var36.getLocalPart()) &amp;&amp; var34.equals(var32) &amp;&amp; (var38 == null || var37 == null || var38.equals(var37)) &amp;&amp; (var40 == null || var41 == null || var40.equals(var41))) {</b>
<b class="nc"><i>1664</i>&nbsp;                                var28.setMode(Mode.INOUT);</b>
<b class="nc"><i>1665</i>&nbsp;                                continue;</b>
<b class="nc"><i>1666</i>&nbsp;                            }</b>
<i>1667</i>&nbsp;                        }
<i>1668</i>&nbsp;
<i>1669</i>&nbsp;                        if(outParams.size() == 1) {
<b class="nc"><i>1670</i>&nbsp;                            var26.setParameterIndex(-1);</b>
<b class="nc"><i>1671</i>&nbsp;                        } else {</b>
<b class="nc"><i>1672</i>&nbsp;                            var26.setParameterIndex(var25++);</b>
<b class="nc"><i>1673</i>&nbsp;                        }</b>
<b class="nc"><i>1674</i>&nbsp;                    }</b>
<b class="nc"><i>1675</i>&nbsp;</b>
<b class="nc"><i>1676</i>&nbsp;                    ((List)params).add(var26);</b>
<b class="nc"><i>1677</i>&nbsp;                }</b>
<i>1678</i>&nbsp;            }
<b class="nc"><i>1679</i>&nbsp;</b>
<b class="nc"><i>1680</i>&nbsp;            return (List)params;</b>
<b class="nc"><i>1681</i>&nbsp;        }</b>
<b class="nc"><i>1682</i>&nbsp;    }</b>
<b class="nc"><i>1683</i>&nbsp;</b>
<i>1684</i>&nbsp;    private List&lt;Parameter&gt; getRpcLitParameters(Request req, Response res, Block reqBlock, Block resBlock, List&lt;MessagePart&gt; paramList) {
<i>1685</i>&nbsp;        ArrayList params = new ArrayList();
<b class="nc"><i>1686</i>&nbsp;        Message inMsg = this.getInputMessage();</b>
<b class="nc"><i>1687</i>&nbsp;        Message outMsg = this.getOutputMessage();</b>
<b class="nc"><i>1688</i>&nbsp;        S2JJAXBModel jaxbModel = ((RpcLitStructure)reqBlock.getType()).getJaxbModel().getS2JJAXBModel();</b>
<b class="nc"><i>1689</i>&nbsp;        List inParams = ModelerUtils.createRpcLitParameters(inMsg, reqBlock, jaxbModel, this.errReceiver);</b>
<b class="nc"><i>1690</i>&nbsp;        List outParams = null;</b>
<b class="nc"><i>1691</i>&nbsp;        if(outMsg != null) {</b>
<b class="nc"><i>1692</i>&nbsp;            outParams = ModelerUtils.createRpcLitParameters(outMsg, resBlock, jaxbModel, this.errReceiver);</b>
<b class="nc"><i>1693</i>&nbsp;        }</b>
<b class="nc"><i>1694</i>&nbsp;</b>
<i>1695</i>&nbsp;        int index = 0;
<b class="nc"><i>1696</i>&nbsp;        Iterator i$ = paramList.iterator();</b>
<b class="nc"><i>1697</i>&nbsp;</b>
<b class="nc"><i>1698</i>&nbsp;        while(i$.hasNext()) {</b>
<b class="nc"><i>1699</i>&nbsp;            MessagePart param = (MessagePart)i$.next();</b>
<b class="nc"><i>1700</i>&nbsp;            Parameter param1 = null;</b>
<b class="nc"><i>1701</i>&nbsp;            if(ModelerUtils.isBoundToSOAPBody(param)) {</b>
<b class="nc"><i>1702</i>&nbsp;                if(param.isIN()) {</b>
<b class="nc"><i>1703</i>&nbsp;                    param1 = ModelerUtils.getParameter(param.getName(), inParams);</b>
<i>1704</i>&nbsp;                } else if(outParams != null) {
<b class="nc"><i>1705</i>&nbsp;                    param1 = ModelerUtils.getParameter(param.getName(), outParams);</b>
<b class="nc"><i>1706</i>&nbsp;                }</b>
<i>1707</i>&nbsp;            } else {
<b class="nc"><i>1708</i>&nbsp;                JAXBType type;</b>
<b class="nc"><i>1709</i>&nbsp;                QName name;</b>
<i>1710</i>&nbsp;                Block unboundBlock;
<b class="nc"><i>1711</i>&nbsp;                if(ModelerUtils.isBoundToSOAPHeader(param)) {</b>
<b class="nc"><i>1712</i>&nbsp;                    name = param.getDescriptor();</b>
<b class="nc"><i>1713</i>&nbsp;                    type = this.getJAXBType(param);</b>
<b class="nc"><i>1714</i>&nbsp;                    unboundBlock = new Block(name, type, param);</b>
<b class="nc"><i>1715</i>&nbsp;                    param1 = ModelerUtils.createParameter(param.getName(), type, unboundBlock);</b>
<i>1716</i>&nbsp;                    if(param.isIN()) {
<b class="nc"><i>1717</i>&nbsp;                        req.addHeaderBlock(unboundBlock);</b>
<b class="nc"><i>1718</i>&nbsp;                    } else if(param.isOUT()) {</b>
<b class="nc"><i>1719</i>&nbsp;                        res.addHeaderBlock(unboundBlock);</b>
<b class="nc"><i>1720</i>&nbsp;                    } else if(param.isINOUT()) {</b>
<b class="nc"><i>1721</i>&nbsp;                        req.addHeaderBlock(unboundBlock);</b>
<i>1722</i>&nbsp;                        res.addHeaderBlock(unboundBlock);
<b class="nc"><i>1723</i>&nbsp;                    }</b>
<b class="nc"><i>1724</i>&nbsp;                } else if(ModelerUtils.isBoundToMimeContent(param)) {</b>
<b class="nc"><i>1725</i>&nbsp;                    List var26;</b>
<b class="nc"><i>1726</i>&nbsp;                    if(!param.isIN() &amp;&amp; !param.isINOUT()) {</b>
<i>1727</i>&nbsp;                        var26 = this.getMimeContents(this.info.bindingOperation.getOutput(), this.getOutputMessage(), param.getName());
<b class="nc"><i>1728</i>&nbsp;                    } else {</b>
<i>1729</i>&nbsp;                        var26 = this.getMimeContents(this.info.bindingOperation.getInput(), this.getInputMessage(), param.getName());
<b class="nc"><i>1730</i>&nbsp;                    }</b>
<i>1731</i>&nbsp;
<b class="nc"><i>1732</i>&nbsp;                    type = this.getAttachmentType(var26, param);</b>
<b class="nc"><i>1733</i>&nbsp;                    unboundBlock = new Block(type.getName(), type, param);</b>
<i>1734</i>&nbsp;                    param1 = ModelerUtils.createParameter(param.getName(), type, unboundBlock);
<b class="nc"><i>1735</i>&nbsp;                    if(param.isIN()) {</b>
<b class="nc"><i>1736</i>&nbsp;                        req.addAttachmentBlock(unboundBlock);</b>
<b class="nc"><i>1737</i>&nbsp;                    } else if(param.isOUT()) {</b>
<b class="nc"><i>1738</i>&nbsp;                        res.addAttachmentBlock(unboundBlock);</b>
<i>1739</i>&nbsp;                    } else if(param.isINOUT()) {
<b class="nc"><i>1740</i>&nbsp;                        var26 = this.getMimeContents(this.info.bindingOperation.getOutput(), this.getOutputMessage(), param.getName());</b>
<i>1741</i>&nbsp;                        JAXBType outJaxbType = this.getAttachmentType(var26, param);
<b class="nc"><i>1742</i>&nbsp;                        String inType = type.getJavaType().getType().getName();</b>
<b class="nc"><i>1743</i>&nbsp;                        String outType = outJaxbType.getJavaType().getType().getName();</b>
<b class="nc"><i>1744</i>&nbsp;                        if(!inType.equals(outType)) {</b>
<b class="nc"><i>1745</i>&nbsp;                            String javaType = &quot;javax.activation.DataHandler&quot;;</b>
<i>1746</i>&nbsp;                            JClass jt = this.options.getCodeModel().ref(javaType);
<i>1747</i>&nbsp;                            JAXBTypeAndAnnotation jaxbTa = type.getJavaType().getType();
<b class="nc"><i>1748</i>&nbsp;                            jaxbTa.setType(jt);</b>
<b class="nc"><i>1749</i>&nbsp;                        }</b>
<b class="nc"><i>1750</i>&nbsp;</b>
<b class="nc"><i>1751</i>&nbsp;                        req.addAttachmentBlock(unboundBlock);</b>
<b class="nc"><i>1752</i>&nbsp;                        res.addAttachmentBlock(unboundBlock);</b>
<b class="nc"><i>1753</i>&nbsp;                    }</b>
<b class="nc"><i>1754</i>&nbsp;                } else if(ModelerUtils.isUnbound(param)) {</b>
<b class="nc"><i>1755</i>&nbsp;                    name = param.getDescriptor();</b>
<i>1756</i>&nbsp;                    type = this.getJAXBType(param);
<i>1757</i>&nbsp;                    unboundBlock = new Block(name, type, param);
<b class="nc"><i>1758</i>&nbsp;                    if(param.isIN()) {</b>
<b class="nc"><i>1759</i>&nbsp;                        req.addUnboundBlock(unboundBlock);</b>
<b class="nc"><i>1760</i>&nbsp;                    } else if(param.isOUT()) {</b>
<b class="nc"><i>1761</i>&nbsp;                        res.addUnboundBlock(unboundBlock);</b>
<i>1762</i>&nbsp;                    } else if(param.isINOUT()) {
<b class="nc"><i>1763</i>&nbsp;                        req.addUnboundBlock(unboundBlock);</b>
<i>1764</i>&nbsp;                        res.addUnboundBlock(unboundBlock);
<i>1765</i>&nbsp;                    }
<b class="nc"><i>1766</i>&nbsp;</b>
<b class="nc"><i>1767</i>&nbsp;                    param1 = ModelerUtils.createParameter(param.getName(), type, unboundBlock);</b>
<b class="nc"><i>1768</i>&nbsp;                }</b>
<b class="nc"><i>1769</i>&nbsp;            }</b>
<i>1770</i>&nbsp;
<b class="nc"><i>1771</i>&nbsp;            if(param1 != null) {</b>
<i>1772</i>&nbsp;                if(param.isReturn()) {
<b class="nc"><i>1773</i>&nbsp;                    param1.setParameterIndex(-1);</b>
<b class="nc"><i>1774</i>&nbsp;                } else {</b>
<b class="nc"><i>1775</i>&nbsp;                    param1.setParameterIndex(index++);</b>
<b class="nc"><i>1776</i>&nbsp;                }</b>
<b class="nc"><i>1777</i>&nbsp;</b>
<b class="nc"><i>1778</i>&nbsp;                param1.setMode(param.getMode());</b>
<i>1779</i>&nbsp;                params.add(param1);
<b class="nc"><i>1780</i>&nbsp;            }</b>
<b class="nc"><i>1781</i>&nbsp;        }</b>
<b class="nc"><i>1782</i>&nbsp;</b>
<b class="nc"><i>1783</i>&nbsp;        i$ = params.iterator();</b>
<b class="nc"><i>1784</i>&nbsp;</b>
<b class="nc"><i>1785</i>&nbsp;        while(i$.hasNext()) {</b>
<b class="nc"><i>1786</i>&nbsp;            Parameter var25 = (Parameter)i$.next();</b>
<b class="nc"><i>1787</i>&nbsp;            if(var25.isIN()) {</b>
<b class="nc"><i>1788</i>&nbsp;                this.setCustomizedParameterName(this.info.portTypeOperation, inMsg, inMsg.getPart(var25.getName()), var25, false);</b>
<i>1789</i>&nbsp;            } else if(outMsg != null) {
<b class="nc"><i>1790</i>&nbsp;                this.setCustomizedParameterName(this.info.portTypeOperation, outMsg, outMsg.getPart(var25.getName()), var25, false);</b>
<b class="nc"><i>1791</i>&nbsp;            }</b>
<i>1792</i>&nbsp;        }
<i>1793</i>&nbsp;
<b class="nc"><i>1794</i>&nbsp;        return params;</b>
<b class="nc"><i>1795</i>&nbsp;    }</b>
<i>1796</i>&nbsp;
<b class="nc"><i>1797</i>&nbsp;    private List&lt;Parameter&gt; getRequestParameters(Request request, List&lt;String&gt; parameterList) {</b>
<i>1798</i>&nbsp;        Message inputMessage = this.getInputMessage();
<i>1799</i>&nbsp;        if(inputMessage != null &amp;&amp; !inputMessage.parts().hasNext()) {
<b class="nc"><i>1800</i>&nbsp;            return new ArrayList();</b>
<i>1801</i>&nbsp;        } else {
<i>1802</i>&nbsp;            Object inParameters = null;
<b class="nc"><i>1803</i>&nbsp;            boolean unwrappable = this.isUnwrappable();</b>
<i>1804</i>&nbsp;            boolean doneSOAPBody = false;
<i>1805</i>&nbsp;            Iterator i$ = parameterList.iterator();
<i>1806</i>&nbsp;
<b class="nc"><i>1807</i>&nbsp;            while(i$.hasNext()) {</b>
<b class="nc"><i>1808</i>&nbsp;                String inParamName = (String)i$.next();</b>
<b class="nc"><i>1809</i>&nbsp;                MessagePart part = inputMessage.getPart(inParamName);</b>
<b class="nc"><i>1810</i>&nbsp;                if(part != null) {</b>
<b class="nc"><i>1811</i>&nbsp;                    QName reqBodyName = part.getDescriptor();</b>
<b class="nc"><i>1812</i>&nbsp;                    JAXBType jaxbReqType = this.getJAXBType(part);</b>
<b class="nc"><i>1813</i>&nbsp;                    Block reqBlock;</b>
<b class="nc"><i>1814</i>&nbsp;                    if(unwrappable) {</b>
<i>1815</i>&nbsp;                        JAXBStructuredType param2 = ModelerUtils.createJAXBStructureType(jaxbReqType);
<i>1816</i>&nbsp;                        reqBlock = new Block(reqBodyName, param2, part);
<b class="nc"><i>1817</i>&nbsp;                        if(ModelerUtils.isBoundToSOAPBody(part)) {</b>
<b class="nc"><i>1818</i>&nbsp;                            request.addBodyBlock(reqBlock);</b>
<b class="nc"><i>1819</i>&nbsp;                        } else if(ModelerUtils.isUnbound(part)) {</b>
<b class="nc"><i>1820</i>&nbsp;                            request.addUnboundBlock(reqBlock);</b>
<b class="nc"><i>1821</i>&nbsp;                        }</b>
<b class="nc"><i>1822</i>&nbsp;</b>
<b class="nc"><i>1823</i>&nbsp;                        inParameters = ModelerUtils.createUnwrappedParameters(param2, reqBlock);</b>
<b class="nc"><i>1824</i>&nbsp;                        Iterator i$1 = ((List)inParameters).iterator();</b>
<i>1825</i>&nbsp;
<b class="nc"><i>1826</i>&nbsp;                        while(i$1.hasNext()) {</b>
<b class="nc"><i>1827</i>&nbsp;                            Parameter param1 = (Parameter)i$1.next();</b>
<b class="nc"><i>1828</i>&nbsp;                            this.setCustomizedParameterName(this.info.portTypeOperation, inputMessage, part, param1, unwrappable);</b>
<b class="nc"><i>1829</i>&nbsp;                        }</b>
<b class="nc"><i>1830</i>&nbsp;                    } else {</b>
<b class="nc"><i>1831</i>&nbsp;                        reqBlock = new Block(reqBodyName, jaxbReqType, part);</b>
<b class="nc"><i>1832</i>&nbsp;                        if(ModelerUtils.isBoundToSOAPBody(part) &amp;&amp; !doneSOAPBody) {</b>
<b class="nc"><i>1833</i>&nbsp;                            doneSOAPBody = true;</b>
<b class="nc"><i>1834</i>&nbsp;                            request.addBodyBlock(reqBlock);</b>
<b class="nc"><i>1835</i>&nbsp;                        } else if(ModelerUtils.isBoundToSOAPHeader(part)) {</b>
<b class="nc"><i>1836</i>&nbsp;                            request.addHeaderBlock(reqBlock);</b>
<b class="nc"><i>1837</i>&nbsp;                        } else if(ModelerUtils.isBoundToMimeContent(part)) {</b>
<i>1838</i>&nbsp;                            List param = this.getMimeContents(this.info.bindingOperation.getInput(), this.getInputMessage(), part.getName());
<b class="nc"><i>1839</i>&nbsp;                            jaxbReqType = this.getAttachmentType(param, part);</b>
<b class="nc"><i>1840</i>&nbsp;                            reqBlock = new Block(jaxbReqType.getName(), jaxbReqType, part);</b>
<b class="nc"><i>1841</i>&nbsp;                            request.addAttachmentBlock(reqBlock);</b>
<b class="nc"><i>1842</i>&nbsp;                        } else if(ModelerUtils.isUnbound(part)) {</b>
<i>1843</i>&nbsp;                            request.addUnboundBlock(reqBlock);
<i>1844</i>&nbsp;                        }
<b class="nc"><i>1845</i>&nbsp;</b>
<i>1846</i>&nbsp;                        if(inParameters == null) {
<i>1847</i>&nbsp;                            inParameters = new ArrayList();
<b class="nc"><i>1848</i>&nbsp;                        }</b>
<i>1849</i>&nbsp;
<i>1850</i>&nbsp;                        Parameter param3 = ModelerUtils.createParameter(part.getName(), jaxbReqType, reqBlock);
<b class="nc"><i>1851</i>&nbsp;                        this.setCustomizedParameterName(this.info.portTypeOperation, inputMessage, part, param3, false);</b>
<b class="nc"><i>1852</i>&nbsp;                        ((List)inParameters).add(param3);</b>
<b class="nc"><i>1853</i>&nbsp;                    }</b>
<b class="nc"><i>1854</i>&nbsp;                }</b>
<b class="nc"><i>1855</i>&nbsp;            }</b>
<b class="nc"><i>1856</i>&nbsp;</b>
<b class="nc"><i>1857</i>&nbsp;            return (List)inParameters;</b>
<b class="nc"><i>1858</i>&nbsp;        }</b>
<i>1859</i>&nbsp;    }
<b class="nc"><i>1860</i>&nbsp;</b>
<i>1861</i>&nbsp;    private void setCustomizedParameterName(TWSDLExtensible extension, Message msg, MessagePart part, Parameter param, boolean wrapperStyle) {
<b class="nc"><i>1862</i>&nbsp;        JAXWSBinding jaxwsBinding = (JAXWSBinding)getExtensionOfType(extension, JAXWSBinding.class);</b>
<b class="nc"><i>1863</i>&nbsp;        if(jaxwsBinding != null) {</b>
<b class="nc"><i>1864</i>&nbsp;            String paramName = part.getName();</b>
<b class="nc"><i>1865</i>&nbsp;            QName elementName = part.getDescriptor();</b>
<b class="nc"><i>1866</i>&nbsp;            if(wrapperStyle) {</b>
<b class="nc"><i>1867</i>&nbsp;                elementName = param.getType().getName();</b>
<b class="nc"><i>1868</i>&nbsp;            }</b>
<b class="nc"><i>1869</i>&nbsp;</b>
<i>1870</i>&nbsp;            String customName = jaxwsBinding.getParameterName(msg.getName(), paramName, elementName, wrapperStyle);
<b class="nc"><i>1871</i>&nbsp;            if(customName != null &amp;&amp; !customName.equals(&quot;&quot;)) {</b>
<b class="nc"><i>1872</i>&nbsp;                param.setCustomName(customName);</b>
<i>1873</i>&nbsp;            }
<b class="nc"><i>1874</i>&nbsp;</b>
<b class="nc"><i>1875</i>&nbsp;        }</b>
<b class="nc"><i>1876</i>&nbsp;    }</b>
<b class="nc"><i>1877</i>&nbsp;</b>
<b class="nc"><i>1878</i>&nbsp;    protected boolean isConflictingPortClassName(String name) {</b>
<b class="nc"><i>1879</i>&nbsp;        return false;</b>
<b class="nc"><i>1880</i>&nbsp;    }</b>
<b class="nc"><i>1881</i>&nbsp;</b>
<b class="nc"><i>1882</i>&nbsp;    protected boolean isUnwrappable() {</b>
<b class="nc"><i>1883</i>&nbsp;        if(!this.getWrapperStyleCustomization()) {</b>
<b class="nc"><i>1884</i>&nbsp;            return false;</b>
<i>1885</i>&nbsp;        } else {
<b class="nc"><i>1886</i>&nbsp;            Message inputMessage = this.getInputMessage();</b>
<i>1887</i>&nbsp;            Message outputMessage = this.getOutputMessage();
<b class="nc"><i>1888</i>&nbsp;            if((inputMessage == null || inputMessage.numParts() == 1) &amp;&amp; (outputMessage == null || outputMessage.numParts() == 1)) {</b>
<b class="nc"><i>1889</i>&nbsp;                MessagePart inputPart = inputMessage != null?(MessagePart)inputMessage.parts().next():null;</b>
<b class="nc"><i>1890</i>&nbsp;                MessagePart outputPart = outputMessage != null?(MessagePart)outputMessage.parts().next():null;</b>
<i>1891</i>&nbsp;                String operationName = this.info.portTypeOperation.getName();
<b class="nc"><i>1892</i>&nbsp;                if((inputPart == null || inputPart.getDescriptor().getLocalPart().equals(operationName)) &amp;&amp; (outputPart == null || outputPart.getDescriptorKind() == SchemaKinds.XSD_ELEMENT)) {</b>
<i>1893</i>&nbsp;                    if((inputPart == null || inputPart.getBindingExtensibilityElementKind() == 1) &amp;&amp; (outputPart == null || outputPart.getBindingExtensibilityElementKind() == 1)) {
<b class="nc"><i>1894</i>&nbsp;                        if(inputPart != null) {</b>
<b class="nc"><i>1895</i>&nbsp;                            boolean inputWrappable = false;</b>
<i>1896</i>&nbsp;                            JAXBType inputType = this.getJAXBType(inputPart);
<b class="nc"><i>1897</i>&nbsp;                            if(inputType != null) {</b>
<b class="nc"><i>1898</i>&nbsp;                                inputWrappable = inputType.isUnwrappable();</b>
<b class="nc"><i>1899</i>&nbsp;                            }</b>
<b class="nc"><i>1900</i>&nbsp;</b>
<b class="nc"><i>1901</i>&nbsp;                            if(outputPart == null) {</b>
<b class="nc"><i>1902</i>&nbsp;                                return inputWrappable;</b>
<i>1903</i>&nbsp;                            }
<b class="nc"><i>1904</i>&nbsp;</b>
<i>1905</i>&nbsp;                            JAXBType outputType = this.getJAXBType(outputPart);
<i>1906</i>&nbsp;                            if(inputType != null &amp;&amp; outputType != null) {
<i>1907</i>&nbsp;                                return inputType.isUnwrappable() &amp;&amp; outputType.isUnwrappable();
<b class="nc"><i>1908</i>&nbsp;                            }</b>
<i>1909</i>&nbsp;                        }
<b class="nc"><i>1910</i>&nbsp;</b>
<b class="nc"><i>1911</i>&nbsp;                        return false;</b>
<i>1912</i>&nbsp;                    } else {
<b class="nc"><i>1913</i>&nbsp;                        return false;</b>
<b class="nc"><i>1914</i>&nbsp;                    }</b>
<b class="nc"><i>1915</i>&nbsp;                } else {</b>
<b class="nc"><i>1916</i>&nbsp;                    return false;</b>
<b class="nc"><i>1917</i>&nbsp;                }</b>
<b class="nc"><i>1918</i>&nbsp;            } else {</b>
<i>1919</i>&nbsp;                return false;
<b class="nc"><i>1920</i>&nbsp;            }</b>
<b class="nc"><i>1921</i>&nbsp;        }</b>
<b class="nc"><i>1922</i>&nbsp;    }</b>
<b class="nc"><i>1923</i>&nbsp;</b>
<b class="nc"><i>1924</i>&nbsp;    private boolean getWrapperStyleCustomization() {</b>
<b class="nc"><i>1925</i>&nbsp;        com.sun.tools.internal.ws.wsdl.document.Operation portTypeOperation = this.info.portTypeOperation;</b>
<b class="nc"><i>1926</i>&nbsp;        JAXWSBinding jaxwsBinding = (JAXWSBinding)getExtensionOfType(portTypeOperation, JAXWSBinding.class);</b>
<i>1927</i>&nbsp;        if(jaxwsBinding != null) {
<b class="nc"><i>1928</i>&nbsp;            Boolean portType = jaxwsBinding.isEnableWrapperStyle();</b>
<b class="nc"><i>1929</i>&nbsp;            if(portType != null) {</b>
<b class="nc"><i>1930</i>&nbsp;                return portType.booleanValue();</b>
<b class="nc"><i>1931</i>&nbsp;            }</b>
<b class="nc"><i>1932</i>&nbsp;        }</b>
<b class="nc"><i>1933</i>&nbsp;</b>
<i>1934</i>&nbsp;        PortType portType1 = this.info.port.resolveBinding(this.document).resolvePortType(this.document);
<b class="nc"><i>1935</i>&nbsp;        jaxwsBinding = (JAXWSBinding)getExtensionOfType(portType1, JAXWSBinding.class);</b>
<b class="nc"><i>1936</i>&nbsp;        Boolean isWrappable;</b>
<b class="nc"><i>1937</i>&nbsp;        if(jaxwsBinding != null) {</b>
<i>1938</i>&nbsp;            isWrappable = jaxwsBinding.isEnableWrapperStyle();
<b class="nc"><i>1939</i>&nbsp;            if(isWrappable != null) {</b>
<b class="nc"><i>1940</i>&nbsp;                return isWrappable.booleanValue();</b>
<b class="nc"><i>1941</i>&nbsp;            }</b>
<b class="nc"><i>1942</i>&nbsp;        }</b>
<b class="nc"><i>1943</i>&nbsp;</b>
<b class="nc"><i>1944</i>&nbsp;        jaxwsBinding = (JAXWSBinding)getExtensionOfType(this.document.getDefinitions(), JAXWSBinding.class);</b>
<b class="nc"><i>1945</i>&nbsp;        if(jaxwsBinding != null) {</b>
<b class="nc"><i>1946</i>&nbsp;            isWrappable = jaxwsBinding.isEnableWrapperStyle();</b>
<b class="nc"><i>1947</i>&nbsp;            if(isWrappable != null) {</b>
<i>1948</i>&nbsp;                return isWrappable.booleanValue();
<b class="nc"><i>1949</i>&nbsp;            }</b>
<i>1950</i>&nbsp;        }
<b class="nc"><i>1951</i>&nbsp;</b>
<b class="nc"><i>1952</i>&nbsp;        return true;</b>
<b class="nc"><i>1953</i>&nbsp;    }</b>
<b class="nc"><i>1954</i>&nbsp;</b>
<i>1955</i>&nbsp;    protected boolean isSingleInOutPart(Set inputParameterNames, MessagePart outputPart) {
<b class="nc"><i>1956</i>&nbsp;        SOAPOperation soapOperation = (SOAPOperation)getExtensionOfType(this.info.bindingOperation, SOAPOperation.class);</b>
<b class="nc"><i>1957</i>&nbsp;        if(soapOperation != null &amp;&amp; (soapOperation.isDocument() || this.info.soapBinding.isDocument())) {</b>
<b class="nc"><i>1958</i>&nbsp;            Iterator inputMessage1 = this.getInputMessage().parts();</b>
<b class="nc"><i>1959</i>&nbsp;</b>
<b class="nc"><i>1960</i>&nbsp;            while(inputMessage1.hasNext()) {</b>
<i>1961</i>&nbsp;                MessagePart part = (MessagePart)inputMessage1.next();
<b class="nc"><i>1962</i>&nbsp;                if(outputPart.getName().equals(part.getName()) &amp;&amp; outputPart.getDescriptor().equals(part.getDescriptor())) {</b>
<b class="nc"><i>1963</i>&nbsp;                    return true;</b>
<i>1964</i>&nbsp;                }
<i>1965</i>&nbsp;            }
<i>1966</i>&nbsp;        } else if(soapOperation != null &amp;&amp; soapOperation.isRPC() || this.info.soapBinding.isRPC()) {
<i>1967</i>&nbsp;            Message inputMessage = this.getInputMessage();
<i>1968</i>&nbsp;            if(inputParameterNames.contains(outputPart.getName()) &amp;&amp; inputMessage.getPart(outputPart.getName()).getDescriptor().equals(outputPart.getDescriptor())) {
<i>1969</i>&nbsp;                return true;
<i>1970</i>&nbsp;            }
<i>1971</i>&nbsp;        }
<b class="nc"><i>1972</i>&nbsp;</b>
<b class="nc"><i>1973</i>&nbsp;        return false;</b>
<i>1974</i>&nbsp;    }
<b class="nc"><i>1975</i>&nbsp;</b>
<b class="nc"><i>1976</i>&nbsp;    private List&lt;Parameter&gt; createRpcLitRequestParameters(Request request, List&lt;String&gt; parameterList, Block block) {</b>
<b class="nc"><i>1977</i>&nbsp;        Message message = this.getInputMessage();</b>
<b class="nc"><i>1978</i>&nbsp;        S2JJAXBModel jaxbModel = ((RpcLitStructure)block.getType()).getJaxbModel().getS2JJAXBModel();</b>
<b class="nc"><i>1979</i>&nbsp;        Object parameters = ModelerUtils.createRpcLitParameters(message, block, jaxbModel, this.errReceiver);</b>
<b class="nc"><i>1980</i>&nbsp;        Iterator i$ = parameterList.iterator();</b>
<b class="nc"><i>1981</i>&nbsp;</b>
<i>1982</i>&nbsp;        while(i$.hasNext()) {
<i>1983</i>&nbsp;            String param = (String)i$.next();
<i>1984</i>&nbsp;            MessagePart part = message.getPart(param);
<i>1985</i>&nbsp;            if(part != null) {
<b class="nc"><i>1986</i>&nbsp;                QName name;</b>
<i>1987</i>&nbsp;                JAXBType type;
<i>1988</i>&nbsp;                Block unboundBlock;
<i>1989</i>&nbsp;                Parameter param1;
<b class="nc"><i>1990</i>&nbsp;                if(ModelerUtils.isBoundToSOAPHeader(part)) {</b>
<b class="nc"><i>1991</i>&nbsp;                    if(parameters == null) {</b>
<i>1992</i>&nbsp;                        parameters = new ArrayList();
<b class="nc"><i>1993</i>&nbsp;                    }</b>
<b class="nc"><i>1994</i>&nbsp;</b>
<i>1995</i>&nbsp;                    name = part.getDescriptor();
<i>1996</i>&nbsp;                    type = this.getJAXBType(part);
<i>1997</i>&nbsp;                    unboundBlock = new Block(name, type, part);
<b class="nc"><i>1998</i>&nbsp;                    request.addHeaderBlock(unboundBlock);</b>
<i>1999</i>&nbsp;                    param1 = ModelerUtils.createParameter(part.getName(), type, unboundBlock);
<b class="nc"><i>2000</i>&nbsp;                    if(param1 != null) {</b>
<i>2001</i>&nbsp;                        ((List)parameters).add(param1);
<i>2002</i>&nbsp;                    }
<b class="nc"><i>2003</i>&nbsp;                } else if(ModelerUtils.isBoundToMimeContent(part)) {</b>
<i>2004</i>&nbsp;                    if(parameters == null) {
<b class="nc"><i>2005</i>&nbsp;                        parameters = new ArrayList();</b>
<i>2006</i>&nbsp;                    }
<b class="nc"><i>2007</i>&nbsp;</b>
<i>2008</i>&nbsp;                    List name1 = this.getMimeContents(this.info.bindingOperation.getInput(), this.getInputMessage(), param);
<i>2009</i>&nbsp;                    type = this.getAttachmentType(name1, part);
<i>2010</i>&nbsp;                    unboundBlock = new Block(type.getName(), type, part);
<i>2011</i>&nbsp;                    request.addAttachmentBlock(unboundBlock);
<b class="nc"><i>2012</i>&nbsp;                    param1 = ModelerUtils.createParameter(part.getName(), type, unboundBlock);</b>
<i>2013</i>&nbsp;                    if(param1 != null) {
<b class="nc"><i>2014</i>&nbsp;                        ((List)parameters).add(param1);</b>
<i>2015</i>&nbsp;                    }
<i>2016</i>&nbsp;                } else if(ModelerUtils.isUnbound(part)) {
<i>2017</i>&nbsp;                    if(parameters == null) {
<b class="nc"><i>2018</i>&nbsp;                        parameters = new ArrayList();</b>
<i>2019</i>&nbsp;                    }
<b class="nc"><i>2020</i>&nbsp;</b>
<i>2021</i>&nbsp;                    name = part.getDescriptor();
<i>2022</i>&nbsp;                    type = this.getJAXBType(part);
<i>2023</i>&nbsp;                    unboundBlock = new Block(name, type, part);
<i>2024</i>&nbsp;                    request.addUnboundBlock(unboundBlock);
<i>2025</i>&nbsp;                    param1 = ModelerUtils.createParameter(part.getName(), type, unboundBlock);
<i>2026</i>&nbsp;                    if(param1 != null) {
<i>2027</i>&nbsp;                        ((List)parameters).add(param1);
<i>2028</i>&nbsp;                    }
<i>2029</i>&nbsp;                }
<b class="nc"><i>2030</i>&nbsp;            }</b>
<b class="nc"><i>2031</i>&nbsp;        }</b>
<b class="nc"><i>2032</i>&nbsp;</b>
<b class="nc"><i>2033</i>&nbsp;        i$ = ((List)parameters).iterator();</b>
<b class="nc"><i>2034</i>&nbsp;</b>
<i>2035</i>&nbsp;        while(i$.hasNext()) {
<i>2036</i>&nbsp;            Parameter param2 = (Parameter)i$.next();
<b class="nc"><i>2037</i>&nbsp;            this.setCustomizedParameterName(this.info.portTypeOperation, message, message.getPart(param2.getName()), param2, false);</b>
<b class="nc"><i>2038</i>&nbsp;        }</b>
<i>2039</i>&nbsp;
<b class="nc"><i>2040</i>&nbsp;        return (List)parameters;</b>
<b class="nc"><i>2041</i>&nbsp;    }</b>
<b class="nc"><i>2042</i>&nbsp;</b>
<i>2043</i>&nbsp;    private String getJavaTypeForMimeType(String mimeType) {
<i>2044</i>&nbsp;        return !mimeType.equals(&quot;image/jpeg&quot;) &amp;&amp; !mimeType.equals(&quot;image/gif&quot;)?(!mimeType.equals(&quot;text/xml&quot;) &amp;&amp; !mimeType.equals(&quot;application/xml&quot;)?&quot;javax.activation.DataHandler&quot;:&quot;javax.xml.transform.Source&quot;):&quot;java.awt.Image&quot;;
<b class="nc"><i>2045</i>&nbsp;    }</b>
<i>2046</i>&nbsp;
<i>2047</i>&nbsp;    private JAXBType getAttachmentType(List&lt;MIMEContent&gt; mimeContents, MessagePart part) {
<i>2048</i>&nbsp;        if(!this.enableMimeContent()) {
<i>2049</i>&nbsp;            return this.getJAXBType(part);
<b class="nc"><i>2050</i>&nbsp;        } else {</b>
<b class="nc"><i>2051</i>&nbsp;            List mimeTypes = this.getAlternateMimeTypes(mimeContents);</b>
<b class="nc"><i>2052</i>&nbsp;            String javaType;</b>
<b class="nc"><i>2053</i>&nbsp;            if(mimeTypes.size() &gt; 1) {</b>
<b class="nc"><i>2054</i>&nbsp;                javaType = &quot;javax.activation.DataHandler&quot;;</b>
<b class="nc"><i>2055</i>&nbsp;            } else {</b>
<i>2056</i>&nbsp;                javaType = this.getJavaTypeForMimeType((String)mimeTypes.get(0));
<i>2057</i>&nbsp;            }
<i>2058</i>&nbsp;
<b class="nc"><i>2059</i>&nbsp;            S2JJAXBModel jaxbModel = this.getJAXBModelBuilder().getJAXBModel().getS2JJAXBModel();</b>
<b class="nc"><i>2060</i>&nbsp;            JClass jt = this.options.getCodeModel().ref(javaType);</b>
<b class="nc"><i>2061</i>&nbsp;            QName desc = part.getDescriptor();</b>
<b class="nc"><i>2062</i>&nbsp;            TypeAndAnnotation typeAnno = null;</b>
<b class="nc"><i>2063</i>&nbsp;            if(part.getDescriptorKind() == SchemaKinds.XSD_TYPE) {</b>
<b class="nc"><i>2064</i>&nbsp;                typeAnno = jaxbModel.getJavaType(desc);</b>
<i>2065</i>&nbsp;                desc = new QName(&quot;&quot;, part.getName());
<i>2066</i>&nbsp;            } else if(part.getDescriptorKind() == SchemaKinds.XSD_ELEMENT) {
<i>2067</i>&nbsp;                typeAnno = this.getJAXBModelBuilder().getElementTypeAndAnn(desc);
<b class="nc"><i>2068</i>&nbsp;                if(typeAnno == null) {</b>
<b class="nc"><i>2069</i>&nbsp;                    this.error(part, ModelerMessages.WSDLMODELER_JAXB_JAVATYPE_NOTFOUND(part.getDescriptor(), part.getName()));</b>
<b class="nc"><i>2070</i>&nbsp;                }</b>
<b class="nc"><i>2071</i>&nbsp;</b>
<b class="nc"><i>2072</i>&nbsp;                Iterator mimeTypeIter = mimeTypes.iterator();</b>
<i>2073</i>&nbsp;
<b class="nc"><i>2074</i>&nbsp;                while(mimeTypeIter.hasNext()) {</b>
<i>2075</i>&nbsp;                    String mimeType = (String)mimeTypeIter.next();
<i>2076</i>&nbsp;                    if(!mimeType.equals(&quot;text/xml&quot;) &amp;&amp; !mimeType.equals(&quot;application/xml&quot;)) {
<i>2077</i>&nbsp;                        this.warning(part, ModelerMessages.MIMEMODELER_ELEMENT_PART_INVALID_ELEMENT_MIME_TYPE(part.getName(), mimeType));
<i>2078</i>&nbsp;                    }
<i>2079</i>&nbsp;                }
<i>2080</i>&nbsp;            }
<i>2081</i>&nbsp;
<i>2082</i>&nbsp;            if(typeAnno == null) {
<b class="nc"><i>2083</i>&nbsp;                this.error(part, ModelerMessages.WSDLMODELER_JAXB_JAVATYPE_NOTFOUND(desc, part.getName()));</b>
<i>2084</i>&nbsp;            }
<i>2085</i>&nbsp;
<b class="nc"><i>2086</i>&nbsp;            return new JAXBType(desc, new JavaSimpleType(new JAXBTypeAndAnnotation(typeAnno, jt)), (JAXBMapping)null, this.getJAXBModelBuilder().getJAXBModel());</b>
<b class="nc"><i>2087</i>&nbsp;        }</b>
<b class="nc"><i>2088</i>&nbsp;    }</b>
<b class="nc"><i>2089</i>&nbsp;</b>
<b class="nc"><i>2090</i>&nbsp;    protected void buildJAXBModel(WSDLDocument wsdlDocument) {</b>
<b class="nc"><i>2091</i>&nbsp;        JAXBModelBuilder jaxbModelBuilder = new JAXBModelBuilder(this.options, this.classNameCollector, this.forest, this.errReceiver);</b>
<b class="nc"><i>2092</i>&nbsp;        if(this.explicitDefaultPackage != null) {</b>
<b class="nc"><i>2093</i>&nbsp;            jaxbModelBuilder.getJAXBSchemaCompiler().forcePackageName(this.options.defaultPackage);</b>
<b class="nc"><i>2094</i>&nbsp;        } else {</b>
<b class="nc"><i>2095</i>&nbsp;            this.options.defaultPackage = this.getJavaPackage();</b>
<b class="nc"><i>2096</i>&nbsp;        }</b>
<b class="nc"><i>2097</i>&nbsp;</b>
<i>2098</i>&nbsp;        List schemas = PseudoSchemaBuilder.build(this, this.options, this.errReceiver);
<i>2099</i>&nbsp;        Iterator i$ = schemas.iterator();
<i>2100</i>&nbsp;
<b class="nc"><i>2101</i>&nbsp;        while(i$.hasNext()) {</b>
<i>2102</i>&nbsp;            InputSource schema = (InputSource)i$.next();
<i>2103</i>&nbsp;            jaxbModelBuilder.getJAXBSchemaCompiler().parseSchema(schema);
<i>2104</i>&nbsp;        }
<b class="nc"><i>2105</i>&nbsp;</b>
<b class="nc"><i>2106</i>&nbsp;        jaxbModelBuilder.bind();</b>
<b class="nc"><i>2107</i>&nbsp;        this.jaxbModelBuilder = jaxbModelBuilder;</b>
<i>2108</i>&nbsp;    }
<i>2109</i>&nbsp;
<b class="nc"><i>2110</i>&nbsp;    protected String getJavaPackage() {</b>
<b class="nc"><i>2111</i>&nbsp;        String jaxwsPackage = null;</b>
<b class="nc"><i>2112</i>&nbsp;        JAXWSBinding jaxwsCustomization = (JAXWSBinding)getExtensionOfType(this.document.getDefinitions(), JAXWSBinding.class);</b>
<b class="nc"><i>2113</i>&nbsp;        if(jaxwsCustomization != null &amp;&amp; jaxwsCustomization.getJaxwsPackage() != null) {</b>
<b class="nc"><i>2114</i>&nbsp;            jaxwsPackage = jaxwsCustomization.getJaxwsPackage().getName();</b>
<b class="nc"><i>2115</i>&nbsp;        }</b>
<b class="nc"><i>2116</i>&nbsp;</b>
<b class="nc"><i>2117</i>&nbsp;        if(jaxwsPackage != null) {</b>
<b class="nc"><i>2118</i>&nbsp;            return jaxwsPackage;</b>
<b class="nc"><i>2119</i>&nbsp;        } else {</b>
<b class="nc"><i>2120</i>&nbsp;            String wsdlUri = this.document.getDefinitions().getTargetNamespaceURI();</b>
<b class="nc"><i>2121</i>&nbsp;            return XJC.getDefaultPackageName(wsdlUri);</b>
<b class="nc"><i>2122</i>&nbsp;        }</b>
<b class="nc"><i>2123</i>&nbsp;    }</b>
<i>2124</i>&nbsp;
<b class="nc"><i>2125</i>&nbsp;    protected void createJavaInterfaceForProviderPort(com.sun.tools.internal.ws.processor.model.Port port) {</b>
<b class="nc"><i>2126</i>&nbsp;        String interfaceName = &quot;javax.xml.ws.Provider&quot;;</b>
<b class="nc"><i>2127</i>&nbsp;        JavaInterface intf = new JavaInterface(interfaceName);</b>
<b class="nc"><i>2128</i>&nbsp;        port.setJavaInterface(intf);</b>
<i>2129</i>&nbsp;    }
<i>2130</i>&nbsp;
<b class="nc"><i>2131</i>&nbsp;    protected void createJavaInterfaceForPort(com.sun.tools.internal.ws.processor.model.Port port, boolean isProvider) {</b>
<i>2132</i>&nbsp;        if(isProvider) {
<i>2133</i>&nbsp;            this.createJavaInterfaceForProviderPort(port);
<b class="nc"><i>2134</i>&nbsp;        } else {</b>
<b class="nc"><i>2135</i>&nbsp;            String interfaceName = this.getJavaNameOfSEI(port);</b>
<b class="nc"><i>2136</i>&nbsp;            if(this.isConflictingPortClassName(interfaceName)) {</b>
<b class="nc"><i>2137</i>&nbsp;                interfaceName = interfaceName + &quot;_PortType&quot;;</b>
<b class="nc"><i>2138</i>&nbsp;            }</b>
<i>2139</i>&nbsp;
<b class="nc"><i>2140</i>&nbsp;            JavaInterface intf = new JavaInterface(interfaceName);</b>
<b class="nc"><i>2141</i>&nbsp;            Iterator i$ = port.getOperations().iterator();</b>
<b class="nc"><i>2142</i>&nbsp;</b>
<b class="nc"><i>2143</i>&nbsp;            while(i$.hasNext()) {</b>
<b class="nc"><i>2144</i>&nbsp;                Operation operation = (Operation)i$.next();</b>
<b class="nc"><i>2145</i>&nbsp;                this.createJavaMethodForOperation(port, operation, intf);</b>
<b class="nc"><i>2146</i>&nbsp;                Iterator i$1 = operation.getJavaMethod().getParametersList().iterator();</b>
<b class="nc"><i>2147</i>&nbsp;</b>
<b class="nc"><i>2148</i>&nbsp;                while(i$1.hasNext()) {</b>
<b class="nc"><i>2149</i>&nbsp;                    JavaParameter jParam = (JavaParameter)i$1.next();</b>
<i>2150</i>&nbsp;                    Parameter param = jParam.getParameter();
<i>2151</i>&nbsp;                    if(param.getCustomName() != null) {
<b class="nc"><i>2152</i>&nbsp;                        jParam.setName(param.getCustomName());</b>
<b class="nc"><i>2153</i>&nbsp;                    }</b>
<b class="nc"><i>2154</i>&nbsp;                }</b>
<i>2155</i>&nbsp;            }
<b class="nc"><i>2156</i>&nbsp;</b>
<i>2157</i>&nbsp;            port.setJavaInterface(intf);
<i>2158</i>&nbsp;        }
<i>2159</i>&nbsp;    }
<b class="nc"><i>2160</i>&nbsp;</b>
<b class="nc"><i>2161</i>&nbsp;    protected String getServiceInterfaceName(QName serviceQName, Service wsdlService) {</b>
<b class="nc"><i>2162</i>&nbsp;        String serviceName = wsdlService.getName();</b>
<b class="nc"><i>2163</i>&nbsp;        JAXWSBinding jaxwsCust = (JAXWSBinding)getExtensionOfType(wsdlService, JAXWSBinding.class);</b>
<i>2164</i>&nbsp;        if(jaxwsCust != null &amp;&amp; jaxwsCust.getClassName() != null) {
<b class="nc"><i>2165</i>&nbsp;            CustomName name = jaxwsCust.getClassName();</b>
<i>2166</i>&nbsp;            if(name != null &amp;&amp; !name.getName().equals(&quot;&quot;)) {
<i>2167</i>&nbsp;                return this.makePackageQualified(name.getName());
<i>2168</i>&nbsp;            }
<b class="nc"><i>2169</i>&nbsp;        }</b>
<b class="nc"><i>2170</i>&nbsp;</b>
<i>2171</i>&nbsp;        return this.makePackageQualified(JAXBRIContext.mangleNameToClassName(serviceName));
<b class="nc"><i>2172</i>&nbsp;    }</b>
<b class="nc"><i>2173</i>&nbsp;</b>
<b class="nc"><i>2174</i>&nbsp;    protected String getJavaNameOfSEI(com.sun.tools.internal.ws.processor.model.Port port) {</b>
<b class="nc"><i>2175</i>&nbsp;        QName portTypeName = (QName)port.getProperty(&quot;com.sun.xml.internal.ws.processor.model.WSDLPortTypeName&quot;);</b>
<i>2176</i>&nbsp;        PortType pt = (PortType)this.document.find(Kinds.PORT_TYPE, portTypeName);
<b class="nc"><i>2177</i>&nbsp;        port.portTypes.put(portTypeName, pt);</b>
<i>2178</i>&nbsp;        JAXWSBinding jaxwsCust = (JAXWSBinding)getExtensionOfType(pt, JAXWSBinding.class);
<i>2179</i>&nbsp;        if(jaxwsCust != null &amp;&amp; jaxwsCust.getClassName() != null) {
<b class="nc"><i>2180</i>&nbsp;            CustomName interfaceName = jaxwsCust.getClassName();</b>
<b class="nc"><i>2181</i>&nbsp;            if(interfaceName != null &amp;&amp; !interfaceName.getName().equals(&quot;&quot;)) {</b>
<b class="nc"><i>2182</i>&nbsp;                return this.makePackageQualified(interfaceName.getName());</b>
<b class="nc"><i>2183</i>&nbsp;            }</b>
<b class="nc"><i>2184</i>&nbsp;        }</b>
<i>2185</i>&nbsp;
<b class="nc"><i>2186</i>&nbsp;        String interfaceName1;</b>
<b class="nc"><i>2187</i>&nbsp;        if(portTypeName != null) {</b>
<b class="nc"><i>2188</i>&nbsp;            interfaceName1 = this.makePackageQualified(JAXBRIContext.mangleNameToClassName(portTypeName.getLocalPart()));</b>
<b class="nc"><i>2189</i>&nbsp;        } else {</b>
<b class="nc"><i>2190</i>&nbsp;            interfaceName1 = this.makePackageQualified(JAXBRIContext.mangleNameToClassName(port.getName().getLocalPart()));</b>
<b class="nc"><i>2191</i>&nbsp;        }</b>
<b class="nc"><i>2192</i>&nbsp;</b>
<i>2193</i>&nbsp;        return interfaceName1;
<b class="nc"><i>2194</i>&nbsp;    }</b>
<b class="nc"><i>2195</i>&nbsp;</b>
<b class="nc"><i>2196</i>&nbsp;    private void createJavaMethodForAsyncOperation(com.sun.tools.internal.ws.processor.model.Port port, Operation operation, JavaInterface intf) {</b>
<i>2197</i>&nbsp;        String candidateName = this.getJavaNameForOperation(operation);
<i>2198</i>&nbsp;        JavaMethod method = new JavaMethod(candidateName, this.options, this.errReceiver);
<i>2199</i>&nbsp;        Request request = operation.getRequest();
<i>2200</i>&nbsp;        Iterator requestBodyBlocks = request.getBodyBlocks();
<i>2201</i>&nbsp;        Block var10000;
<i>2202</i>&nbsp;        if(requestBodyBlocks.hasNext()) {
<i>2203</i>&nbsp;            var10000 = (Block)request.getBodyBlocks().next();
<i>2204</i>&nbsp;        } else {
<i>2205</i>&nbsp;            var10000 = null;
<b class="nc"><i>2206</i>&nbsp;        }</b>
<i>2207</i>&nbsp;
<b class="nc"><i>2208</i>&nbsp;        Response response = operation.getResponse();</b>
<i>2209</i>&nbsp;        Iterator responseBodyBlocks = null;
<b class="nc"><i>2210</i>&nbsp;        if(response != null) {</b>
<b class="nc"><i>2211</i>&nbsp;            responseBodyBlocks = response.getBodyBlocks();</b>
<i>2212</i>&nbsp;            if(responseBodyBlocks.hasNext()) {
<b class="nc"><i>2213</i>&nbsp;                var10000 = (Block)response.getBodyBlocks().next();</b>
<i>2214</i>&nbsp;            } else {
<i>2215</i>&nbsp;                var10000 = null;
<i>2216</i>&nbsp;            }
<i>2217</i>&nbsp;        }
<b class="nc"><i>2218</i>&nbsp;</b>
<i>2219</i>&nbsp;        String signature = candidateName;
<i>2220</i>&nbsp;
<i>2221</i>&nbsp;        Parameter resultParameter;
<i>2222</i>&nbsp;        JavaType returnType;
<b class="nc"><i>2223</i>&nbsp;        for(Iterator resultParameterName = request.getParameters(); resultParameterName.hasNext(); signature = signature + &quot;%&quot; + returnType.getName()) {</b>
<b class="nc"><i>2224</i>&nbsp;            resultParameter = (Parameter)resultParameterName.next();</b>
<i>2225</i>&nbsp;            if(resultParameter.getJavaParameter() != null) {
<b class="nc"><i>2226</i>&nbsp;                this.error(operation.getEntity(), ModelerMessages.WSDLMODELER_INVALID_OPERATION(operation.getName().getLocalPart()));</b>
<i>2227</i>&nbsp;            }
<i>2228</i>&nbsp;
<i>2229</i>&nbsp;            returnType = resultParameter.getType().getJavaType();
<b class="nc"><i>2230</i>&nbsp;            JavaParameter javaParameter = new JavaParameter(JAXBRIContext.mangleNameToVariableName(resultParameter.getName()), returnType, resultParameter, resultParameter.getLinkedParameter() != null);</b>
<b class="nc"><i>2231</i>&nbsp;            if(javaParameter.isHolder()) {</b>
<b class="nc"><i>2232</i>&nbsp;                javaParameter.setHolderName(Holder.class.getName());</b>
<i>2233</i>&nbsp;            }
<b class="nc"><i>2234</i>&nbsp;</b>
<b class="nc"><i>2235</i>&nbsp;            method.addParameter(javaParameter);</b>
<i>2236</i>&nbsp;            resultParameter.setJavaParameter(javaParameter);
<i>2237</i>&nbsp;        }
<i>2238</i>&nbsp;
<b class="nc"><i>2239</i>&nbsp;        if(response != null) {</b>
<b class="nc"><i>2240</i>&nbsp;            String resultParameterName1 = (String)operation.getProperty(&quot;com.sun.xml.internal.ws.processor.modeler.wsdl.resultParameter&quot;);</b>
<b class="nc"><i>2241</i>&nbsp;            resultParameter = response.getParameterByName(resultParameterName1);</b>
<b class="nc"><i>2242</i>&nbsp;            returnType = resultParameter.getType().getJavaType();</b>
<i>2243</i>&nbsp;            method.setReturnType(returnType);
<b class="nc"><i>2244</i>&nbsp;        }</b>
<b class="nc"><i>2245</i>&nbsp;</b>
<i>2246</i>&nbsp;        operation.setJavaMethod(method);
<b class="nc"><i>2247</i>&nbsp;        intf.addMethod(method);</b>
<b class="nc"><i>2248</i>&nbsp;    }</b>
<i>2249</i>&nbsp;
<i>2250</i>&nbsp;    protected void createJavaMethodForOperation(com.sun.tools.internal.ws.processor.model.Port port, Operation operation, JavaInterface intf) {
<i>2251</i>&nbsp;        if(operation instanceof AsyncOperation) {
<i>2252</i>&nbsp;            this.createJavaMethodForAsyncOperation(port, operation, intf);
<b class="nc"><i>2253</i>&nbsp;        } else {</b>
<b class="nc"><i>2254</i>&nbsp;            String candidateName = this.getJavaNameForOperation(operation);</b>
<b class="nc"><i>2255</i>&nbsp;            JavaMethod method = new JavaMethod(candidateName, this.options, this.errReceiver);</b>
<i>2256</i>&nbsp;            Request request = operation.getRequest();
<i>2257</i>&nbsp;            Parameter returnParam = (Parameter)operation.getProperty(&quot;com.sun.xml.internal.ws.processor.modeler.wsdl.resultParameter&quot;);
<i>2258</i>&nbsp;            if(returnParam != null) {
<b class="nc"><i>2259</i>&nbsp;                JavaType parameterOrder = returnParam.getType().getJavaType();</b>
<b class="nc"><i>2260</i>&nbsp;                method.setReturnType(parameterOrder);</b>
<i>2261</i>&nbsp;            } else {
<i>2262</i>&nbsp;                JavaSimpleType parameterOrder2 = (new JavaSimpleTypeCreator()).VOID_JAVATYPE;
<b class="nc"><i>2263</i>&nbsp;                method.setReturnType(parameterOrder2);</b>
<i>2264</i>&nbsp;            }
<b class="nc"><i>2265</i>&nbsp;</b>
<b class="nc"><i>2266</i>&nbsp;            List parameterOrder1 = (List)operation.getProperty(&quot;com.sun.xml.internal.ws.processor.modeler.wsdl.parameterOrder&quot;);</b>
<i>2267</i>&nbsp;            Iterator opName = parameterOrder1.iterator();
<i>2268</i>&nbsp;
<b class="nc"><i>2269</i>&nbsp;            while(opName.hasNext()) {</b>
<b class="nc"><i>2270</i>&nbsp;                Parameter javaException = (Parameter)opName.next();</b>
<b class="nc"><i>2271</i>&nbsp;                JavaType fault = javaException.getType().getJavaType();</b>
<i>2272</i>&nbsp;                String iter = javaException.getCustomName() != null?javaException.getCustomName():javaException.getName();
<i>2273</i>&nbsp;                iter = JAXBRIContext.mangleNameToVariableName(iter);
<i>2274</i>&nbsp;                if(Names.isJavaReservedWord(iter)) {
<i>2275</i>&nbsp;                    iter = &quot;_&quot; + iter;
<b class="nc"><i>2276</i>&nbsp;                }</b>
<b class="nc"><i>2277</i>&nbsp;</b>
<b class="nc"><i>2278</i>&nbsp;                JavaParameter javaParameter = new JavaParameter(iter, fault, javaException, javaException.isINOUT() || javaException.isOUT());</b>
<b class="nc"><i>2279</i>&nbsp;                if(javaParameter.isHolder()) {</b>
<b class="nc"><i>2280</i>&nbsp;                    javaParameter.setHolderName(Holder.class.getName());</b>
<i>2281</i>&nbsp;                }
<i>2282</i>&nbsp;
<b class="nc"><i>2283</i>&nbsp;                method.addParameter(javaParameter);</b>
<i>2284</i>&nbsp;                javaException.setJavaParameter(javaParameter);
<i>2285</i>&nbsp;            }
<i>2286</i>&nbsp;
<b class="nc"><i>2287</i>&nbsp;            operation.setJavaMethod(method);</b>
<b class="nc"><i>2288</i>&nbsp;            intf.addMethod(method);</b>
<b class="nc"><i>2289</i>&nbsp;            String opName1 = JAXBRIContext.mangleNameToVariableName(operation.getName().getLocalPart());</b>
<b class="nc"><i>2290</i>&nbsp;            Iterator javaException1 = operation.getFaults();</b>
<b class="nc"><i>2291</i>&nbsp;</b>
<b class="nc"><i>2292</i>&nbsp;            com.sun.tools.internal.ws.processor.model.Fault fault1;</b>
<i>2293</i>&nbsp;            while(javaException1 != null &amp;&amp; javaException1.hasNext()) {
<b class="nc"><i>2294</i>&nbsp;                fault1 = (com.sun.tools.internal.ws.processor.model.Fault)javaException1.next();</b>
<b class="nc"><i>2295</i>&nbsp;                this.createJavaExceptionFromLiteralType(fault1, port, opName1);</b>
<b class="nc"><i>2296</i>&nbsp;            }</b>
<i>2297</i>&nbsp;
<b class="nc"><i>2298</i>&nbsp;            Iterator iter1 = operation.getFaults();</b>
<i>2299</i>&nbsp;
<b class="nc"><i>2300</i>&nbsp;            while(iter1.hasNext()) {</b>
<i>2301</i>&nbsp;                fault1 = (com.sun.tools.internal.ws.processor.model.Fault)iter1.next();
<i>2302</i>&nbsp;                JavaException javaException2 = fault1.getJavaException();
<i>2303</i>&nbsp;                method.addException(javaException2.getName());
<b class="nc"><i>2304</i>&nbsp;            }</b>
<i>2305</i>&nbsp;
<i>2306</i>&nbsp;        }
<b class="nc"><i>2307</i>&nbsp;    }</b>
<i>2308</i>&nbsp;
<i>2309</i>&nbsp;    protected boolean createJavaExceptionFromLiteralType(com.sun.tools.internal.ws.processor.model.Fault fault, com.sun.tools.internal.ws.processor.model.Port port, String operationName) {
<i>2310</i>&nbsp;        JAXBType faultType = (JAXBType)fault.getBlock().getType();
<b class="nc"><i>2311</i>&nbsp;        String exceptionName = fault.getName();</b>
<b class="nc"><i>2312</i>&nbsp;        JAXBStructuredType jaxbStruct = new JAXBStructuredType(new QName(fault.getBlock().getName().getNamespaceURI(), fault.getName()));</b>
<b class="nc"><i>2313</i>&nbsp;        QName memberName = fault.getElementName();</b>
<b class="nc"><i>2314</i>&nbsp;        JAXBElementMember jaxbMember = new JAXBElementMember(memberName, faultType);</b>
<b class="nc"><i>2315</i>&nbsp;        String javaMemberName = this.getLiteralJavaMemberName(fault);</b>
<b class="nc"><i>2316</i>&nbsp;        JavaStructureMember javaMember = new JavaStructureMember(javaMemberName, faultType.getJavaType(), jaxbMember);</b>
<i>2317</i>&nbsp;        jaxbMember.setJavaStructureMember(javaMember);
<i>2318</i>&nbsp;        javaMember.setReadMethod(Names.getJavaMemberReadMethod(javaMember));
<i>2319</i>&nbsp;        javaMember.setInherited(false);
<b class="nc"><i>2320</i>&nbsp;        jaxbMember.setJavaStructureMember(javaMember);</b>
<b class="nc"><i>2321</i>&nbsp;        jaxbStruct.add(jaxbMember);</b>
<i>2322</i>&nbsp;        if(this.isConflictingExceptionClassName(exceptionName)) {
<b class="nc"><i>2323</i>&nbsp;            exceptionName = exceptionName + &quot;_Exception&quot;;</b>
<i>2324</i>&nbsp;        }
<i>2325</i>&nbsp;
<i>2326</i>&nbsp;        JavaException existingJavaException = (JavaException)this._javaExceptions.get(exceptionName);
<b class="nc"><i>2327</i>&nbsp;        if(existingJavaException != null &amp;&amp; existingJavaException.getName().equals(exceptionName) &amp;&amp; (((JAXBType)existingJavaException.getOwner()).getName().equals(jaxbStruct.getName()) || ModelerUtils.isEquivalentLiteralStructures(jaxbStruct, (JAXBStructuredType)existingJavaException.getOwner()))) {</b>
<i>2328</i>&nbsp;            if(faultType instanceof JAXBStructuredType) {
<i>2329</i>&nbsp;                fault.getBlock().setType((JAXBType)existingJavaException.getOwner());
<b class="nc"><i>2330</i>&nbsp;            }</b>
<i>2331</i>&nbsp;
<i>2332</i>&nbsp;            fault.setJavaException(existingJavaException);
<i>2333</i>&nbsp;            return false;
<i>2334</i>&nbsp;        } else {
<b class="nc"><i>2335</i>&nbsp;            JavaException javaException = new JavaException(exceptionName, false, jaxbStruct);</b>
<b class="nc"><i>2336</i>&nbsp;            javaException.add(javaMember);</b>
<b class="nc"><i>2337</i>&nbsp;            jaxbStruct.setJavaType(javaException);</b>
<b class="nc"><i>2338</i>&nbsp;            this._javaExceptions.put(javaException.getName(), javaException);</b>
<b class="nc"><i>2339</i>&nbsp;            fault.setJavaException(javaException);</b>
<i>2340</i>&nbsp;            return true;
<i>2341</i>&nbsp;        }
<i>2342</i>&nbsp;    }
<i>2343</i>&nbsp;
<b class="nc"><i>2344</i>&nbsp;    protected boolean isRequestResponse() {</b>
<b class="nc"><i>2345</i>&nbsp;        return this.info.portTypeOperation.getStyle() == OperationStyle.REQUEST_RESPONSE;</b>
<i>2346</i>&nbsp;    }
<b class="nc"><i>2347</i>&nbsp;</b>
<b class="nc"><i>2348</i>&nbsp;    protected List&lt;String&gt; getAsynParameterOrder() {</b>
<b class="nc"><i>2349</i>&nbsp;        ArrayList parameterList = new ArrayList();</b>
<i>2350</i>&nbsp;        Message inputMessage = this.getInputMessage();
<i>2351</i>&nbsp;        List inputParts = inputMessage.getParts();
<i>2352</i>&nbsp;        Iterator i$ = inputParts.iterator();
<i>2353</i>&nbsp;
<i>2354</i>&nbsp;        while(i$.hasNext()) {
<i>2355</i>&nbsp;            MessagePart part = (MessagePart)i$.next();
<i>2356</i>&nbsp;            parameterList.add(part.getName());
<b class="nc"><i>2357</i>&nbsp;        }</b>
<b class="nc"><i>2358</i>&nbsp;</b>
<b class="nc"><i>2359</i>&nbsp;        return parameterList;</b>
<i>2360</i>&nbsp;    }
<b class="nc"><i>2361</i>&nbsp;</b>
<b class="nc"><i>2362</i>&nbsp;    protected List&lt;MessagePart&gt; getParameterOrder() {</b>
<i>2363</i>&nbsp;        ArrayList params = new ArrayList();
<i>2364</i>&nbsp;        String parameterOrder = this.info.portTypeOperation.getParameterOrder();
<b class="nc"><i>2365</i>&nbsp;        new ArrayList();</b>
<b class="nc"><i>2366</i>&nbsp;        boolean parameterOrderPresent = false;</b>
<i>2367</i>&nbsp;        Object parameterList;
<i>2368</i>&nbsp;        if(parameterOrder != null &amp;&amp; !parameterOrder.trim().equals(&quot;&quot;)) {
<i>2369</i>&nbsp;            parameterList = XmlUtil.parseTokenList(parameterOrder);
<i>2370</i>&nbsp;            parameterOrderPresent = true;
<i>2371</i>&nbsp;        } else {
<b class="nc"><i>2372</i>&nbsp;            parameterList = new ArrayList();</b>
<b class="nc"><i>2373</i>&nbsp;        }</b>
<i>2374</i>&nbsp;
<b class="nc"><i>2375</i>&nbsp;        Message inputMessage = this.getInputMessage();</b>
<b class="nc"><i>2376</i>&nbsp;        Message outputMessage = this.getOutputMessage();</b>
<i>2377</i>&nbsp;        List outputParts = null;
<b class="nc"><i>2378</i>&nbsp;        List inputParts = inputMessage.getParts();</b>
<b class="nc"><i>2379</i>&nbsp;        Iterator outParts = inputParts.iterator();</b>
<i>2380</i>&nbsp;
<b class="nc"><i>2381</i>&nbsp;        MessagePart i$;</b>
<b class="nc"><i>2382</i>&nbsp;        while(outParts.hasNext()) {</b>
<i>2383</i>&nbsp;            i$ = (MessagePart)outParts.next();
<b class="nc"><i>2384</i>&nbsp;            i$.setMode(Mode.IN);</b>
<i>2385</i>&nbsp;            i$.setReturn(false);
<b class="nc"><i>2386</i>&nbsp;        }</b>
<b class="nc"><i>2387</i>&nbsp;</b>
<i>2388</i>&nbsp;        if(this.isRequestResponse()) {
<i>2389</i>&nbsp;            outputParts = outputMessage.getParts();
<b class="nc"><i>2390</i>&nbsp;            outParts = outputParts.iterator();</b>
<b class="nc"><i>2391</i>&nbsp;</b>
<i>2392</i>&nbsp;            while(outParts.hasNext()) {
<i>2393</i>&nbsp;                i$ = (MessagePart)outParts.next();
<i>2394</i>&nbsp;                i$.setMode(Mode.OUT);
<i>2395</i>&nbsp;                i$.setReturn(false);
<i>2396</i>&nbsp;            }
<i>2397</i>&nbsp;        }
<b class="nc"><i>2398</i>&nbsp;</b>
<b class="nc"><i>2399</i>&nbsp;        Iterator i$2;</b>
<i>2400</i>&nbsp;        if(parameterOrderPresent) {
<i>2401</i>&nbsp;            boolean outParts1 = true;
<b class="nc"><i>2402</i>&nbsp;            i$2 = ((List)parameterList).iterator();</b>
<b class="nc"><i>2403</i>&nbsp;</b>
<b class="nc"><i>2404</i>&nbsp;            Iterator i$1;</b>
<b class="nc"><i>2405</i>&nbsp;            MessagePart part1;</b>
<b class="nc"><i>2406</i>&nbsp;            while(i$2.hasNext()) {</b>
<b class="nc"><i>2407</i>&nbsp;                String part = (String)i$2.next();</b>
<b class="nc"><i>2408</i>&nbsp;                boolean inPart = false;</b>
<b class="nc"><i>2409</i>&nbsp;                i$1 = inputParts.iterator();</b>
<b class="nc"><i>2410</i>&nbsp;</b>
<b class="nc"><i>2411</i>&nbsp;                while(i$1.hasNext()) {</b>
<i>2412</i>&nbsp;                    part1 = (MessagePart)i$1.next();
<b class="nc"><i>2413</i>&nbsp;                    if(part.equals(part1.getName())) {</b>
<b class="nc"><i>2414</i>&nbsp;                        inPart = true;</b>
<b class="nc"><i>2415</i>&nbsp;                        break;</b>
<b class="nc"><i>2416</i>&nbsp;                    }</b>
<b class="nc"><i>2417</i>&nbsp;                }</b>
<i>2418</i>&nbsp;
<i>2419</i>&nbsp;                if(!inPart) {
<b class="nc"><i>2420</i>&nbsp;                    i$1 = outputParts.iterator();</b>
<b class="nc"><i>2421</i>&nbsp;</b>
<i>2422</i>&nbsp;                    while(i$1.hasNext()) {
<b class="nc"><i>2423</i>&nbsp;                        part1 = (MessagePart)i$1.next();</b>
<i>2424</i>&nbsp;                        if(part.equals(part1.getName())) {
<i>2425</i>&nbsp;                            inPart = true;
<i>2426</i>&nbsp;                            break;
<i>2427</i>&nbsp;                        }
<i>2428</i>&nbsp;                    }
<b class="nc"><i>2429</i>&nbsp;                }</b>
<b class="nc"><i>2430</i>&nbsp;</b>
<i>2431</i>&nbsp;                if(!inPart) {
<b class="nc"><i>2432</i>&nbsp;                    this.warning(this.info.operation.getEntity(), ModelerMessages.WSDLMODELER_INVALID_PARAMETERORDER_PARAMETER(part, this.info.operation.getName().getLocalPart()));</b>
<b class="nc"><i>2433</i>&nbsp;                    outParts1 = false;</b>
<b class="nc"><i>2434</i>&nbsp;                }</b>
<b class="nc"><i>2435</i>&nbsp;            }</b>
<b class="nc"><i>2436</i>&nbsp;</b>
<i>2437</i>&nbsp;            ArrayList part2 = new ArrayList();
<b class="nc"><i>2438</i>&nbsp;            ArrayList inPart2 = new ArrayList();</b>
<b class="nc"><i>2439</i>&nbsp;            if(outParts1) {</b>
<b class="nc"><i>2440</i>&nbsp;                i$1 = ((List)parameterList).iterator();</b>
<i>2441</i>&nbsp;
<b class="nc"><i>2442</i>&nbsp;                MessagePart inPart1;</b>
<b class="nc"><i>2443</i>&nbsp;                while(i$1.hasNext()) {</b>
<b class="nc"><i>2444</i>&nbsp;                    String part4 = (String)i$1.next();</b>
<i>2445</i>&nbsp;                    inPart1 = inputMessage.getPart(part4);
<i>2446</i>&nbsp;                    if(inPart1 != null) {
<b class="nc"><i>2447</i>&nbsp;                        params.add(inPart1);</b>
<b class="nc"><i>2448</i>&nbsp;                    } else if(this.isRequestResponse()) {</b>
<b class="nc"><i>2449</i>&nbsp;                        MessagePart outPart = outputMessage.getPart(part4);</b>
<b class="nc"><i>2450</i>&nbsp;                        if(outPart != null) {</b>
<i>2451</i>&nbsp;                            params.add(outPart);
<i>2452</i>&nbsp;                        }
<i>2453</i>&nbsp;                    }
<i>2454</i>&nbsp;                }
<i>2455</i>&nbsp;
<b class="nc"><i>2456</i>&nbsp;                i$1 = inputParts.iterator();</b>
<i>2457</i>&nbsp;
<b class="nc"><i>2458</i>&nbsp;                while(i$1.hasNext()) {</b>
<i>2459</i>&nbsp;                    part1 = (MessagePart)i$1.next();
<i>2460</i>&nbsp;                    if(!((List)parameterList).contains(part1.getName())) {
<i>2461</i>&nbsp;                        part2.add(part1);
<b class="nc"><i>2462</i>&nbsp;                    }</b>
<i>2463</i>&nbsp;                }
<i>2464</i>&nbsp;
<i>2465</i>&nbsp;                if(this.isRequestResponse()) {
<b class="nc"><i>2466</i>&nbsp;                    i$1 = outputParts.iterator();</b>
<b class="nc"><i>2467</i>&nbsp;</b>
<i>2468</i>&nbsp;                    while(i$1.hasNext()) {
<i>2469</i>&nbsp;                        part1 = (MessagePart)i$1.next();
<i>2470</i>&nbsp;                        if(!((List)parameterList).contains(part1.getName())) {
<b class="nc"><i>2471</i>&nbsp;                            inPart1 = inputMessage.getPart(part1.getName());</b>
<b class="nc"><i>2472</i>&nbsp;                            if(inPart1 != null &amp;&amp; inPart1.getDescriptor().equals(part1.getDescriptor())) {</b>
<i>2473</i>&nbsp;                                inPart1.setMode(Mode.INOUT);
<i>2474</i>&nbsp;                            } else {
<i>2475</i>&nbsp;                                inPart2.add(part1);
<b class="nc"><i>2476</i>&nbsp;                            }</b>
<b class="nc"><i>2477</i>&nbsp;                        } else {</b>
<b class="nc"><i>2478</i>&nbsp;                            inPart1 = inputMessage.getPart(part1.getName());</b>
<b class="nc"><i>2479</i>&nbsp;                            if(inPart1 != null &amp;&amp; inPart1.getDescriptor().equals(part1.getDescriptor())) {</b>
<b class="nc"><i>2480</i>&nbsp;                                inPart1.setMode(Mode.INOUT);</b>
<i>2481</i>&nbsp;                            } else if(!params.contains(part1)) {
<b class="nc"><i>2482</i>&nbsp;                                params.add(part1);</b>
<b class="nc"><i>2483</i>&nbsp;                            }</b>
<i>2484</i>&nbsp;                        }
<i>2485</i>&nbsp;                    }
<b class="nc"><i>2486</i>&nbsp;</b>
<b class="nc"><i>2487</i>&nbsp;                    if(inPart2.size() == 1) {</b>
<b class="nc"><i>2488</i>&nbsp;                        MessagePart i$3 = (MessagePart)inPart2.get(0);</b>
<b class="nc"><i>2489</i>&nbsp;                        i$3.setReturn(true);</b>
<i>2490</i>&nbsp;                        params.add(i$3);
<i>2491</i>&nbsp;                        inPart2.clear();
<b class="nc"><i>2492</i>&nbsp;                    }</b>
<b class="nc"><i>2493</i>&nbsp;                }</b>
<i>2494</i>&nbsp;
<b class="nc"><i>2495</i>&nbsp;                i$1 = part2.iterator();</b>
<b class="nc"><i>2496</i>&nbsp;</b>
<i>2497</i>&nbsp;                while(i$1.hasNext()) {
<i>2498</i>&nbsp;                    part1 = (MessagePart)i$1.next();
<i>2499</i>&nbsp;                    params.add(part1);
<i>2500</i>&nbsp;                }
<b class="nc"><i>2501</i>&nbsp;</b>
<b class="nc"><i>2502</i>&nbsp;                i$1 = inPart2.iterator();</b>
<b class="nc"><i>2503</i>&nbsp;</b>
<i>2504</i>&nbsp;                while(i$1.hasNext()) {
<b class="nc"><i>2505</i>&nbsp;                    part1 = (MessagePart)i$1.next();</b>
<i>2506</i>&nbsp;                    params.add(part1);
<b class="nc"><i>2507</i>&nbsp;                }</b>
<b class="nc"><i>2508</i>&nbsp;</b>
<i>2509</i>&nbsp;                return params;
<i>2510</i>&nbsp;            }
<i>2511</i>&nbsp;
<b class="nc"><i>2512</i>&nbsp;            this.warning(this.info.operation.getEntity(), ModelerMessages.WSDLMODELER_INVALID_PARAMETER_ORDER_INVALID_PARAMETER_ORDER(this.info.operation.getName().getLocalPart()));</b>
<i>2513</i>&nbsp;            parameterOrderPresent = false;
<i>2514</i>&nbsp;            ((List)parameterList).clear();
<i>2515</i>&nbsp;        }
<i>2516</i>&nbsp;
<b class="nc"><i>2517</i>&nbsp;        ArrayList outParts2 = new ArrayList();</b>
<b class="nc"><i>2518</i>&nbsp;        i$2 = inputParts.iterator();</b>
<b class="nc"><i>2519</i>&nbsp;</b>
<b class="nc"><i>2520</i>&nbsp;        MessagePart part3;</b>
<b class="nc"><i>2521</i>&nbsp;        while(i$2.hasNext()) {</b>
<i>2522</i>&nbsp;            part3 = (MessagePart)i$2.next();
<b class="nc"><i>2523</i>&nbsp;            params.add(part3);</b>
<i>2524</i>&nbsp;        }
<i>2525</i>&nbsp;
<i>2526</i>&nbsp;        if(this.isRequestResponse()) {
<i>2527</i>&nbsp;            i$2 = outputParts.iterator();
<b class="nc"><i>2528</i>&nbsp;</b>
<b class="nc"><i>2529</i>&nbsp;            while(i$2.hasNext()) {</b>
<b class="nc"><i>2530</i>&nbsp;                part3 = (MessagePart)i$2.next();</b>
<b class="nc"><i>2531</i>&nbsp;                MessagePart inPart3 = inputMessage.getPart(part3.getName());</b>
<b class="nc"><i>2532</i>&nbsp;                if(inPart3 != null &amp;&amp; part3.getDescriptorKind() == inPart3.getDescriptorKind() &amp;&amp; part3.getDescriptor().equals(inPart3.getDescriptor())) {</b>
<b class="nc"><i>2533</i>&nbsp;                    inPart3.setMode(Mode.INOUT);</b>
<b class="nc"><i>2534</i>&nbsp;                } else {</b>
<i>2535</i>&nbsp;                    outParts2.add(part3);
<b class="nc"><i>2536</i>&nbsp;                }</b>
<i>2537</i>&nbsp;            }
<b class="nc"><i>2538</i>&nbsp;</b>
<b class="nc"><i>2539</i>&nbsp;            for(i$2 = outParts2.iterator(); i$2.hasNext(); params.add(part3)) {</b>
<b class="nc"><i>2540</i>&nbsp;                part3 = (MessagePart)i$2.next();</b>
<b class="nc"><i>2541</i>&nbsp;                if(outParts2.size() == 1) {</b>
<i>2542</i>&nbsp;                    part3.setReturn(true);
<b class="nc"><i>2543</i>&nbsp;                }</b>
<b class="nc"><i>2544</i>&nbsp;            }</b>
<b class="nc"><i>2545</i>&nbsp;        }</b>
<i>2546</i>&nbsp;
<b class="nc"><i>2547</i>&nbsp;        return params;</b>
<b class="nc"><i>2548</i>&nbsp;    }</b>
<b class="nc"><i>2549</i>&nbsp;</b>
<b class="nc"><i>2550</i>&nbsp;    protected String getClassName(com.sun.tools.internal.ws.processor.model.Port port, String suffix) {</b>
<b class="nc"><i>2551</i>&nbsp;        String prefix = JAXBRIContext.mangleNameToClassName(port.getName().getLocalPart());</b>
<i>2552</i>&nbsp;        return this.options.defaultPackage + &quot;.&quot; + prefix + suffix;
<i>2553</i>&nbsp;    }
<i>2554</i>&nbsp;
<b class="nc"><i>2555</i>&nbsp;    protected boolean isConflictingServiceClassName(String name) {</b>
<b class="nc"><i>2556</i>&nbsp;        return this.conflictsWithSEIClass(name) || this.conflictsWithJAXBClass(name) || this.conflictsWithExceptionClass(name);</b>
<b class="nc"><i>2557</i>&nbsp;    }</b>
<i>2558</i>&nbsp;
<i>2559</i>&nbsp;    private boolean conflictsWithSEIClass(String name) {
<b class="nc"><i>2560</i>&nbsp;        Set seiNames = this.classNameCollector.getSeiClassNames();</b>
<b class="nc"><i>2561</i>&nbsp;        return seiNames != null &amp;&amp; seiNames.contains(name);</b>
<b class="nc"><i>2562</i>&nbsp;    }</b>
<b class="nc"><i>2563</i>&nbsp;</b>
<b class="nc"><i>2564</i>&nbsp;    private boolean conflictsWithJAXBClass(String name) {</b>
<b class="nc"><i>2565</i>&nbsp;        Set jaxbNames = this.classNameCollector.getJaxbGeneratedClassNames();</b>
<b class="nc"><i>2566</i>&nbsp;        return jaxbNames != null &amp;&amp; jaxbNames.contains(name);</b>
<i>2567</i>&nbsp;    }
<i>2568</i>&nbsp;
<i>2569</i>&nbsp;    private boolean conflictsWithExceptionClass(String name) {
<b class="nc"><i>2570</i>&nbsp;        Set exceptionNames = this.classNameCollector.getExceptionClassNames();</b>
<b class="nc"><i>2571</i>&nbsp;        return exceptionNames != null &amp;&amp; exceptionNames.contains(name);</b>
<b class="nc"><i>2572</i>&nbsp;    }</b>
<b class="nc"><i>2573</i>&nbsp;</b>
<b class="nc"><i>2574</i>&nbsp;    protected boolean isConflictingExceptionClassName(String name) {</b>
<i>2575</i>&nbsp;        return this.conflictsWithSEIClass(name) || this.conflictsWithJAXBClass(name);
<i>2576</i>&nbsp;    }
<i>2577</i>&nbsp;
<b class="nc"><i>2578</i>&nbsp;    protected JAXBModelBuilder getJAXBModelBuilder() {</b>
<b class="nc"><i>2579</i>&nbsp;        return this.jaxbModelBuilder;</b>
<b class="nc"><i>2580</i>&nbsp;    }</b>
<i>2581</i>&nbsp;
<b class="nc"><i>2582</i>&nbsp;    protected boolean validateWSDLBindingStyle(Binding binding) {</b>
<i>2583</i>&nbsp;        SOAPBinding soapBinding = (SOAPBinding)getExtensionOfType(binding, SOAPBinding.class);
<b class="nc"><i>2584</i>&nbsp;        if(soapBinding == null) {</b>
<b class="nc"><i>2585</i>&nbsp;            soapBinding = (SOAPBinding)getExtensionOfType(binding, SOAP12Binding.class);</b>
<i>2586</i>&nbsp;        }
<i>2587</i>&nbsp;
<b class="nc"><i>2588</i>&nbsp;        if(soapBinding == null) {</b>
<b class="nc"><i>2589</i>&nbsp;            return false;</b>
<b class="nc"><i>2590</i>&nbsp;        } else {</b>
<b class="nc"><i>2591</i>&nbsp;            if(soapBinding.getStyle() == null) {</b>
<b class="nc"><i>2592</i>&nbsp;                soapBinding.setStyle(SOAPStyle.DOCUMENT);</b>
<b class="nc"><i>2593</i>&nbsp;            }</b>
<i>2594</i>&nbsp;
<b class="nc"><i>2595</i>&nbsp;            SOAPStyle opStyle = soapBinding.getStyle();</b>
<b class="nc"><i>2596</i>&nbsp;            Iterator iter = binding.operations();</b>
<b class="nc"><i>2597</i>&nbsp;</b>
<b class="nc"><i>2598</i>&nbsp;            while(iter.hasNext()) {</b>
<b class="nc"><i>2599</i>&nbsp;                BindingOperation bindingOperation = (BindingOperation)iter.next();</b>
<i>2600</i>&nbsp;                SOAPOperation soapOperation = (SOAPOperation)getExtensionOfType(bindingOperation, SOAPOperation.class);
<i>2601</i>&nbsp;                if(soapOperation != null) {
<b class="nc"><i>2602</i>&nbsp;                    SOAPStyle currOpStyle = soapOperation.getStyle() != null?soapOperation.getStyle():soapBinding.getStyle();</b>
<i>2603</i>&nbsp;                    if(!currOpStyle.equals(opStyle)) {
<b class="nc"><i>2604</i>&nbsp;                        return false;</b>
<b class="nc"><i>2605</i>&nbsp;                    }</b>
<b class="nc"><i>2606</i>&nbsp;                }</b>
<i>2607</i>&nbsp;            }
<i>2608</i>&nbsp;
<i>2609</i>&nbsp;            return true;
<b class="nc"><i>2610</i>&nbsp;        }</b>
<i>2611</i>&nbsp;    }
<b class="nc"><i>2612</i>&nbsp;</b>
<b class="nc"><i>2613</i>&nbsp;    private void applyWrapperStyleCustomization(com.sun.tools.internal.ws.processor.model.Port port, PortType portType) {</b>
<b class="nc"><i>2614</i>&nbsp;        JAXWSBinding jaxwsBinding = (JAXWSBinding)getExtensionOfType(portType, JAXWSBinding.class);</b>
<i>2615</i>&nbsp;        Boolean wrapperStyle = jaxwsBinding != null?jaxwsBinding.isEnableWrapperStyle():null;
<b class="nc"><i>2616</i>&nbsp;        if(wrapperStyle != null) {</b>
<b class="nc"><i>2617</i>&nbsp;            port.setWrapped(wrapperStyle.booleanValue());</b>
<i>2618</i>&nbsp;        }
<b class="nc"><i>2619</i>&nbsp;</b>
<i>2620</i>&nbsp;    }
<b class="nc"><i>2621</i>&nbsp;</b>
<i>2622</i>&nbsp;    protected static void setDocumentationIfPresent(ModelObject obj, Documentation documentation) {
<b class="nc"><i>2623</i>&nbsp;        if(documentation != null &amp;&amp; documentation.getContent() != null) {</b>
<i>2624</i>&nbsp;            obj.setJavaDoc(documentation.getContent());
<b class="nc"><i>2625</i>&nbsp;        }</b>
<b class="nc"><i>2626</i>&nbsp;</b>
<b class="nc"><i>2627</i>&nbsp;    }</b>
<b class="nc"><i>2628</i>&nbsp;</b>
<i>2629</i>&nbsp;    protected String getJavaNameForOperation(Operation operation) {
<b class="nc"><i>2630</i>&nbsp;        String name = operation.getJavaMethodName();</b>
<i>2631</i>&nbsp;        if(Names.isJavaReservedWord(name)) {
<b class="nc"><i>2632</i>&nbsp;            name = &quot;_&quot; + name;</b>
<b class="nc"><i>2633</i>&nbsp;        }</b>
<b class="nc"><i>2634</i>&nbsp;</b>
<b class="nc"><i>2635</i>&nbsp;        return name;</b>
<b class="nc"><i>2636</i>&nbsp;    }</b>
<i>2637</i>&nbsp;
<i>2638</i>&nbsp;    private void reportError(Entity entity, String formattedMsg, Exception nestedException) {
<i>2639</i>&nbsp;        Locator locator = entity == null?null:entity.getLocator();
<i>2640</i>&nbsp;        SAXParseException2 e = new SAXParseException2(formattedMsg, locator, nestedException);
<b class="nc"><i>2641</i>&nbsp;        this.errReceiver.error(e);</b>
<b class="nc"><i>2642</i>&nbsp;    }</b>
<i>2643</i>&nbsp;
<i>2644</i>&nbsp;    protected static enum StyleAndUse {
<b class="nc"><i>2645</i>&nbsp;        RPC_LITERAL,</b>
<b class="nc"><i>2646</i>&nbsp;        DOC_LITERAL;</b>
<i>2647</i>&nbsp;
<b class="nc"><i>2648</i>&nbsp;        private StyleAndUse() {</b>
<i>2649</i>&nbsp;        }
<i>2650</i>&nbsp;    }
<i>2651</i>&nbsp;}
</div>
</div>

<div class="footer">
    
    <div style="float:right;">generated on 2014-12-21 15:48</div>
</div>
</body>
</html>
